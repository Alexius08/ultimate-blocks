"use strict";var N0=Object.defineProperty,W0=Object.defineProperties;var U0=Object.getOwnPropertyDescriptors;var Tr=Object.getOwnPropertySymbols;var es=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable;var jf=(u,f,i)=>f in u?N0(u,f,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[f]=i,Y=(u,f)=>{for(var i in f||(f={}))es.call(f,i)&&jf(u,i,f[i]);if(Tr)for(var i of Tr(f))ns.call(f,i)&&jf(u,i,f[i]);return u},$e=(u,f)=>W0(u,U0(f));var ts=(u,f)=>{var i={};for(var h in u)es.call(u,h)&&f.indexOf(h)<0&&(i[h]=u[h]);if(u!=null&&Tr)for(var h of Tr(u))f.indexOf(h)<0&&ns.call(u,h)&&(i[h]=u[h]);return i};var rs=(u,f,i)=>{if(!f.has(u))throw TypeError("Cannot "+i)};var nu=(u,f,i)=>(rs(u,f,"read from private field"),i?i.call(u):f.get(u)),tu=(u,f,i)=>{if(f.has(u))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(u):f.set(u,i)},ru=(u,f,i,h)=>(rs(u,f,"write to private field"),h?h.call(u,i):f.set(u,i),i);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const As=require("../.Chunks/e2c2858e.js"),mn=require("@wordpress/data"),lu=require("@wordpress/compose"),Or=require("react/jsx-runtime"),is=require("react"),St=require("@wordpress/hooks"),sn=require("@wordpress/i18n"),$0=require("@wordpress/block-editor");var xt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};const Es=u=>({namespacedWithDispatch:h=>mn.withDispatch((d,x,{select:w})=>{const E=d(u),T=w(u);return h(E,T)}),namespacedWithSelect:h=>mn.withSelect((d,x,w)=>{const E=d(u);return h(E,x,w)})}),G0=(u,f,i)=>{const{namespacedWithDispatch:h,namespacedWithSelect:d}=Es(u);let x=E=>E;f&&(x=d(f));let w=E=>E;return i&&(w=h(i)),lu.compose(x,w)};var Ct;class Ts{constructor(){tu(this,Ct,!1)}isInitialized(){return nu(this,Ct)}_initLogic(){throw new Error("initLogic function is not implemented at extended class")}init(){this.isInitialized()||(this._initLogic.call(this,...arguments),ru(this,Ct,!0))}}Ct=new WeakMap;var Rt;class K0 extends Ts{constructor(){super(...arguments);tu(this,Rt,null)}_initLogic(i){const h=self||global;ru(this,Rt,h[i]||{}),h[i]=void 0}getDataProperty(i,h=null){return nu(this,Rt)[i]||h}}Rt=new WeakMap;const H0=new K0,Ss={filters:{ADD_SUB_COMPONENT:"subComponentAdd"}};function q0(){const u="ub",f={FILTER:"filter",ACTION:"action"};this.hookTypes=Ss;const i=(h,d)=>`${u}.${d}.${h}`;this.applyFilters=(h,d)=>St.applyFilters(i(h,f.FILTER),d),this.addFilter=(h,d,x)=>{St.addFilter(i(h,f.FILTER),d,x)}}const Os=new q0,z0=u=>f=>Or.jsx(u,Y(Y({},f),Os));var ae={},Y0={get exports(){return ae},set exports(u){ae=u}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(u,f){(function(){var i,h="4.17.21",d=200,x="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",w="Expected a function",E="Invalid `variable` option passed into `_.template`",T="__lodash_hash_undefined__",L=500,G="__lodash_placeholder__",D=1,N=2,ee=4,J=1,wn=2,Te=1,xn=2,bu=4,Ge=8,kn=16,Ke=32,Pn=64,Xe=128,jn=256,kr=512,Ks=30,Hs="...",qs=800,zs=16,yu=1,Ys=2,Zs=3,An=1/0,ln=9007199254740991,Xs=17976931348623157e292,Bt=0/0,He=4294967295,Js=He-1,Vs=He>>>1,Qs=[["ary",Xe],["bind",Te],["bindKey",xn],["curry",Ge],["curryRight",kn],["flip",kr],["partial",Ke],["partialRight",Pn],["rearg",jn]],Dn="[object Arguments]",kt="[object Array]",js="[object AsyncFunction]",et="[object Boolean]",nt="[object Date]",ea="[object DOMException]",Pt="[object Error]",Dt="[object Function]",mu="[object GeneratorFunction]",De="[object Map]",tt="[object Number]",na="[object Null]",Je="[object Object]",wu="[object Promise]",ta="[object Proxy]",rt="[object RegExp]",Me="[object Set]",it="[object String]",Mt="[object Symbol]",ra="[object Undefined]",ut="[object WeakMap]",ia="[object WeakSet]",ot="[object ArrayBuffer]",Mn="[object DataView]",Pr="[object Float32Array]",Dr="[object Float64Array]",Mr="[object Int8Array]",Fr="[object Int16Array]",Nr="[object Int32Array]",Wr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",$r="[object Uint16Array]",Gr="[object Uint32Array]",ua=/\b__p \+= '';/g,oa=/\b(__p \+=) '' \+/g,fa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xu=/&(?:amp|lt|gt|quot|#39);/g,Au=/[&<>"']/g,sa=RegExp(xu.source),aa=RegExp(Au.source),la=/<%-([\s\S]+?)%>/g,ca=/<%([\s\S]+?)%>/g,Eu=/<%=([\s\S]+?)%>/g,ha=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pa=/^\w*$/,ga=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/[\\^$.*+?()[\]{}|]/g,da=RegExp(Kr.source),Hr=/^\s+/,_a=/\s/,va=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ba=/\{\n\/\* \[wrapped with (.+)\] \*/,ya=/,? & /,ma=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wa=/[()=,{}\[\]\/\s]/,xa=/\\(\\)?/g,Aa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tu=/\w*$/,Ea=/^[-+]0x[0-9a-f]+$/i,Ta=/^0b[01]+$/i,Sa=/^\[object .+?Constructor\]$/,Oa=/^0o[0-7]+$/i,Ca=/^(?:0|[1-9]\d*)$/,Ra=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,Ia=/['\n\r\u2028\u2029\\]/g,Nt="\\ud800-\\udfff",La="\\u0300-\\u036f",Ba="\\ufe20-\\ufe2f",ka="\\u20d0-\\u20ff",Su=La+Ba+ka,Ou="\\u2700-\\u27bf",Cu="a-z\\xdf-\\xf6\\xf8-\\xff",Pa="\\xac\\xb1\\xd7\\xf7",Da="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ma="\\u2000-\\u206f",Fa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",Iu="\\ufe0e\\ufe0f",Lu=Pa+Da+Ma+Fa,qr="['’]",Na="["+Nt+"]",Bu="["+Lu+"]",Wt="["+Su+"]",ku="\\d+",Wa="["+Ou+"]",Pu="["+Cu+"]",Du="[^"+Nt+Lu+ku+Ou+Cu+Ru+"]",zr="\\ud83c[\\udffb-\\udfff]",Ua="(?:"+Wt+"|"+zr+")",Mu="[^"+Nt+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Zr="[\\ud800-\\udbff][\\udc00-\\udfff]",Fn="["+Ru+"]",Fu="\\u200d",Nu="(?:"+Pu+"|"+Du+")",$a="(?:"+Fn+"|"+Du+")",Wu="(?:"+qr+"(?:d|ll|m|re|s|t|ve))?",Uu="(?:"+qr+"(?:D|LL|M|RE|S|T|VE))?",$u=Ua+"?",Gu="["+Iu+"]?",Ga="(?:"+Fu+"(?:"+[Mu,Yr,Zr].join("|")+")"+Gu+$u+")*",Ka="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ha="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ku=Gu+$u+Ga,qa="(?:"+[Wa,Yr,Zr].join("|")+")"+Ku,za="(?:"+[Mu+Wt+"?",Wt,Yr,Zr,Na].join("|")+")",Ya=RegExp(qr,"g"),Za=RegExp(Wt,"g"),Xr=RegExp(zr+"(?="+zr+")|"+za+Ku,"g"),Xa=RegExp([Fn+"?"+Pu+"+"+Wu+"(?="+[Bu,Fn,"$"].join("|")+")",$a+"+"+Uu+"(?="+[Bu,Fn+Nu,"$"].join("|")+")",Fn+"?"+Nu+"+"+Wu,Fn+"+"+Uu,Ha,Ka,ku,qa].join("|"),"g"),Ja=RegExp("["+Fu+Nt+Su+Iu+"]"),Va=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ja=-1,X={};X[Pr]=X[Dr]=X[Mr]=X[Fr]=X[Nr]=X[Wr]=X[Ur]=X[$r]=X[Gr]=!0,X[Dn]=X[kt]=X[ot]=X[et]=X[Mn]=X[nt]=X[Pt]=X[Dt]=X[De]=X[tt]=X[Je]=X[rt]=X[Me]=X[it]=X[ut]=!1;var Z={};Z[Dn]=Z[kt]=Z[ot]=Z[Mn]=Z[et]=Z[nt]=Z[Pr]=Z[Dr]=Z[Mr]=Z[Fr]=Z[Nr]=Z[De]=Z[tt]=Z[Je]=Z[rt]=Z[Me]=Z[it]=Z[Mt]=Z[Wr]=Z[Ur]=Z[$r]=Z[Gr]=!0,Z[Pt]=Z[Dt]=Z[ut]=!1;var el={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},il=parseFloat,ul=parseInt,Hu=typeof xt=="object"&&xt&&xt.Object===Object&&xt,ol=typeof self=="object"&&self&&self.Object===Object&&self,fe=Hu||ol||Function("return this")(),Jr=f&&!f.nodeType&&f,En=Jr&&!0&&u&&!u.nodeType&&u,qu=En&&En.exports===Jr,Vr=qu&&Hu.process,Se=function(){try{var p=En&&En.require&&En.require("util").types;return p||Vr&&Vr.binding&&Vr.binding("util")}catch(v){}}(),zu=Se&&Se.isArrayBuffer,Yu=Se&&Se.isDate,Zu=Se&&Se.isMap,Xu=Se&&Se.isRegExp,Ju=Se&&Se.isSet,Vu=Se&&Se.isTypedArray;function ye(p,v,_){switch(_.length){case 0:return p.call(v);case 1:return p.call(v,_[0]);case 2:return p.call(v,_[0],_[1]);case 3:return p.call(v,_[0],_[1],_[2])}return p.apply(v,_)}function fl(p,v,_,S){for(var B=-1,K=p==null?0:p.length;++B<K;){var re=p[B];v(S,re,_(re),p)}return S}function Oe(p,v){for(var _=-1,S=p==null?0:p.length;++_<S&&v(p[_],_,p)!==!1;);return p}function sl(p,v){for(var _=p==null?0:p.length;_--&&v(p[_],_,p)!==!1;);return p}function Qu(p,v){for(var _=-1,S=p==null?0:p.length;++_<S;)if(!v(p[_],_,p))return!1;return!0}function cn(p,v){for(var _=-1,S=p==null?0:p.length,B=0,K=[];++_<S;){var re=p[_];v(re,_,p)&&(K[B++]=re)}return K}function Ut(p,v){var _=p==null?0:p.length;return!!_&&Nn(p,v,0)>-1}function Qr(p,v,_){for(var S=-1,B=p==null?0:p.length;++S<B;)if(_(v,p[S]))return!0;return!1}function V(p,v){for(var _=-1,S=p==null?0:p.length,B=Array(S);++_<S;)B[_]=v(p[_],_,p);return B}function hn(p,v){for(var _=-1,S=v.length,B=p.length;++_<S;)p[B+_]=v[_];return p}function jr(p,v,_,S){var B=-1,K=p==null?0:p.length;for(S&&K&&(_=p[++B]);++B<K;)_=v(_,p[B],B,p);return _}function al(p,v,_,S){var B=p==null?0:p.length;for(S&&B&&(_=p[--B]);B--;)_=v(_,p[B],B,p);return _}function ei(p,v){for(var _=-1,S=p==null?0:p.length;++_<S;)if(v(p[_],_,p))return!0;return!1}var ll=ni("length");function cl(p){return p.split("")}function hl(p){return p.match(ma)||[]}function ju(p,v,_){var S;return _(p,function(B,K,re){if(v(B,K,re))return S=K,!1}),S}function $t(p,v,_,S){for(var B=p.length,K=_+(S?1:-1);S?K--:++K<B;)if(v(p[K],K,p))return K;return-1}function Nn(p,v,_){return v===v?El(p,v,_):$t(p,eo,_)}function pl(p,v,_,S){for(var B=_-1,K=p.length;++B<K;)if(S(p[B],v))return B;return-1}function eo(p){return p!==p}function no(p,v){var _=p==null?0:p.length;return _?ri(p,v)/_:Bt}function ni(p){return function(v){return v==null?i:v[p]}}function ti(p){return function(v){return p==null?i:p[v]}}function to(p,v,_,S,B){return B(p,function(K,re,z){_=S?(S=!1,K):v(_,K,re,z)}),_}function gl(p,v){var _=p.length;for(p.sort(v);_--;)p[_]=p[_].value;return p}function ri(p,v){for(var _,S=-1,B=p.length;++S<B;){var K=v(p[S]);K!==i&&(_=_===i?K:_+K)}return _}function ii(p,v){for(var _=-1,S=Array(p);++_<p;)S[_]=v(_);return S}function dl(p,v){return V(v,function(_){return[_,p[_]]})}function ro(p){return p&&p.slice(0,fo(p)+1).replace(Hr,"")}function me(p){return function(v){return p(v)}}function ui(p,v){return V(v,function(_){return p[_]})}function ft(p,v){return p.has(v)}function io(p,v){for(var _=-1,S=p.length;++_<S&&Nn(v,p[_],0)>-1;);return _}function uo(p,v){for(var _=p.length;_--&&Nn(v,p[_],0)>-1;);return _}function _l(p,v){for(var _=p.length,S=0;_--;)p[_]===v&&++S;return S}var vl=ti(el),bl=ti(nl);function yl(p){return"\\"+rl[p]}function ml(p,v){return p==null?i:p[v]}function Wn(p){return Ja.test(p)}function wl(p){return Va.test(p)}function xl(p){for(var v,_=[];!(v=p.next()).done;)_.push(v.value);return _}function oi(p){var v=-1,_=Array(p.size);return p.forEach(function(S,B){_[++v]=[B,S]}),_}function oo(p,v){return function(_){return p(v(_))}}function pn(p,v){for(var _=-1,S=p.length,B=0,K=[];++_<S;){var re=p[_];(re===v||re===G)&&(p[_]=G,K[B++]=_)}return K}function Gt(p){var v=-1,_=Array(p.size);return p.forEach(function(S){_[++v]=S}),_}function Al(p){var v=-1,_=Array(p.size);return p.forEach(function(S){_[++v]=[S,S]}),_}function El(p,v,_){for(var S=_-1,B=p.length;++S<B;)if(p[S]===v)return S;return-1}function Tl(p,v,_){for(var S=_+1;S--;)if(p[S]===v)return S;return S}function Un(p){return Wn(p)?Ol(p):ll(p)}function Fe(p){return Wn(p)?Cl(p):cl(p)}function fo(p){for(var v=p.length;v--&&_a.test(p.charAt(v)););return v}var Sl=ti(tl);function Ol(p){for(var v=Xr.lastIndex=0;Xr.test(p);)++v;return v}function Cl(p){return p.match(Xr)||[]}function Rl(p){return p.match(Xa)||[]}var Il=function p(v){v=v==null?fe:$n.defaults(fe.Object(),v,$n.pick(fe,Qa));var _=v.Array,S=v.Date,B=v.Error,K=v.Function,re=v.Math,z=v.Object,fi=v.RegExp,Ll=v.String,Ce=v.TypeError,Kt=_.prototype,Bl=K.prototype,Gn=z.prototype,Ht=v["__core-js_shared__"],qt=Bl.toString,q=Gn.hasOwnProperty,kl=0,so=function(){var e=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),zt=Gn.toString,Pl=qt.call(z),Dl=fe._,Ml=fi("^"+qt.call(q).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=qu?v.Buffer:i,gn=v.Symbol,Zt=v.Uint8Array,ao=Yt?Yt.allocUnsafe:i,Xt=oo(z.getPrototypeOf,z),lo=z.create,co=Gn.propertyIsEnumerable,Jt=Kt.splice,ho=gn?gn.isConcatSpreadable:i,st=gn?gn.iterator:i,Tn=gn?gn.toStringTag:i,Vt=function(){try{var e=In(z,"defineProperty");return e({},"",{}),e}catch(n){}}(),Fl=v.clearTimeout!==fe.clearTimeout&&v.clearTimeout,Nl=S&&S.now!==fe.Date.now&&S.now,Wl=v.setTimeout!==fe.setTimeout&&v.setTimeout,Qt=re.ceil,jt=re.floor,si=z.getOwnPropertySymbols,Ul=Yt?Yt.isBuffer:i,po=v.isFinite,$l=Kt.join,Gl=oo(z.keys,z),ie=re.max,le=re.min,Kl=S.now,Hl=v.parseInt,go=re.random,ql=Kt.reverse,ai=In(v,"DataView"),at=In(v,"Map"),li=In(v,"Promise"),Kn=In(v,"Set"),lt=In(v,"WeakMap"),ct=In(z,"create"),er=lt&&new lt,Hn={},zl=Ln(ai),Yl=Ln(at),Zl=Ln(li),Xl=Ln(Kn),Jl=Ln(lt),nr=gn?gn.prototype:i,ht=nr?nr.valueOf:i,_o=nr?nr.toString:i;function s(e){if(j(e)&&!k(e)&&!(e instanceof U)){if(e instanceof Re)return e;if(q.call(e,"__wrapped__"))return bf(e)}return new Re(e)}var qn=function(){function e(){}return function(n){if(!Q(n))return{};if(lo)return lo(n);e.prototype=n;var t=new e;return e.prototype=i,t}}();function tr(){}function Re(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}s.templateSettings={escape:la,evaluate:ca,interpolate:Eu,variable:"",imports:{_:s}},s.prototype=tr.prototype,s.prototype.constructor=s,Re.prototype=qn(tr.prototype),Re.prototype.constructor=Re;function U(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function Vl(){var e=new U(this.__wrapped__);return e.__actions__=de(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=de(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=de(this.__views__),e}function Ql(){if(this.__filtered__){var e=new U(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function jl(){var e=this.__wrapped__.value(),n=this.__dir__,t=k(e),r=n<0,o=t?e.length:0,a=ch(0,o,this.__views__),l=a.start,c=a.end,g=c-l,b=r?c:l-1,y=this.__iteratees__,m=y.length,A=0,O=le(g,this.__takeCount__);if(!t||!r&&o==g&&O==g)return Uo(e,this.__actions__);var R=[];e:for(;g--&&A<O;){b+=n;for(var M=-1,I=e[b];++M<m;){var W=y[M],$=W.iteratee,Ae=W.type,ge=$(I);if(Ae==Ys)I=ge;else if(!ge){if(Ae==yu)continue e;break e}}R[A++]=I}return R}U.prototype=qn(tr.prototype),U.prototype.constructor=U;function Sn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function ec(){this.__data__=ct?ct(null):{},this.size=0}function nc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function tc(e){var n=this.__data__;if(ct){var t=n[e];return t===T?i:t}return q.call(n,e)?n[e]:i}function rc(e){var n=this.__data__;return ct?n[e]!==i:q.call(n,e)}function ic(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=ct&&n===i?T:n,this}Sn.prototype.clear=ec,Sn.prototype.delete=nc,Sn.prototype.get=tc,Sn.prototype.has=rc,Sn.prototype.set=ic;function Ve(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function uc(){this.__data__=[],this.size=0}function oc(e){var n=this.__data__,t=rr(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Jt.call(n,t,1),--this.size,!0}function fc(e){var n=this.__data__,t=rr(n,e);return t<0?i:n[t][1]}function sc(e){return rr(this.__data__,e)>-1}function ac(e,n){var t=this.__data__,r=rr(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}Ve.prototype.clear=uc,Ve.prototype.delete=oc,Ve.prototype.get=fc,Ve.prototype.has=sc,Ve.prototype.set=ac;function Qe(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function lc(){this.size=0,this.__data__={hash:new Sn,map:new(at||Ve),string:new Sn}}function cc(e){var n=dr(this,e).delete(e);return this.size-=n?1:0,n}function hc(e){return dr(this,e).get(e)}function pc(e){return dr(this,e).has(e)}function gc(e,n){var t=dr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}Qe.prototype.clear=lc,Qe.prototype.delete=cc,Qe.prototype.get=hc,Qe.prototype.has=pc,Qe.prototype.set=gc;function On(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Qe;++n<t;)this.add(e[n])}function dc(e){return this.__data__.set(e,T),this}function _c(e){return this.__data__.has(e)}On.prototype.add=On.prototype.push=dc,On.prototype.has=_c;function Ne(e){var n=this.__data__=new Ve(e);this.size=n.size}function vc(){this.__data__=new Ve,this.size=0}function bc(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function yc(e){return this.__data__.get(e)}function mc(e){return this.__data__.has(e)}function wc(e,n){var t=this.__data__;if(t instanceof Ve){var r=t.__data__;if(!at||r.length<d-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Qe(r)}return t.set(e,n),this.size=t.size,this}Ne.prototype.clear=vc,Ne.prototype.delete=bc,Ne.prototype.get=yc,Ne.prototype.has=mc,Ne.prototype.set=wc;function vo(e,n){var t=k(e),r=!t&&Bn(e),o=!t&&!r&&yn(e),a=!t&&!r&&!o&&Xn(e),l=t||r||o||a,c=l?ii(e.length,Ll):[],g=c.length;for(var b in e)(n||q.call(e,b))&&!(l&&(b=="length"||o&&(b=="offset"||b=="parent")||a&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||tn(b,g)))&&c.push(b);return c}function bo(e){var n=e.length;return n?e[wi(0,n-1)]:i}function xc(e,n){return _r(de(e),Cn(n,0,e.length))}function Ac(e){return _r(de(e))}function ci(e,n,t){(t!==i&&!We(e[n],t)||t===i&&!(n in e))&&je(e,n,t)}function pt(e,n,t){var r=e[n];(!(q.call(e,n)&&We(r,t))||t===i&&!(n in e))&&je(e,n,t)}function rr(e,n){for(var t=e.length;t--;)if(We(e[t][0],n))return t;return-1}function Ec(e,n,t,r){return dn(e,function(o,a,l){n(r,o,t(o),l)}),r}function yo(e,n){return e&&ze(n,ue(n),e)}function Tc(e,n){return e&&ze(n,ve(n),e)}function je(e,n,t){n=="__proto__"&&Vt?Vt(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function hi(e,n){for(var t=-1,r=n.length,o=_(r),a=e==null;++t<r;)o[t]=a?i:zi(e,n[t]);return o}function Cn(e,n,t){return e===e&&(t!==i&&(e=e<=t?e:t),n!==i&&(e=e>=n?e:n)),e}function Ie(e,n,t,r,o,a){var l,c=n&D,g=n&N,b=n&ee;if(t&&(l=o?t(e,r,o,a):t(e)),l!==i)return l;if(!Q(e))return e;var y=k(e);if(y){if(l=ph(e),!c)return de(e,l)}else{var m=ce(e),A=m==Dt||m==mu;if(yn(e))return Ko(e,c);if(m==Je||m==Dn||A&&!o){if(l=g||A?{}:af(e),!c)return g?th(e,Tc(l,e)):nh(e,yo(l,e))}else{if(!Z[m])return o?e:{};l=gh(e,m,c)}}a||(a=new Ne);var O=a.get(e);if(O)return O;a.set(e,l),Nf(e)?e.forEach(function(I){l.add(Ie(I,n,t,I,e,a))}):Mf(e)&&e.forEach(function(I,W){l.set(W,Ie(I,n,t,W,e,a))});var R=b?g?Bi:Li:g?ve:ue,M=y?i:R(e);return Oe(M||e,function(I,W){M&&(W=I,I=e[W]),pt(l,W,Ie(I,n,t,W,e,a))}),l}function Sc(e){var n=ue(e);return function(t){return mo(t,e,n)}}function mo(e,n,t){var r=t.length;if(e==null)return!r;for(e=z(e);r--;){var o=t[r],a=n[o],l=e[o];if(l===i&&!(o in e)||!a(l))return!1}return!0}function wo(e,n,t){if(typeof e!="function")throw new Ce(w);return mt(function(){e.apply(i,t)},n)}function gt(e,n,t,r){var o=-1,a=Ut,l=!0,c=e.length,g=[],b=n.length;if(!c)return g;t&&(n=V(n,me(t))),r?(a=Qr,l=!1):n.length>=d&&(a=ft,l=!1,n=new On(n));e:for(;++o<c;){var y=e[o],m=t==null?y:t(y);if(y=r||y!==0?y:0,l&&m===m){for(var A=b;A--;)if(n[A]===m)continue e;g.push(y)}else a(n,m,r)||g.push(y)}return g}var dn=Zo(qe),xo=Zo(gi,!0);function Oc(e,n){var t=!0;return dn(e,function(r,o,a){return t=!!n(r,o,a),t}),t}function ir(e,n,t){for(var r=-1,o=e.length;++r<o;){var a=e[r],l=n(a);if(l!=null&&(c===i?l===l&&!xe(l):t(l,c)))var c=l,g=a}return g}function Cc(e,n,t,r){var o=e.length;for(t=P(t),t<0&&(t=-t>o?0:o+t),r=r===i||r>o?o:P(r),r<0&&(r+=o),r=t>r?0:Uf(r);t<r;)e[t++]=n;return e}function Ao(e,n){var t=[];return dn(e,function(r,o,a){n(r,o,a)&&t.push(r)}),t}function se(e,n,t,r,o){var a=-1,l=e.length;for(t||(t=_h),o||(o=[]);++a<l;){var c=e[a];n>0&&t(c)?n>1?se(c,n-1,t,r,o):hn(o,c):r||(o[o.length]=c)}return o}var pi=Xo(),Eo=Xo(!0);function qe(e,n){return e&&pi(e,n,ue)}function gi(e,n){return e&&Eo(e,n,ue)}function ur(e,n){return cn(n,function(t){return rn(e[t])})}function Rn(e,n){n=vn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[Ye(n[t++])];return t&&t==r?e:i}function To(e,n,t){var r=n(e);return k(e)?r:hn(r,t(e))}function he(e){return e==null?e===i?ra:na:Tn&&Tn in z(e)?lh(e):Ah(e)}function di(e,n){return e>n}function Rc(e,n){return e!=null&&q.call(e,n)}function Ic(e,n){return e!=null&&n in z(e)}function Lc(e,n,t){return e>=le(n,t)&&e<ie(n,t)}function _i(e,n,t){for(var r=t?Qr:Ut,o=e[0].length,a=e.length,l=a,c=_(a),g=1/0,b=[];l--;){var y=e[l];l&&n&&(y=V(y,me(n))),g=le(y.length,g),c[l]=!t&&(n||o>=120&&y.length>=120)?new On(l&&y):i}y=e[0];var m=-1,A=c[0];e:for(;++m<o&&b.length<g;){var O=y[m],R=n?n(O):O;if(O=t||O!==0?O:0,!(A?ft(A,R):r(b,R,t))){for(l=a;--l;){var M=c[l];if(!(M?ft(M,R):r(e[l],R,t)))continue e}A&&A.push(R),b.push(O)}}return b}function Bc(e,n,t,r){return qe(e,function(o,a,l){n(r,t(o),a,l)}),r}function dt(e,n,t){n=vn(n,e),e=pf(e,n);var r=e==null?e:e[Ye(Be(n))];return r==null?i:ye(r,e,t)}function So(e){return j(e)&&he(e)==Dn}function kc(e){return j(e)&&he(e)==ot}function Pc(e){return j(e)&&he(e)==nt}function _t(e,n,t,r,o){return e===n?!0:e==null||n==null||!j(e)&&!j(n)?e!==e&&n!==n:Dc(e,n,t,r,_t,o)}function Dc(e,n,t,r,o,a){var l=k(e),c=k(n),g=l?kt:ce(e),b=c?kt:ce(n);g=g==Dn?Je:g,b=b==Dn?Je:b;var y=g==Je,m=b==Je,A=g==b;if(A&&yn(e)){if(!yn(n))return!1;l=!0,y=!1}if(A&&!y)return a||(a=new Ne),l||Xn(e)?of(e,n,t,r,o,a):sh(e,n,g,t,r,o,a);if(!(t&J)){var O=y&&q.call(e,"__wrapped__"),R=m&&q.call(n,"__wrapped__");if(O||R){var M=O?e.value():e,I=R?n.value():n;return a||(a=new Ne),o(M,I,t,r,a)}}return A?(a||(a=new Ne),ah(e,n,t,r,o,a)):!1}function Mc(e){return j(e)&&ce(e)==De}function vi(e,n,t,r){var o=t.length,a=o,l=!r;if(e==null)return!a;for(e=z(e);o--;){var c=t[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){c=t[o];var g=c[0],b=e[g],y=c[1];if(l&&c[2]){if(b===i&&!(g in e))return!1}else{var m=new Ne;if(r)var A=r(b,y,g,e,n,m);if(!(A===i?_t(y,b,J|wn,r,m):A))return!1}}return!0}function Oo(e){if(!Q(e)||bh(e))return!1;var n=rn(e)?Ml:Sa;return n.test(Ln(e))}function Fc(e){return j(e)&&he(e)==rt}function Nc(e){return j(e)&&ce(e)==Me}function Wc(e){return j(e)&&xr(e.length)&&!!X[he(e)]}function Co(e){return typeof e=="function"?e:e==null?be:typeof e=="object"?k(e)?Lo(e[0],e[1]):Io(e):Vf(e)}function bi(e){if(!yt(e))return Gl(e);var n=[];for(var t in z(e))q.call(e,t)&&t!="constructor"&&n.push(t);return n}function Uc(e){if(!Q(e))return xh(e);var n=yt(e),t=[];for(var r in e)r=="constructor"&&(n||!q.call(e,r))||t.push(r);return t}function yi(e,n){return e<n}function Ro(e,n){var t=-1,r=_e(e)?_(e.length):[];return dn(e,function(o,a,l){r[++t]=n(o,a,l)}),r}function Io(e){var n=Pi(e);return n.length==1&&n[0][2]?cf(n[0][0],n[0][1]):function(t){return t===e||vi(t,e,n)}}function Lo(e,n){return Mi(e)&&lf(n)?cf(Ye(e),n):function(t){var r=zi(t,e);return r===i&&r===n?Yi(t,e):_t(n,r,J|wn)}}function or(e,n,t,r,o){e!==n&&pi(n,function(a,l){if(o||(o=new Ne),Q(a))$c(e,n,l,t,or,r,o);else{var c=r?r(Ni(e,l),a,l+"",e,n,o):i;c===i&&(c=a),ci(e,l,c)}},ve)}function $c(e,n,t,r,o,a,l){var c=Ni(e,t),g=Ni(n,t),b=l.get(g);if(b){ci(e,t,b);return}var y=a?a(c,g,t+"",e,n,l):i,m=y===i;if(m){var A=k(g),O=!A&&yn(g),R=!A&&!O&&Xn(g);y=g,A||O||R?k(c)?y=c:ne(c)?y=de(c):O?(m=!1,y=Ko(g,!0)):R?(m=!1,y=Ho(g,!0)):y=[]:wt(g)||Bn(g)?(y=c,Bn(c)?y=$f(c):(!Q(c)||rn(c))&&(y=af(g))):m=!1}m&&(l.set(g,y),o(y,g,r,a,l),l.delete(g)),ci(e,t,y)}function Bo(e,n){var t=e.length;if(t)return n+=n<0?t:0,tn(n,t)?e[n]:i}function ko(e,n,t){n.length?n=V(n,function(a){return k(a)?function(l){return Rn(l,a.length===1?a[0]:a)}:a}):n=[be];var r=-1;n=V(n,me(C()));var o=Ro(e,function(a,l,c){var g=V(n,function(b){return b(a)});return{criteria:g,index:++r,value:a}});return gl(o,function(a,l){return eh(a,l,t)})}function Gc(e,n){return Po(e,n,function(t,r){return Yi(e,r)})}function Po(e,n,t){for(var r=-1,o=n.length,a={};++r<o;){var l=n[r],c=Rn(e,l);t(c,l)&&vt(a,vn(l,e),c)}return a}function Kc(e){return function(n){return Rn(n,e)}}function mi(e,n,t,r){var o=r?pl:Nn,a=-1,l=n.length,c=e;for(e===n&&(n=de(n)),t&&(c=V(e,me(t)));++a<l;)for(var g=0,b=n[a],y=t?t(b):b;(g=o(c,y,g,r))>-1;)c!==e&&Jt.call(c,g,1),Jt.call(e,g,1);return e}function Do(e,n){for(var t=e?n.length:0,r=t-1;t--;){var o=n[t];if(t==r||o!==a){var a=o;tn(o)?Jt.call(e,o,1):Ei(e,o)}}return e}function wi(e,n){return e+jt(go()*(n-e+1))}function Hc(e,n,t,r){for(var o=-1,a=ie(Qt((n-e)/(t||1)),0),l=_(a);a--;)l[r?a:++o]=e,e+=t;return l}function xi(e,n){var t="";if(!e||n<1||n>ln)return t;do n%2&&(t+=e),n=jt(n/2),n&&(e+=e);while(n);return t}function F(e,n){return Wi(hf(e,n,be),e+"")}function qc(e){return bo(Jn(e))}function zc(e,n){var t=Jn(e);return _r(t,Cn(n,0,t.length))}function vt(e,n,t,r){if(!Q(e))return e;n=vn(n,e);for(var o=-1,a=n.length,l=a-1,c=e;c!=null&&++o<a;){var g=Ye(n[o]),b=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=l){var y=c[g];b=r?r(y,g,c):i,b===i&&(b=Q(y)?y:tn(n[o+1])?[]:{})}pt(c,g,b),c=c[g]}return e}var Mo=er?function(e,n){return er.set(e,n),e}:be,Yc=Vt?function(e,n){return Vt(e,"toString",{configurable:!0,enumerable:!1,value:Xi(n),writable:!0})}:be;function Zc(e){return _r(Jn(e))}function Le(e,n,t){var r=-1,o=e.length;n<0&&(n=-n>o?0:o+n),t=t>o?o:t,t<0&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var a=_(o);++r<o;)a[r]=e[r+n];return a}function Xc(e,n){var t;return dn(e,function(r,o,a){return t=n(r,o,a),!t}),!!t}function fr(e,n,t){var r=0,o=e==null?r:e.length;if(typeof n=="number"&&n===n&&o<=Vs){for(;r<o;){var a=r+o>>>1,l=e[a];l!==null&&!xe(l)&&(t?l<=n:l<n)?r=a+1:o=a}return o}return Ai(e,n,be,t)}function Ai(e,n,t,r){var o=0,a=e==null?0:e.length;if(a===0)return 0;n=t(n);for(var l=n!==n,c=n===null,g=xe(n),b=n===i;o<a;){var y=jt((o+a)/2),m=t(e[y]),A=m!==i,O=m===null,R=m===m,M=xe(m);if(l)var I=r||R;else b?I=R&&(r||A):c?I=R&&A&&(r||!O):g?I=R&&A&&!O&&(r||!M):O||M?I=!1:I=r?m<=n:m<n;I?o=y+1:a=y}return le(a,Js)}function Fo(e,n){for(var t=-1,r=e.length,o=0,a=[];++t<r;){var l=e[t],c=n?n(l):l;if(!t||!We(c,g)){var g=c;a[o++]=l===0?0:l}}return a}function No(e){return typeof e=="number"?e:xe(e)?Bt:+e}function we(e){if(typeof e=="string")return e;if(k(e))return V(e,we)+"";if(xe(e))return _o?_o.call(e):"";var n=e+"";return n=="0"&&1/e==-An?"-0":n}function _n(e,n,t){var r=-1,o=Ut,a=e.length,l=!0,c=[],g=c;if(t)l=!1,o=Qr;else if(a>=d){var b=n?null:oh(e);if(b)return Gt(b);l=!1,o=ft,g=new On}else g=n?[]:c;e:for(;++r<a;){var y=e[r],m=n?n(y):y;if(y=t||y!==0?y:0,l&&m===m){for(var A=g.length;A--;)if(g[A]===m)continue e;n&&g.push(m),c.push(y)}else o(g,m,t)||(g!==c&&g.push(m),c.push(y))}return c}function Ei(e,n){return n=vn(n,e),e=pf(e,n),e==null||delete e[Ye(Be(n))]}function Wo(e,n,t,r){return vt(e,n,t(Rn(e,n)),r)}function sr(e,n,t,r){for(var o=e.length,a=r?o:-1;(r?a--:++a<o)&&n(e[a],a,e););return t?Le(e,r?0:a,r?a+1:o):Le(e,r?a+1:0,r?o:a)}function Uo(e,n){var t=e;return t instanceof U&&(t=t.value()),jr(n,function(r,o){return o.func.apply(o.thisArg,hn([r],o.args))},t)}function Ti(e,n,t){var r=e.length;if(r<2)return r?_n(e[0]):[];for(var o=-1,a=_(r);++o<r;)for(var l=e[o],c=-1;++c<r;)c!=o&&(a[o]=gt(a[o]||l,e[c],n,t));return _n(se(a,1),n,t)}function $o(e,n,t){for(var r=-1,o=e.length,a=n.length,l={};++r<o;){var c=r<a?n[r]:i;t(l,e[r],c)}return l}function Si(e){return ne(e)?e:[]}function Oi(e){return typeof e=="function"?e:be}function vn(e,n){return k(e)?e:Mi(e,n)?[e]:vf(H(e))}var Jc=F;function bn(e,n,t){var r=e.length;return t=t===i?r:t,!n&&t>=r?e:Le(e,n,t)}var Go=Fl||function(e){return fe.clearTimeout(e)};function Ko(e,n){if(n)return e.slice();var t=e.length,r=ao?ao(t):new e.constructor(t);return e.copy(r),r}function Ci(e){var n=new e.constructor(e.byteLength);return new Zt(n).set(new Zt(e)),n}function Vc(e,n){var t=n?Ci(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Qc(e){var n=new e.constructor(e.source,Tu.exec(e));return n.lastIndex=e.lastIndex,n}function jc(e){return ht?z(ht.call(e)):{}}function Ho(e,n){var t=n?Ci(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function qo(e,n){if(e!==n){var t=e!==i,r=e===null,o=e===e,a=xe(e),l=n!==i,c=n===null,g=n===n,b=xe(n);if(!c&&!b&&!a&&e>n||a&&l&&g&&!c&&!b||r&&l&&g||!t&&g||!o)return 1;if(!r&&!a&&!b&&e<n||b&&t&&o&&!r&&!a||c&&t&&o||!l&&o||!g)return-1}return 0}function eh(e,n,t){for(var r=-1,o=e.criteria,a=n.criteria,l=o.length,c=t.length;++r<l;){var g=qo(o[r],a[r]);if(g){if(r>=c)return g;var b=t[r];return g*(b=="desc"?-1:1)}}return e.index-n.index}function zo(e,n,t,r){for(var o=-1,a=e.length,l=t.length,c=-1,g=n.length,b=ie(a-l,0),y=_(g+b),m=!r;++c<g;)y[c]=n[c];for(;++o<l;)(m||o<a)&&(y[t[o]]=e[o]);for(;b--;)y[c++]=e[o++];return y}function Yo(e,n,t,r){for(var o=-1,a=e.length,l=-1,c=t.length,g=-1,b=n.length,y=ie(a-c,0),m=_(y+b),A=!r;++o<y;)m[o]=e[o];for(var O=o;++g<b;)m[O+g]=n[g];for(;++l<c;)(A||o<a)&&(m[O+t[l]]=e[o++]);return m}function de(e,n){var t=-1,r=e.length;for(n||(n=_(r));++t<r;)n[t]=e[t];return n}function ze(e,n,t,r){var o=!t;t||(t={});for(var a=-1,l=n.length;++a<l;){var c=n[a],g=r?r(t[c],e[c],c,t,e):i;g===i&&(g=e[c]),o?je(t,c,g):pt(t,c,g)}return t}function nh(e,n){return ze(e,Di(e),n)}function th(e,n){return ze(e,ff(e),n)}function ar(e,n){return function(t,r){var o=k(t)?fl:Ec,a=n?n():{};return o(t,e,C(r,2),a)}}function zn(e){return F(function(n,t){var r=-1,o=t.length,a=o>1?t[o-1]:i,l=o>2?t[2]:i;for(a=e.length>3&&typeof a=="function"?(o--,a):i,l&&pe(t[0],t[1],l)&&(a=o<3?i:a,o=1),n=z(n);++r<o;){var c=t[r];c&&e(n,c,r,a)}return n})}function Zo(e,n){return function(t,r){if(t==null)return t;if(!_e(t))return e(t,r);for(var o=t.length,a=n?o:-1,l=z(t);(n?a--:++a<o)&&r(l[a],a,l)!==!1;);return t}}function Xo(e){return function(n,t,r){for(var o=-1,a=z(n),l=r(n),c=l.length;c--;){var g=l[e?c:++o];if(t(a[g],g,a)===!1)break}return n}}function rh(e,n,t){var r=n&Te,o=bt(e);function a(){var l=this&&this!==fe&&this instanceof a?o:e;return l.apply(r?t:this,arguments)}return a}function Jo(e){return function(n){n=H(n);var t=Wn(n)?Fe(n):i,r=t?t[0]:n.charAt(0),o=t?bn(t,1).join(""):n.slice(1);return r[e]()+o}}function Yn(e){return function(n){return jr(Xf(Zf(n).replace(Ya,"")),e,"")}}function bt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=qn(e.prototype),r=e.apply(t,n);return Q(r)?r:t}}function ih(e,n,t){var r=bt(e);function o(){for(var a=arguments.length,l=_(a),c=a,g=Zn(o);c--;)l[c]=arguments[c];var b=a<3&&l[0]!==g&&l[a-1]!==g?[]:pn(l,g);if(a-=b.length,a<t)return nf(e,n,lr,o.placeholder,i,l,b,i,i,t-a);var y=this&&this!==fe&&this instanceof o?r:e;return ye(y,this,l)}return o}function Vo(e){return function(n,t,r){var o=z(n);if(!_e(n)){var a=C(t,3);n=ue(n),t=function(c){return a(o[c],c,o)}}var l=e(n,t,r);return l>-1?o[a?n[l]:l]:i}}function Qo(e){return nn(function(n){var t=n.length,r=t,o=Re.prototype.thru;for(e&&n.reverse();r--;){var a=n[r];if(typeof a!="function")throw new Ce(w);if(o&&!l&&gr(a)=="wrapper")var l=new Re([],!0)}for(r=l?r:t;++r<t;){a=n[r];var c=gr(a),g=c=="wrapper"?ki(a):i;g&&Fi(g[0])&&g[1]==(Xe|Ge|Ke|jn)&&!g[4].length&&g[9]==1?l=l[gr(g[0])].apply(l,g[3]):l=a.length==1&&Fi(a)?l[c]():l.thru(a)}return function(){var b=arguments,y=b[0];if(l&&b.length==1&&k(y))return l.plant(y).value();for(var m=0,A=t?n[m].apply(this,b):y;++m<t;)A=n[m].call(this,A);return A}})}function lr(e,n,t,r,o,a,l,c,g,b){var y=n&Xe,m=n&Te,A=n&xn,O=n&(Ge|kn),R=n&kr,M=A?i:bt(e);function I(){for(var W=arguments.length,$=_(W),Ae=W;Ae--;)$[Ae]=arguments[Ae];if(O)var ge=Zn(I),Ee=_l($,ge);if(r&&($=zo($,r,o,O)),a&&($=Yo($,a,l,O)),W-=Ee,O&&W<b){var te=pn($,ge);return nf(e,n,lr,I.placeholder,t,$,te,c,g,b-W)}var Ue=m?t:this,on=A?Ue[e]:e;return W=$.length,c?$=Eh($,c):R&&W>1&&$.reverse(),y&&g<W&&($.length=g),this&&this!==fe&&this instanceof I&&(on=M||bt(on)),on.apply(Ue,$)}return I}function jo(e,n){return function(t,r){return Bc(t,e,n(r),{})}}function cr(e,n){return function(t,r){var o;if(t===i&&r===i)return n;if(t!==i&&(o=t),r!==i){if(o===i)return r;typeof t=="string"||typeof r=="string"?(t=we(t),r=we(r)):(t=No(t),r=No(r)),o=e(t,r)}return o}}function Ri(e){return nn(function(n){return n=V(n,me(C())),F(function(t){var r=this;return e(n,function(o){return ye(o,r,t)})})})}function hr(e,n){n=n===i?" ":we(n);var t=n.length;if(t<2)return t?xi(n,e):n;var r=xi(n,Qt(e/Un(n)));return Wn(n)?bn(Fe(r),0,e).join(""):r.slice(0,e)}function uh(e,n,t,r){var o=n&Te,a=bt(e);function l(){for(var c=-1,g=arguments.length,b=-1,y=r.length,m=_(y+g),A=this&&this!==fe&&this instanceof l?a:e;++b<y;)m[b]=r[b];for(;g--;)m[b++]=arguments[++c];return ye(A,o?t:this,m)}return l}function ef(e){return function(n,t,r){return r&&typeof r!="number"&&pe(n,t,r)&&(t=r=i),n=un(n),t===i?(t=n,n=0):t=un(t),r=r===i?n<t?1:-1:un(r),Hc(n,t,r,e)}}function pr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=ke(n),t=ke(t)),e(n,t)}}function nf(e,n,t,r,o,a,l,c,g,b){var y=n&Ge,m=y?l:i,A=y?i:l,O=y?a:i,R=y?i:a;n|=y?Ke:Pn,n&=~(y?Pn:Ke),n&bu||(n&=~(Te|xn));var M=[e,n,o,O,m,R,A,c,g,b],I=t.apply(i,M);return Fi(e)&&gf(I,M),I.placeholder=r,df(I,e,n)}function Ii(e){var n=re[e];return function(t,r){if(t=ke(t),r=r==null?0:le(P(r),292),r&&po(t)){var o=(H(t)+"e").split("e"),a=n(o[0]+"e"+(+o[1]+r));return o=(H(a)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return n(t)}}var oh=Kn&&1/Gt(new Kn([,-0]))[1]==An?function(e){return new Kn(e)}:Qi;function tf(e){return function(n){var t=ce(n);return t==De?oi(n):t==Me?Al(n):dl(n,e(n))}}function en(e,n,t,r,o,a,l,c){var g=n&xn;if(!g&&typeof e!="function")throw new Ce(w);var b=r?r.length:0;if(b||(n&=~(Ke|Pn),r=o=i),l=l===i?l:ie(P(l),0),c=c===i?c:P(c),b-=o?o.length:0,n&Pn){var y=r,m=o;r=o=i}var A=g?i:ki(e),O=[e,n,t,r,o,y,m,a,l,c];if(A&&wh(O,A),e=O[0],n=O[1],t=O[2],r=O[3],o=O[4],c=O[9]=O[9]===i?g?0:e.length:ie(O[9]-b,0),!c&&n&(Ge|kn)&&(n&=~(Ge|kn)),!n||n==Te)var R=rh(e,n,t);else n==Ge||n==kn?R=ih(e,n,c):(n==Ke||n==(Te|Ke))&&!o.length?R=uh(e,n,t,r):R=lr.apply(i,O);var M=A?Mo:gf;return df(M(R,O),e,n)}function rf(e,n,t,r){return e===i||We(e,Gn[t])&&!q.call(r,t)?n:e}function uf(e,n,t,r,o,a){return Q(e)&&Q(n)&&(a.set(n,e),or(e,n,i,uf,a),a.delete(n)),e}function fh(e){return wt(e)?i:e}function of(e,n,t,r,o,a){var l=t&J,c=e.length,g=n.length;if(c!=g&&!(l&&g>c))return!1;var b=a.get(e),y=a.get(n);if(b&&y)return b==n&&y==e;var m=-1,A=!0,O=t&wn?new On:i;for(a.set(e,n),a.set(n,e);++m<c;){var R=e[m],M=n[m];if(r)var I=l?r(M,R,m,n,e,a):r(R,M,m,e,n,a);if(I!==i){if(I)continue;A=!1;break}if(O){if(!ei(n,function(W,$){if(!ft(O,$)&&(R===W||o(R,W,t,r,a)))return O.push($)})){A=!1;break}}else if(!(R===M||o(R,M,t,r,a))){A=!1;break}}return a.delete(e),a.delete(n),A}function sh(e,n,t,r,o,a,l){switch(t){case Mn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case ot:return!(e.byteLength!=n.byteLength||!a(new Zt(e),new Zt(n)));case et:case nt:case tt:return We(+e,+n);case Pt:return e.name==n.name&&e.message==n.message;case rt:case it:return e==n+"";case De:var c=oi;case Me:var g=r&J;if(c||(c=Gt),e.size!=n.size&&!g)return!1;var b=l.get(e);if(b)return b==n;r|=wn,l.set(e,n);var y=of(c(e),c(n),r,o,a,l);return l.delete(e),y;case Mt:if(ht)return ht.call(e)==ht.call(n)}return!1}function ah(e,n,t,r,o,a){var l=t&J,c=Li(e),g=c.length,b=Li(n),y=b.length;if(g!=y&&!l)return!1;for(var m=g;m--;){var A=c[m];if(!(l?A in n:q.call(n,A)))return!1}var O=a.get(e),R=a.get(n);if(O&&R)return O==n&&R==e;var M=!0;a.set(e,n),a.set(n,e);for(var I=l;++m<g;){A=c[m];var W=e[A],$=n[A];if(r)var Ae=l?r($,W,A,n,e,a):r(W,$,A,e,n,a);if(!(Ae===i?W===$||o(W,$,t,r,a):Ae)){M=!1;break}I||(I=A=="constructor")}if(M&&!I){var ge=e.constructor,Ee=n.constructor;ge!=Ee&&"constructor"in e&&"constructor"in n&&!(typeof ge=="function"&&ge instanceof ge&&typeof Ee=="function"&&Ee instanceof Ee)&&(M=!1)}return a.delete(e),a.delete(n),M}function nn(e){return Wi(hf(e,i,wf),e+"")}function Li(e){return To(e,ue,Di)}function Bi(e){return To(e,ve,ff)}var ki=er?function(e){return er.get(e)}:Qi;function gr(e){for(var n=e.name+"",t=Hn[n],r=q.call(Hn,n)?t.length:0;r--;){var o=t[r],a=o.func;if(a==null||a==e)return o.name}return n}function Zn(e){var n=q.call(s,"placeholder")?s:e;return n.placeholder}function C(){var e=s.iteratee||Ji;return e=e===Ji?Co:e,arguments.length?e(arguments[0],arguments[1]):e}function dr(e,n){var t=e.__data__;return vh(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Pi(e){for(var n=ue(e),t=n.length;t--;){var r=n[t],o=e[r];n[t]=[r,o,lf(o)]}return n}function In(e,n){var t=ml(e,n);return Oo(t)?t:i}function lh(e){var n=q.call(e,Tn),t=e[Tn];try{e[Tn]=i;var r=!0}catch(a){}var o=zt.call(e);return r&&(n?e[Tn]=t:delete e[Tn]),o}var Di=si?function(e){return e==null?[]:(e=z(e),cn(si(e),function(n){return co.call(e,n)}))}:ji,ff=si?function(e){for(var n=[];e;)hn(n,Di(e)),e=Xt(e);return n}:ji,ce=he;(ai&&ce(new ai(new ArrayBuffer(1)))!=Mn||at&&ce(new at)!=De||li&&ce(li.resolve())!=wu||Kn&&ce(new Kn)!=Me||lt&&ce(new lt)!=ut)&&(ce=function(e){var n=he(e),t=n==Je?e.constructor:i,r=t?Ln(t):"";if(r)switch(r){case zl:return Mn;case Yl:return De;case Zl:return wu;case Xl:return Me;case Jl:return ut}return n});function ch(e,n,t){for(var r=-1,o=t.length;++r<o;){var a=t[r],l=a.size;switch(a.type){case"drop":e+=l;break;case"dropRight":n-=l;break;case"take":n=le(n,e+l);break;case"takeRight":e=ie(e,n-l);break}}return{start:e,end:n}}function hh(e){var n=e.match(ba);return n?n[1].split(ya):[]}function sf(e,n,t){n=vn(n,e);for(var r=-1,o=n.length,a=!1;++r<o;){var l=Ye(n[r]);if(!(a=e!=null&&t(e,l)))break;e=e[l]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&xr(o)&&tn(l,o)&&(k(e)||Bn(e)))}function ph(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&q.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function af(e){return typeof e.constructor=="function"&&!yt(e)?qn(Xt(e)):{}}function gh(e,n,t){var r=e.constructor;switch(n){case ot:return Ci(e);case et:case nt:return new r(+e);case Mn:return Vc(e,t);case Pr:case Dr:case Mr:case Fr:case Nr:case Wr:case Ur:case $r:case Gr:return Ho(e,t);case De:return new r;case tt:case it:return new r(e);case rt:return Qc(e);case Me:return new r;case Mt:return jc(e)}}function dh(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(va,`{
/* [wrapped with `+n+`] */
`)}function _h(e){return k(e)||Bn(e)||!!(ho&&e&&e[ho])}function tn(e,n){var t=typeof e;return n=n==null?ln:n,!!n&&(t=="number"||t!="symbol"&&Ca.test(e))&&e>-1&&e%1==0&&e<n}function pe(e,n,t){if(!Q(t))return!1;var r=typeof n;return(r=="number"?_e(t)&&tn(n,t.length):r=="string"&&n in t)?We(t[n],e):!1}function Mi(e,n){if(k(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xe(e)?!0:pa.test(e)||!ha.test(e)||n!=null&&e in z(n)}function vh(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Fi(e){var n=gr(e),t=s[n];if(typeof t!="function"||!(n in U.prototype))return!1;if(e===t)return!0;var r=ki(t);return!!r&&e===r[0]}function bh(e){return!!so&&so in e}var yh=Ht?rn:eu;function yt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Gn;return e===t}function lf(e){return e===e&&!Q(e)}function cf(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==i||e in z(t))}}function mh(e){var n=mr(e,function(r){return t.size===L&&t.clear(),r}),t=n.cache;return n}function wh(e,n){var t=e[1],r=n[1],o=t|r,a=o<(Te|xn|Xe),l=r==Xe&&t==Ge||r==Xe&&t==jn&&e[7].length<=n[8]||r==(Xe|jn)&&n[7].length<=n[8]&&t==Ge;if(!(a||l))return e;r&Te&&(e[2]=n[2],o|=t&Te?0:bu);var c=n[3];if(c){var g=e[3];e[3]=g?zo(g,c,n[4]):c,e[4]=g?pn(e[3],G):n[4]}return c=n[5],c&&(g=e[5],e[5]=g?Yo(g,c,n[6]):c,e[6]=g?pn(e[5],G):n[6]),c=n[7],c&&(e[7]=c),r&Xe&&(e[8]=e[8]==null?n[8]:le(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=o,e}function xh(e){var n=[];if(e!=null)for(var t in z(e))n.push(t);return n}function Ah(e){return zt.call(e)}function hf(e,n,t){return n=ie(n===i?e.length-1:n,0),function(){for(var r=arguments,o=-1,a=ie(r.length-n,0),l=_(a);++o<a;)l[o]=r[n+o];o=-1;for(var c=_(n+1);++o<n;)c[o]=r[o];return c[n]=t(l),ye(e,this,c)}}function pf(e,n){return n.length<2?e:Rn(e,Le(n,0,-1))}function Eh(e,n){for(var t=e.length,r=le(n.length,t),o=de(e);r--;){var a=n[r];e[r]=tn(a,t)?o[a]:i}return e}function Ni(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var gf=_f(Mo),mt=Wl||function(e,n){return fe.setTimeout(e,n)},Wi=_f(Yc);function df(e,n,t){var r=n+"";return Wi(e,dh(r,Th(hh(r),t)))}function _f(e){var n=0,t=0;return function(){var r=Kl(),o=zs-(r-t);if(t=r,o>0){if(++n>=qs)return arguments[0]}else n=0;return e.apply(i,arguments)}}function _r(e,n){var t=-1,r=e.length,o=r-1;for(n=n===i?r:n;++t<n;){var a=wi(t,o),l=e[a];e[a]=e[t],e[t]=l}return e.length=n,e}var vf=mh(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(ga,function(t,r,o,a){n.push(o?a.replace(xa,"$1"):r||t)}),n});function Ye(e){if(typeof e=="string"||xe(e))return e;var n=e+"";return n=="0"&&1/e==-An?"-0":n}function Ln(e){if(e!=null){try{return qt.call(e)}catch(n){}try{return e+""}catch(n){}}return""}function Th(e,n){return Oe(Qs,function(t){var r="_."+t[0];n&t[1]&&!Ut(e,r)&&e.push(r)}),e.sort()}function bf(e){if(e instanceof U)return e.clone();var n=new Re(e.__wrapped__,e.__chain__);return n.__actions__=de(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Sh(e,n,t){(t?pe(e,n,t):n===i)?n=1:n=ie(P(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var o=0,a=0,l=_(Qt(r/n));o<r;)l[a++]=Le(e,o,o+=n);return l}function Oh(e){for(var n=-1,t=e==null?0:e.length,r=0,o=[];++n<t;){var a=e[n];a&&(o[r++]=a)}return o}function Ch(){var e=arguments.length;if(!e)return[];for(var n=_(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return hn(k(t)?de(t):[t],se(n,1))}var Rh=F(function(e,n){return ne(e)?gt(e,se(n,1,ne,!0)):[]}),Ih=F(function(e,n){var t=Be(n);return ne(t)&&(t=i),ne(e)?gt(e,se(n,1,ne,!0),C(t,2)):[]}),Lh=F(function(e,n){var t=Be(n);return ne(t)&&(t=i),ne(e)?gt(e,se(n,1,ne,!0),i,t):[]});function Bh(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:P(n),Le(e,n<0?0:n,r)):[]}function kh(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:P(n),n=r-n,Le(e,0,n<0?0:n)):[]}function Ph(e,n){return e&&e.length?sr(e,C(n,3),!0,!0):[]}function Dh(e,n){return e&&e.length?sr(e,C(n,3),!0):[]}function Mh(e,n,t,r){var o=e==null?0:e.length;return o?(t&&typeof t!="number"&&pe(e,n,t)&&(t=0,r=o),Cc(e,n,t,r)):[]}function yf(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=t==null?0:P(t);return o<0&&(o=ie(r+o,0)),$t(e,C(n,3),o)}function mf(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return t!==i&&(o=P(t),o=t<0?ie(r+o,0):le(o,r-1)),$t(e,C(n,3),o,!0)}function wf(e){var n=e==null?0:e.length;return n?se(e,1):[]}function Fh(e){var n=e==null?0:e.length;return n?se(e,An):[]}function Nh(e,n){var t=e==null?0:e.length;return t?(n=n===i?1:P(n),se(e,n)):[]}function Wh(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var o=e[n];r[o[0]]=o[1]}return r}function xf(e){return e&&e.length?e[0]:i}function Uh(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=t==null?0:P(t);return o<0&&(o=ie(r+o,0)),Nn(e,n,o)}function $h(e){var n=e==null?0:e.length;return n?Le(e,0,-1):[]}var Gh=F(function(e){var n=V(e,Si);return n.length&&n[0]===e[0]?_i(n):[]}),Kh=F(function(e){var n=Be(e),t=V(e,Si);return n===Be(t)?n=i:t.pop(),t.length&&t[0]===e[0]?_i(t,C(n,2)):[]}),Hh=F(function(e){var n=Be(e),t=V(e,Si);return n=typeof n=="function"?n:i,n&&t.pop(),t.length&&t[0]===e[0]?_i(t,i,n):[]});function qh(e,n){return e==null?"":$l.call(e,n)}function Be(e){var n=e==null?0:e.length;return n?e[n-1]:i}function zh(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var o=r;return t!==i&&(o=P(t),o=o<0?ie(r+o,0):le(o,r-1)),n===n?Tl(e,n,o):$t(e,eo,o,!0)}function Yh(e,n){return e&&e.length?Bo(e,P(n)):i}var Zh=F(Af);function Af(e,n){return e&&e.length&&n&&n.length?mi(e,n):e}function Xh(e,n,t){return e&&e.length&&n&&n.length?mi(e,n,C(t,2)):e}function Jh(e,n,t){return e&&e.length&&n&&n.length?mi(e,n,i,t):e}var Vh=nn(function(e,n){var t=e==null?0:e.length,r=hi(e,n);return Do(e,V(n,function(o){return tn(o,t)?+o:o}).sort(qo)),r});function Qh(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,o=[],a=e.length;for(n=C(n,3);++r<a;){var l=e[r];n(l,r,e)&&(t.push(l),o.push(r))}return Do(e,o),t}function Ui(e){return e==null?e:ql.call(e)}function jh(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&pe(e,n,t)?(n=0,t=r):(n=n==null?0:P(n),t=t===i?r:P(t)),Le(e,n,t)):[]}function ep(e,n){return fr(e,n)}function np(e,n,t){return Ai(e,n,C(t,2))}function tp(e,n){var t=e==null?0:e.length;if(t){var r=fr(e,n);if(r<t&&We(e[r],n))return r}return-1}function rp(e,n){return fr(e,n,!0)}function ip(e,n,t){return Ai(e,n,C(t,2),!0)}function up(e,n){var t=e==null?0:e.length;if(t){var r=fr(e,n,!0)-1;if(We(e[r],n))return r}return-1}function op(e){return e&&e.length?Fo(e):[]}function fp(e,n){return e&&e.length?Fo(e,C(n,2)):[]}function sp(e){var n=e==null?0:e.length;return n?Le(e,1,n):[]}function ap(e,n,t){return e&&e.length?(n=t||n===i?1:P(n),Le(e,0,n<0?0:n)):[]}function lp(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===i?1:P(n),n=r-n,Le(e,n<0?0:n,r)):[]}function cp(e,n){return e&&e.length?sr(e,C(n,3),!1,!0):[]}function hp(e,n){return e&&e.length?sr(e,C(n,3)):[]}var pp=F(function(e){return _n(se(e,1,ne,!0))}),gp=F(function(e){var n=Be(e);return ne(n)&&(n=i),_n(se(e,1,ne,!0),C(n,2))}),dp=F(function(e){var n=Be(e);return n=typeof n=="function"?n:i,_n(se(e,1,ne,!0),i,n)});function _p(e){return e&&e.length?_n(e):[]}function vp(e,n){return e&&e.length?_n(e,C(n,2)):[]}function bp(e,n){return n=typeof n=="function"?n:i,e&&e.length?_n(e,i,n):[]}function $i(e){if(!(e&&e.length))return[];var n=0;return e=cn(e,function(t){if(ne(t))return n=ie(t.length,n),!0}),ii(n,function(t){return V(e,ni(t))})}function Ef(e,n){if(!(e&&e.length))return[];var t=$i(e);return n==null?t:V(t,function(r){return ye(n,i,r)})}var yp=F(function(e,n){return ne(e)?gt(e,n):[]}),mp=F(function(e){return Ti(cn(e,ne))}),wp=F(function(e){var n=Be(e);return ne(n)&&(n=i),Ti(cn(e,ne),C(n,2))}),xp=F(function(e){var n=Be(e);return n=typeof n=="function"?n:i,Ti(cn(e,ne),i,n)}),Ap=F($i);function Ep(e,n){return $o(e||[],n||[],pt)}function Tp(e,n){return $o(e||[],n||[],vt)}var Sp=F(function(e){var n=e.length,t=n>1?e[n-1]:i;return t=typeof t=="function"?(e.pop(),t):i,Ef(e,t)});function Tf(e){var n=s(e);return n.__chain__=!0,n}function Op(e,n){return n(e),e}function vr(e,n){return n(e)}var Cp=nn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,o=function(a){return hi(a,e)};return n>1||this.__actions__.length||!(r instanceof U)||!tn(t)?this.thru(o):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:vr,args:[o],thisArg:i}),new Re(r,this.__chain__).thru(function(a){return n&&!a.length&&a.push(i),a}))});function Rp(){return Tf(this)}function Ip(){return new Re(this.value(),this.__chain__)}function Lp(){this.__values__===i&&(this.__values__=Wf(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}}function Bp(){return this}function kp(e){for(var n,t=this;t instanceof tr;){var r=bf(t);r.__index__=0,r.__values__=i,n?o.__wrapped__=r:n=r;var o=r;t=t.__wrapped__}return o.__wrapped__=e,n}function Pp(){var e=this.__wrapped__;if(e instanceof U){var n=e;return this.__actions__.length&&(n=new U(this)),n=n.reverse(),n.__actions__.push({func:vr,args:[Ui],thisArg:i}),new Re(n,this.__chain__)}return this.thru(Ui)}function Dp(){return Uo(this.__wrapped__,this.__actions__)}var Mp=ar(function(e,n,t){q.call(e,t)?++e[t]:je(e,t,1)});function Fp(e,n,t){var r=k(e)?Qu:Oc;return t&&pe(e,n,t)&&(n=i),r(e,C(n,3))}function Np(e,n){var t=k(e)?cn:Ao;return t(e,C(n,3))}var Wp=Vo(yf),Up=Vo(mf);function $p(e,n){return se(br(e,n),1)}function Gp(e,n){return se(br(e,n),An)}function Kp(e,n,t){return t=t===i?1:P(t),se(br(e,n),t)}function Sf(e,n){var t=k(e)?Oe:dn;return t(e,C(n,3))}function Of(e,n){var t=k(e)?sl:xo;return t(e,C(n,3))}var Hp=ar(function(e,n,t){q.call(e,t)?e[t].push(n):je(e,t,[n])});function qp(e,n,t,r){e=_e(e)?e:Jn(e),t=t&&!r?P(t):0;var o=e.length;return t<0&&(t=ie(o+t,0)),Ar(e)?t<=o&&e.indexOf(n,t)>-1:!!o&&Nn(e,n,t)>-1}var zp=F(function(e,n,t){var r=-1,o=typeof n=="function",a=_e(e)?_(e.length):[];return dn(e,function(l){a[++r]=o?ye(n,l,t):dt(l,n,t)}),a}),Yp=ar(function(e,n,t){je(e,t,n)});function br(e,n){var t=k(e)?V:Ro;return t(e,C(n,3))}function Zp(e,n,t,r){return e==null?[]:(k(n)||(n=n==null?[]:[n]),t=r?i:t,k(t)||(t=t==null?[]:[t]),ko(e,n,t))}var Xp=ar(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Jp(e,n,t){var r=k(e)?jr:to,o=arguments.length<3;return r(e,C(n,4),t,o,dn)}function Vp(e,n,t){var r=k(e)?al:to,o=arguments.length<3;return r(e,C(n,4),t,o,xo)}function Qp(e,n){var t=k(e)?cn:Ao;return t(e,wr(C(n,3)))}function jp(e){var n=k(e)?bo:qc;return n(e)}function eg(e,n,t){(t?pe(e,n,t):n===i)?n=1:n=P(n);var r=k(e)?xc:zc;return r(e,n)}function ng(e){var n=k(e)?Ac:Zc;return n(e)}function tg(e){if(e==null)return 0;if(_e(e))return Ar(e)?Un(e):e.length;var n=ce(e);return n==De||n==Me?e.size:bi(e).length}function rg(e,n,t){var r=k(e)?ei:Xc;return t&&pe(e,n,t)&&(n=i),r(e,C(n,3))}var ig=F(function(e,n){if(e==null)return[];var t=n.length;return t>1&&pe(e,n[0],n[1])?n=[]:t>2&&pe(n[0],n[1],n[2])&&(n=[n[0]]),ko(e,se(n,1),[])}),yr=Nl||function(){return fe.Date.now()};function ug(e,n){if(typeof n!="function")throw new Ce(w);return e=P(e),function(){if(--e<1)return n.apply(this,arguments)}}function Cf(e,n,t){return n=t?i:n,n=e&&n==null?e.length:n,en(e,Xe,i,i,i,i,n)}function Rf(e,n){var t;if(typeof n!="function")throw new Ce(w);return e=P(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=i),t}}var Gi=F(function(e,n,t){var r=Te;if(t.length){var o=pn(t,Zn(Gi));r|=Ke}return en(e,r,n,t,o)}),If=F(function(e,n,t){var r=Te|xn;if(t.length){var o=pn(t,Zn(If));r|=Ke}return en(n,r,e,t,o)});function Lf(e,n,t){n=t?i:n;var r=en(e,Ge,i,i,i,i,i,n);return r.placeholder=Lf.placeholder,r}function Bf(e,n,t){n=t?i:n;var r=en(e,kn,i,i,i,i,i,n);return r.placeholder=Bf.placeholder,r}function kf(e,n,t){var r,o,a,l,c,g,b=0,y=!1,m=!1,A=!0;if(typeof e!="function")throw new Ce(w);n=ke(n)||0,Q(t)&&(y=!!t.leading,m="maxWait"in t,a=m?ie(ke(t.maxWait)||0,n):a,A="trailing"in t?!!t.trailing:A);function O(te){var Ue=r,on=o;return r=o=i,b=te,l=e.apply(on,Ue),l}function R(te){return b=te,c=mt(W,n),y?O(te):l}function M(te){var Ue=te-g,on=te-b,Qf=n-Ue;return m?le(Qf,a-on):Qf}function I(te){var Ue=te-g,on=te-b;return g===i||Ue>=n||Ue<0||m&&on>=a}function W(){var te=yr();if(I(te))return $(te);c=mt(W,M(te))}function $(te){return c=i,A&&r?O(te):(r=o=i,l)}function Ae(){c!==i&&Go(c),b=0,r=g=o=c=i}function ge(){return c===i?l:$(yr())}function Ee(){var te=yr(),Ue=I(te);if(r=arguments,o=this,g=te,Ue){if(c===i)return R(g);if(m)return Go(c),c=mt(W,n),O(g)}return c===i&&(c=mt(W,n)),l}return Ee.cancel=Ae,Ee.flush=ge,Ee}var og=F(function(e,n){return wo(e,1,n)}),fg=F(function(e,n,t){return wo(e,ke(n)||0,t)});function sg(e){return en(e,kr)}function mr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Ce(w);var t=function(){var r=arguments,o=n?n.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var l=e.apply(this,r);return t.cache=a.set(o,l)||a,l};return t.cache=new(mr.Cache||Qe),t}mr.Cache=Qe;function wr(e){if(typeof e!="function")throw new Ce(w);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function ag(e){return Rf(2,e)}var lg=Jc(function(e,n){n=n.length==1&&k(n[0])?V(n[0],me(C())):V(se(n,1),me(C()));var t=n.length;return F(function(r){for(var o=-1,a=le(r.length,t);++o<a;)r[o]=n[o].call(this,r[o]);return ye(e,this,r)})}),Ki=F(function(e,n){var t=pn(n,Zn(Ki));return en(e,Ke,i,n,t)}),Pf=F(function(e,n){var t=pn(n,Zn(Pf));return en(e,Pn,i,n,t)}),cg=nn(function(e,n){return en(e,jn,i,i,i,n)});function hg(e,n){if(typeof e!="function")throw new Ce(w);return n=n===i?n:P(n),F(e,n)}function pg(e,n){if(typeof e!="function")throw new Ce(w);return n=n==null?0:ie(P(n),0),F(function(t){var r=t[n],o=bn(t,0,n);return r&&hn(o,r),ye(e,this,o)})}function gg(e,n,t){var r=!0,o=!0;if(typeof e!="function")throw new Ce(w);return Q(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),kf(e,n,{leading:r,maxWait:n,trailing:o})}function dg(e){return Cf(e,1)}function _g(e,n){return Ki(Oi(n),e)}function vg(){if(!arguments.length)return[];var e=arguments[0];return k(e)?e:[e]}function bg(e){return Ie(e,ee)}function yg(e,n){return n=typeof n=="function"?n:i,Ie(e,ee,n)}function mg(e){return Ie(e,D|ee)}function wg(e,n){return n=typeof n=="function"?n:i,Ie(e,D|ee,n)}function xg(e,n){return n==null||mo(e,n,ue(n))}function We(e,n){return e===n||e!==e&&n!==n}var Ag=pr(di),Eg=pr(function(e,n){return e>=n}),Bn=So(function(){return arguments}())?So:function(e){return j(e)&&q.call(e,"callee")&&!co.call(e,"callee")},k=_.isArray,Tg=zu?me(zu):kc;function _e(e){return e!=null&&xr(e.length)&&!rn(e)}function ne(e){return j(e)&&_e(e)}function Sg(e){return e===!0||e===!1||j(e)&&he(e)==et}var yn=Ul||eu,Og=Yu?me(Yu):Pc;function Cg(e){return j(e)&&e.nodeType===1&&!wt(e)}function Rg(e){if(e==null)return!0;if(_e(e)&&(k(e)||typeof e=="string"||typeof e.splice=="function"||yn(e)||Xn(e)||Bn(e)))return!e.length;var n=ce(e);if(n==De||n==Me)return!e.size;if(yt(e))return!bi(e).length;for(var t in e)if(q.call(e,t))return!1;return!0}function Ig(e,n){return _t(e,n)}function Lg(e,n,t){t=typeof t=="function"?t:i;var r=t?t(e,n):i;return r===i?_t(e,n,i,t):!!r}function Hi(e){if(!j(e))return!1;var n=he(e);return n==Pt||n==ea||typeof e.message=="string"&&typeof e.name=="string"&&!wt(e)}function Bg(e){return typeof e=="number"&&po(e)}function rn(e){if(!Q(e))return!1;var n=he(e);return n==Dt||n==mu||n==js||n==ta}function Df(e){return typeof e=="number"&&e==P(e)}function xr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ln}function Q(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function j(e){return e!=null&&typeof e=="object"}var Mf=Zu?me(Zu):Mc;function kg(e,n){return e===n||vi(e,n,Pi(n))}function Pg(e,n,t){return t=typeof t=="function"?t:i,vi(e,n,Pi(n),t)}function Dg(e){return Ff(e)&&e!=+e}function Mg(e){if(yh(e))throw new B(x);return Oo(e)}function Fg(e){return e===null}function Ng(e){return e==null}function Ff(e){return typeof e=="number"||j(e)&&he(e)==tt}function wt(e){if(!j(e)||he(e)!=Je)return!1;var n=Xt(e);if(n===null)return!0;var t=q.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&qt.call(t)==Pl}var qi=Xu?me(Xu):Fc;function Wg(e){return Df(e)&&e>=-ln&&e<=ln}var Nf=Ju?me(Ju):Nc;function Ar(e){return typeof e=="string"||!k(e)&&j(e)&&he(e)==it}function xe(e){return typeof e=="symbol"||j(e)&&he(e)==Mt}var Xn=Vu?me(Vu):Wc;function Ug(e){return e===i}function $g(e){return j(e)&&ce(e)==ut}function Gg(e){return j(e)&&he(e)==ia}var Kg=pr(yi),Hg=pr(function(e,n){return e<=n});function Wf(e){if(!e)return[];if(_e(e))return Ar(e)?Fe(e):de(e);if(st&&e[st])return xl(e[st]());var n=ce(e),t=n==De?oi:n==Me?Gt:Jn;return t(e)}function un(e){if(!e)return e===0?e:0;if(e=ke(e),e===An||e===-An){var n=e<0?-1:1;return n*Xs}return e===e?e:0}function P(e){var n=un(e),t=n%1;return n===n?t?n-t:n:0}function Uf(e){return e?Cn(P(e),0,He):0}function ke(e){if(typeof e=="number")return e;if(xe(e))return Bt;if(Q(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Q(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ro(e);var t=Ta.test(e);return t||Oa.test(e)?ul(e.slice(2),t?2:8):Ea.test(e)?Bt:+e}function $f(e){return ze(e,ve(e))}function qg(e){return e?Cn(P(e),-ln,ln):e===0?e:0}function H(e){return e==null?"":we(e)}var zg=zn(function(e,n){if(yt(n)||_e(n)){ze(n,ue(n),e);return}for(var t in n)q.call(n,t)&&pt(e,t,n[t])}),Gf=zn(function(e,n){ze(n,ve(n),e)}),Er=zn(function(e,n,t,r){ze(n,ve(n),e,r)}),Yg=zn(function(e,n,t,r){ze(n,ue(n),e,r)}),Zg=nn(hi);function Xg(e,n){var t=qn(e);return n==null?t:yo(t,n)}var Jg=F(function(e,n){e=z(e);var t=-1,r=n.length,o=r>2?n[2]:i;for(o&&pe(n[0],n[1],o)&&(r=1);++t<r;)for(var a=n[t],l=ve(a),c=-1,g=l.length;++c<g;){var b=l[c],y=e[b];(y===i||We(y,Gn[b])&&!q.call(e,b))&&(e[b]=a[b])}return e}),Vg=F(function(e){return e.push(i,uf),ye(Kf,i,e)});function Qg(e,n){return ju(e,C(n,3),qe)}function jg(e,n){return ju(e,C(n,3),gi)}function ed(e,n){return e==null?e:pi(e,C(n,3),ve)}function nd(e,n){return e==null?e:Eo(e,C(n,3),ve)}function td(e,n){return e&&qe(e,C(n,3))}function rd(e,n){return e&&gi(e,C(n,3))}function id(e){return e==null?[]:ur(e,ue(e))}function ud(e){return e==null?[]:ur(e,ve(e))}function zi(e,n,t){var r=e==null?i:Rn(e,n);return r===i?t:r}function od(e,n){return e!=null&&sf(e,n,Rc)}function Yi(e,n){return e!=null&&sf(e,n,Ic)}var fd=jo(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=zt.call(n)),e[n]=t},Xi(be)),sd=jo(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=zt.call(n)),q.call(e,n)?e[n].push(t):e[n]=[t]},C),ad=F(dt);function ue(e){return _e(e)?vo(e):bi(e)}function ve(e){return _e(e)?vo(e,!0):Uc(e)}function ld(e,n){var t={};return n=C(n,3),qe(e,function(r,o,a){je(t,n(r,o,a),r)}),t}function cd(e,n){var t={};return n=C(n,3),qe(e,function(r,o,a){je(t,o,n(r,o,a))}),t}var hd=zn(function(e,n,t){or(e,n,t)}),Kf=zn(function(e,n,t,r){or(e,n,t,r)}),pd=nn(function(e,n){var t={};if(e==null)return t;var r=!1;n=V(n,function(a){return a=vn(a,e),r||(r=a.length>1),a}),ze(e,Bi(e),t),r&&(t=Ie(t,D|N|ee,fh));for(var o=n.length;o--;)Ei(t,n[o]);return t});function gd(e,n){return Hf(e,wr(C(n)))}var dd=nn(function(e,n){return e==null?{}:Gc(e,n)});function Hf(e,n){if(e==null)return{};var t=V(Bi(e),function(r){return[r]});return n=C(n),Po(e,t,function(r,o){return n(r,o[0])})}function _d(e,n,t){n=vn(n,e);var r=-1,o=n.length;for(o||(o=1,e=i);++r<o;){var a=e==null?i:e[Ye(n[r])];a===i&&(r=o,a=t),e=rn(a)?a.call(e):a}return e}function vd(e,n,t){return e==null?e:vt(e,n,t)}function bd(e,n,t,r){return r=typeof r=="function"?r:i,e==null?e:vt(e,n,t,r)}var qf=tf(ue),zf=tf(ve);function yd(e,n,t){var r=k(e),o=r||yn(e)||Xn(e);if(n=C(n,4),t==null){var a=e&&e.constructor;o?t=r?new a:[]:Q(e)?t=rn(a)?qn(Xt(e)):{}:t={}}return(o?Oe:qe)(e,function(l,c,g){return n(t,l,c,g)}),t}function md(e,n){return e==null?!0:Ei(e,n)}function wd(e,n,t){return e==null?e:Wo(e,n,Oi(t))}function xd(e,n,t,r){return r=typeof r=="function"?r:i,e==null?e:Wo(e,n,Oi(t),r)}function Jn(e){return e==null?[]:ui(e,ue(e))}function Ad(e){return e==null?[]:ui(e,ve(e))}function Ed(e,n,t){return t===i&&(t=n,n=i),t!==i&&(t=ke(t),t=t===t?t:0),n!==i&&(n=ke(n),n=n===n?n:0),Cn(ke(e),n,t)}function Td(e,n,t){return n=un(n),t===i?(t=n,n=0):t=un(t),e=ke(e),Lc(e,n,t)}function Sd(e,n,t){if(t&&typeof t!="boolean"&&pe(e,n,t)&&(n=t=i),t===i&&(typeof n=="boolean"?(t=n,n=i):typeof e=="boolean"&&(t=e,e=i)),e===i&&n===i?(e=0,n=1):(e=un(e),n===i?(n=e,e=0):n=un(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var o=go();return le(e+o*(n-e+il("1e-"+((o+"").length-1))),n)}return wi(e,n)}var Od=Yn(function(e,n,t){return n=n.toLowerCase(),e+(t?Yf(n):n)});function Yf(e){return Zi(H(e).toLowerCase())}function Zf(e){return e=H(e),e&&e.replace(Ra,vl).replace(Za,"")}function Cd(e,n,t){e=H(e),n=we(n);var r=e.length;t=t===i?r:Cn(P(t),0,r);var o=t;return t-=n.length,t>=0&&e.slice(t,o)==n}function Rd(e){return e=H(e),e&&aa.test(e)?e.replace(Au,bl):e}function Id(e){return e=H(e),e&&da.test(e)?e.replace(Kr,"\\$&"):e}var Ld=Yn(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),Bd=Yn(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),kd=Jo("toLowerCase");function Pd(e,n,t){e=H(e),n=P(n);var r=n?Un(e):0;if(!n||r>=n)return e;var o=(n-r)/2;return hr(jt(o),t)+e+hr(Qt(o),t)}function Dd(e,n,t){e=H(e),n=P(n);var r=n?Un(e):0;return n&&r<n?e+hr(n-r,t):e}function Md(e,n,t){e=H(e),n=P(n);var r=n?Un(e):0;return n&&r<n?hr(n-r,t)+e:e}function Fd(e,n,t){return t||n==null?n=0:n&&(n=+n),Hl(H(e).replace(Hr,""),n||0)}function Nd(e,n,t){return(t?pe(e,n,t):n===i)?n=1:n=P(n),xi(H(e),n)}function Wd(){var e=arguments,n=H(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Ud=Yn(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function $d(e,n,t){return t&&typeof t!="number"&&pe(e,n,t)&&(n=t=i),t=t===i?He:t>>>0,t?(e=H(e),e&&(typeof n=="string"||n!=null&&!qi(n))&&(n=we(n),!n&&Wn(e))?bn(Fe(e),0,t):e.split(n,t)):[]}var Gd=Yn(function(e,n,t){return e+(t?" ":"")+Zi(n)});function Kd(e,n,t){return e=H(e),t=t==null?0:Cn(P(t),0,e.length),n=we(n),e.slice(t,t+n.length)==n}function Hd(e,n,t){var r=s.templateSettings;t&&pe(e,n,t)&&(n=i),e=H(e),n=Er({},n,r,rf);var o=Er({},n.imports,r.imports,rf),a=ue(o),l=ui(o,a),c,g,b=0,y=n.interpolate||Ft,m="__p += '",A=fi((n.escape||Ft).source+"|"+y.source+"|"+(y===Eu?Aa:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),O="//# sourceURL="+(q.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ja+"]")+`
`;e.replace(A,function(I,W,$,Ae,ge,Ee){return $||($=Ae),m+=e.slice(b,Ee).replace(Ia,yl),W&&(c=!0,m+=`' +
__e(`+W+`) +
'`),ge&&(g=!0,m+=`';
`+ge+`;
__p += '`),$&&(m+=`' +
((__t = (`+$+`)) == null ? '' : __t) +
'`),b=Ee+I.length,I}),m+=`';
`;var R=q.call(n,"variable")&&n.variable;if(!R)m=`with (obj) {
`+m+`
}
`;else if(wa.test(R))throw new B(E);m=(g?m.replace(ua,""):m).replace(oa,"$1").replace(fa,"$1;"),m="function("+(R||"obj")+`) {
`+(R?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(c?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var M=Jf(function(){return K(a,O+"return "+m).apply(i,l)});if(M.source=m,Hi(M))throw M;return M}function qd(e){return H(e).toLowerCase()}function zd(e){return H(e).toUpperCase()}function Yd(e,n,t){if(e=H(e),e&&(t||n===i))return ro(e);if(!e||!(n=we(n)))return e;var r=Fe(e),o=Fe(n),a=io(r,o),l=uo(r,o)+1;return bn(r,a,l).join("")}function Zd(e,n,t){if(e=H(e),e&&(t||n===i))return e.slice(0,fo(e)+1);if(!e||!(n=we(n)))return e;var r=Fe(e),o=uo(r,Fe(n))+1;return bn(r,0,o).join("")}function Xd(e,n,t){if(e=H(e),e&&(t||n===i))return e.replace(Hr,"");if(!e||!(n=we(n)))return e;var r=Fe(e),o=io(r,Fe(n));return bn(r,o).join("")}function Jd(e,n){var t=Ks,r=Hs;if(Q(n)){var o="separator"in n?n.separator:o;t="length"in n?P(n.length):t,r="omission"in n?we(n.omission):r}e=H(e);var a=e.length;if(Wn(e)){var l=Fe(e);a=l.length}if(t>=a)return e;var c=t-Un(r);if(c<1)return r;var g=l?bn(l,0,c).join(""):e.slice(0,c);if(o===i)return g+r;if(l&&(c+=g.length-c),qi(o)){if(e.slice(c).search(o)){var b,y=g;for(o.global||(o=fi(o.source,H(Tu.exec(o))+"g")),o.lastIndex=0;b=o.exec(y);)var m=b.index;g=g.slice(0,m===i?c:m)}}else if(e.indexOf(we(o),c)!=c){var A=g.lastIndexOf(o);A>-1&&(g=g.slice(0,A))}return g+r}function Vd(e){return e=H(e),e&&sa.test(e)?e.replace(xu,Sl):e}var Qd=Yn(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Zi=Jo("toUpperCase");function Xf(e,n,t){return e=H(e),n=t?i:n,n===i?wl(e)?Rl(e):hl(e):e.match(n)||[]}var Jf=F(function(e,n){try{return ye(e,i,n)}catch(t){return Hi(t)?t:new B(t)}}),jd=nn(function(e,n){return Oe(n,function(t){t=Ye(t),je(e,t,Gi(e[t],e))}),e});function e0(e){var n=e==null?0:e.length,t=C();return e=n?V(e,function(r){if(typeof r[1]!="function")throw new Ce(w);return[t(r[0]),r[1]]}):[],F(function(r){for(var o=-1;++o<n;){var a=e[o];if(ye(a[0],this,r))return ye(a[1],this,r)}})}function n0(e){return Sc(Ie(e,D))}function Xi(e){return function(){return e}}function t0(e,n){return e==null||e!==e?n:e}var r0=Qo(),i0=Qo(!0);function be(e){return e}function Ji(e){return Co(typeof e=="function"?e:Ie(e,D))}function u0(e){return Io(Ie(e,D))}function o0(e,n){return Lo(e,Ie(n,D))}var f0=F(function(e,n){return function(t){return dt(t,e,n)}}),s0=F(function(e,n){return function(t){return dt(e,t,n)}});function Vi(e,n,t){var r=ue(n),o=ur(n,r);t==null&&!(Q(n)&&(o.length||!r.length))&&(t=n,n=e,e=this,o=ur(n,ue(n)));var a=!(Q(t)&&"chain"in t)||!!t.chain,l=rn(e);return Oe(o,function(c){var g=n[c];e[c]=g,l&&(e.prototype[c]=function(){var b=this.__chain__;if(a||b){var y=e(this.__wrapped__),m=y.__actions__=de(this.__actions__);return m.push({func:g,args:arguments,thisArg:e}),y.__chain__=b,y}return g.apply(e,hn([this.value()],arguments))})}),e}function a0(){return fe._===this&&(fe._=Dl),this}function Qi(){}function l0(e){return e=P(e),F(function(n){return Bo(n,e)})}var c0=Ri(V),h0=Ri(Qu),p0=Ri(ei);function Vf(e){return Mi(e)?ni(Ye(e)):Kc(e)}function g0(e){return function(n){return e==null?i:Rn(e,n)}}var d0=ef(),_0=ef(!0);function ji(){return[]}function eu(){return!1}function v0(){return{}}function b0(){return""}function y0(){return!0}function m0(e,n){if(e=P(e),e<1||e>ln)return[];var t=He,r=le(e,He);n=C(n),e-=He;for(var o=ii(r,n);++t<e;)n(t);return o}function w0(e){return k(e)?V(e,Ye):xe(e)?[e]:de(vf(H(e)))}function x0(e){var n=++kl;return H(e)+n}var A0=cr(function(e,n){return e+n},0),E0=Ii("ceil"),T0=cr(function(e,n){return e/n},1),S0=Ii("floor");function O0(e){return e&&e.length?ir(e,be,di):i}function C0(e,n){return e&&e.length?ir(e,C(n,2),di):i}function R0(e){return no(e,be)}function I0(e,n){return no(e,C(n,2))}function L0(e){return e&&e.length?ir(e,be,yi):i}function B0(e,n){return e&&e.length?ir(e,C(n,2),yi):i}var k0=cr(function(e,n){return e*n},1),P0=Ii("round"),D0=cr(function(e,n){return e-n},0);function M0(e){return e&&e.length?ri(e,be):0}function F0(e,n){return e&&e.length?ri(e,C(n,2)):0}return s.after=ug,s.ary=Cf,s.assign=zg,s.assignIn=Gf,s.assignInWith=Er,s.assignWith=Yg,s.at=Zg,s.before=Rf,s.bind=Gi,s.bindAll=jd,s.bindKey=If,s.castArray=vg,s.chain=Tf,s.chunk=Sh,s.compact=Oh,s.concat=Ch,s.cond=e0,s.conforms=n0,s.constant=Xi,s.countBy=Mp,s.create=Xg,s.curry=Lf,s.curryRight=Bf,s.debounce=kf,s.defaults=Jg,s.defaultsDeep=Vg,s.defer=og,s.delay=fg,s.difference=Rh,s.differenceBy=Ih,s.differenceWith=Lh,s.drop=Bh,s.dropRight=kh,s.dropRightWhile=Ph,s.dropWhile=Dh,s.fill=Mh,s.filter=Np,s.flatMap=$p,s.flatMapDeep=Gp,s.flatMapDepth=Kp,s.flatten=wf,s.flattenDeep=Fh,s.flattenDepth=Nh,s.flip=sg,s.flow=r0,s.flowRight=i0,s.fromPairs=Wh,s.functions=id,s.functionsIn=ud,s.groupBy=Hp,s.initial=$h,s.intersection=Gh,s.intersectionBy=Kh,s.intersectionWith=Hh,s.invert=fd,s.invertBy=sd,s.invokeMap=zp,s.iteratee=Ji,s.keyBy=Yp,s.keys=ue,s.keysIn=ve,s.map=br,s.mapKeys=ld,s.mapValues=cd,s.matches=u0,s.matchesProperty=o0,s.memoize=mr,s.merge=hd,s.mergeWith=Kf,s.method=f0,s.methodOf=s0,s.mixin=Vi,s.negate=wr,s.nthArg=l0,s.omit=pd,s.omitBy=gd,s.once=ag,s.orderBy=Zp,s.over=c0,s.overArgs=lg,s.overEvery=h0,s.overSome=p0,s.partial=Ki,s.partialRight=Pf,s.partition=Xp,s.pick=dd,s.pickBy=Hf,s.property=Vf,s.propertyOf=g0,s.pull=Zh,s.pullAll=Af,s.pullAllBy=Xh,s.pullAllWith=Jh,s.pullAt=Vh,s.range=d0,s.rangeRight=_0,s.rearg=cg,s.reject=Qp,s.remove=Qh,s.rest=hg,s.reverse=Ui,s.sampleSize=eg,s.set=vd,s.setWith=bd,s.shuffle=ng,s.slice=jh,s.sortBy=ig,s.sortedUniq=op,s.sortedUniqBy=fp,s.split=$d,s.spread=pg,s.tail=sp,s.take=ap,s.takeRight=lp,s.takeRightWhile=cp,s.takeWhile=hp,s.tap=Op,s.throttle=gg,s.thru=vr,s.toArray=Wf,s.toPairs=qf,s.toPairsIn=zf,s.toPath=w0,s.toPlainObject=$f,s.transform=yd,s.unary=dg,s.union=pp,s.unionBy=gp,s.unionWith=dp,s.uniq=_p,s.uniqBy=vp,s.uniqWith=bp,s.unset=md,s.unzip=$i,s.unzipWith=Ef,s.update=wd,s.updateWith=xd,s.values=Jn,s.valuesIn=Ad,s.without=yp,s.words=Xf,s.wrap=_g,s.xor=mp,s.xorBy=wp,s.xorWith=xp,s.zip=Ap,s.zipObject=Ep,s.zipObjectDeep=Tp,s.zipWith=Sp,s.entries=qf,s.entriesIn=zf,s.extend=Gf,s.extendWith=Er,Vi(s,s),s.add=A0,s.attempt=Jf,s.camelCase=Od,s.capitalize=Yf,s.ceil=E0,s.clamp=Ed,s.clone=bg,s.cloneDeep=mg,s.cloneDeepWith=wg,s.cloneWith=yg,s.conformsTo=xg,s.deburr=Zf,s.defaultTo=t0,s.divide=T0,s.endsWith=Cd,s.eq=We,s.escape=Rd,s.escapeRegExp=Id,s.every=Fp,s.find=Wp,s.findIndex=yf,s.findKey=Qg,s.findLast=Up,s.findLastIndex=mf,s.findLastKey=jg,s.floor=S0,s.forEach=Sf,s.forEachRight=Of,s.forIn=ed,s.forInRight=nd,s.forOwn=td,s.forOwnRight=rd,s.get=zi,s.gt=Ag,s.gte=Eg,s.has=od,s.hasIn=Yi,s.head=xf,s.identity=be,s.includes=qp,s.indexOf=Uh,s.inRange=Td,s.invoke=ad,s.isArguments=Bn,s.isArray=k,s.isArrayBuffer=Tg,s.isArrayLike=_e,s.isArrayLikeObject=ne,s.isBoolean=Sg,s.isBuffer=yn,s.isDate=Og,s.isElement=Cg,s.isEmpty=Rg,s.isEqual=Ig,s.isEqualWith=Lg,s.isError=Hi,s.isFinite=Bg,s.isFunction=rn,s.isInteger=Df,s.isLength=xr,s.isMap=Mf,s.isMatch=kg,s.isMatchWith=Pg,s.isNaN=Dg,s.isNative=Mg,s.isNil=Ng,s.isNull=Fg,s.isNumber=Ff,s.isObject=Q,s.isObjectLike=j,s.isPlainObject=wt,s.isRegExp=qi,s.isSafeInteger=Wg,s.isSet=Nf,s.isString=Ar,s.isSymbol=xe,s.isTypedArray=Xn,s.isUndefined=Ug,s.isWeakMap=$g,s.isWeakSet=Gg,s.join=qh,s.kebabCase=Ld,s.last=Be,s.lastIndexOf=zh,s.lowerCase=Bd,s.lowerFirst=kd,s.lt=Kg,s.lte=Hg,s.max=O0,s.maxBy=C0,s.mean=R0,s.meanBy=I0,s.min=L0,s.minBy=B0,s.stubArray=ji,s.stubFalse=eu,s.stubObject=v0,s.stubString=b0,s.stubTrue=y0,s.multiply=k0,s.nth=Yh,s.noConflict=a0,s.noop=Qi,s.now=yr,s.pad=Pd,s.padEnd=Dd,s.padStart=Md,s.parseInt=Fd,s.random=Sd,s.reduce=Jp,s.reduceRight=Vp,s.repeat=Nd,s.replace=Wd,s.result=_d,s.round=P0,s.runInContext=p,s.sample=jp,s.size=tg,s.snakeCase=Ud,s.some=rg,s.sortedIndex=ep,s.sortedIndexBy=np,s.sortedIndexOf=tp,s.sortedLastIndex=rp,s.sortedLastIndexBy=ip,s.sortedLastIndexOf=up,s.startCase=Gd,s.startsWith=Kd,s.subtract=D0,s.sum=M0,s.sumBy=F0,s.template=Hd,s.times=m0,s.toFinite=un,s.toInteger=P,s.toLength=Uf,s.toLower=qd,s.toNumber=ke,s.toSafeInteger=qg,s.toString=H,s.toUpper=zd,s.trim=Yd,s.trimEnd=Zd,s.trimStart=Xd,s.truncate=Jd,s.unescape=Vd,s.uniqueId=x0,s.upperCase=Qd,s.upperFirst=Zi,s.each=Sf,s.eachRight=Of,s.first=xf,Vi(s,function(){var e={};return qe(s,function(n,t){q.call(s.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),s.VERSION=h,Oe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),Oe(["drop","take"],function(e,n){U.prototype[e]=function(t){t=t===i?1:ie(P(t),0);var r=this.__filtered__&&!n?new U(this):this.clone();return r.__filtered__?r.__takeCount__=le(t,r.__takeCount__):r.__views__.push({size:le(t,He),type:e+(r.__dir__<0?"Right":"")}),r},U.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Oe(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==yu||t==Zs;U.prototype[e]=function(o){var a=this.clone();return a.__iteratees__.push({iteratee:C(o,3),type:t}),a.__filtered__=a.__filtered__||r,a}}),Oe(["head","last"],function(e,n){var t="take"+(n?"Right":"");U.prototype[e]=function(){return this[t](1).value()[0]}}),Oe(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");U.prototype[e]=function(){return this.__filtered__?new U(this):this[t](1)}}),U.prototype.compact=function(){return this.filter(be)},U.prototype.find=function(e){return this.filter(e).head()},U.prototype.findLast=function(e){return this.reverse().find(e)},U.prototype.invokeMap=F(function(e,n){return typeof e=="function"?new U(this):this.map(function(t){return dt(t,e,n)})}),U.prototype.reject=function(e){return this.filter(wr(C(e)))},U.prototype.slice=function(e,n){e=P(e);var t=this;return t.__filtered__&&(e>0||n<0)?new U(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==i&&(n=P(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},U.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},U.prototype.toArray=function(){return this.take(He)},qe(U.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=s[r?"take"+(n=="last"?"Right":""):n],a=r||/^find/.test(n);o&&(s.prototype[n]=function(){var l=this.__wrapped__,c=r?[1]:arguments,g=l instanceof U,b=c[0],y=g||k(l),m=function(W){var $=o.apply(s,hn([W],c));return r&&A?$[0]:$};y&&t&&typeof b=="function"&&b.length!=1&&(g=y=!1);var A=this.__chain__,O=!!this.__actions__.length,R=a&&!A,M=g&&!O;if(!a&&y){l=M?l:new U(this);var I=e.apply(l,c);return I.__actions__.push({func:vr,args:[m],thisArg:i}),new Re(I,A)}return R&&M?e.apply(this,c):(I=this.thru(m),R?r?I.value()[0]:I.value():I)})}),Oe(["pop","push","shift","sort","splice","unshift"],function(e){var n=Kt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var a=this.value();return n.apply(k(a)?a:[],o)}return this[t](function(l){return n.apply(k(l)?l:[],o)})}}),qe(U.prototype,function(e,n){var t=s[n];if(t){var r=t.name+"";q.call(Hn,r)||(Hn[r]=[]),Hn[r].push({name:n,func:t})}}),Hn[lr(i,xn).name]=[{name:"wrapper",func:i}],U.prototype.clone=Vl,U.prototype.reverse=Ql,U.prototype.value=jl,s.prototype.at=Cp,s.prototype.chain=Rp,s.prototype.commit=Ip,s.prototype.next=Lp,s.prototype.plant=kp,s.prototype.reverse=Pp,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Dp,s.prototype.first=s.prototype.head,st&&(s.prototype[st]=Bp),s},$n=Il();En?((En.exports=$n)._=$n,Jr._=$n):fe._=$n}).call(xt)})(Y0,ae);var Z0={grad:.9,turn:360,rad:360/(2*Math.PI)},fn=function(u){return typeof u=="string"?u.length>0:typeof u=="number"},oe=function(u,f,i){return f===void 0&&(f=0),i===void 0&&(i=Math.pow(10,f)),Math.round(i*u)/i+0},Pe=function(u,f,i){return f===void 0&&(f=0),i===void 0&&(i=1),u>i?i:u>f?u:f},Cs=function(u){return(u=isFinite(u)?u%360:0)>0?u:u+360},us=function(u){return{r:Pe(u.r,0,255),g:Pe(u.g,0,255),b:Pe(u.b,0,255),a:Pe(u.a)}},iu=function(u){return{r:oe(u.r),g:oe(u.g),b:oe(u.b),a:oe(u.a,3)}},X0=/^#([0-9a-f]{3,8})$/i,Sr=function(u){var f=u.toString(16);return f.length<2?"0"+f:f},Rs=function(u){var f=u.r,i=u.g,h=u.b,d=u.a,x=Math.max(f,i,h),w=x-Math.min(f,i,h),E=w?x===f?(i-h)/w:x===i?2+(h-f)/w:4+(f-i)/w:0;return{h:60*(E<0?E+6:E),s:x?w/x*100:0,v:x/255*100,a:d}},Is=function(u){var f=u.h,i=u.s,h=u.v,d=u.a;f=f/360*6,i/=100,h/=100;var x=Math.floor(f),w=h*(1-i),E=h*(1-(f-x)*i),T=h*(1-(1-f+x)*i),L=x%6;return{r:255*[h,E,w,w,T,h][L],g:255*[T,h,h,E,w,w][L],b:255*[w,w,T,h,h,E][L],a:d}},os=function(u){return{h:Cs(u.h),s:Pe(u.s,0,100),l:Pe(u.l,0,100),a:Pe(u.a)}},fs=function(u){return{h:oe(u.h),s:oe(u.s),l:oe(u.l),a:oe(u.a,3)}},ss=function(u){return Is((i=(f=u).s,{h:f.h,s:(i*=((h=f.l)<50?h:100-h)/100)>0?2*i/(h+i)*100:0,v:h+i,a:f.a}));var f,i,h},At=function(u){return{h:(f=Rs(u)).h,s:(d=(200-(i=f.s))*(h=f.v)/100)>0&&d<200?i*h/100/(d<=100?d:200-d)*100:0,l:d/2,a:f.a};var f,i,h,d},J0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V0=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Q0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,j0=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cu={string:[[function(u){var f=X0.exec(u);return f?(u=f[1]).length<=4?{r:parseInt(u[0]+u[0],16),g:parseInt(u[1]+u[1],16),b:parseInt(u[2]+u[2],16),a:u.length===4?oe(parseInt(u[3]+u[3],16)/255,2):1}:u.length===6||u.length===8?{r:parseInt(u.substr(0,2),16),g:parseInt(u.substr(2,2),16),b:parseInt(u.substr(4,2),16),a:u.length===8?oe(parseInt(u.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(u){var f=Q0.exec(u)||j0.exec(u);return f?f[2]!==f[4]||f[4]!==f[6]?null:us({r:Number(f[1])/(f[2]?100/255:1),g:Number(f[3])/(f[4]?100/255:1),b:Number(f[5])/(f[6]?100/255:1),a:f[7]===void 0?1:Number(f[7])/(f[8]?100:1)}):null},"rgb"],[function(u){var f=J0.exec(u)||V0.exec(u);if(!f)return null;var i,h,d=os({h:(i=f[1],h=f[2],h===void 0&&(h="deg"),Number(i)*(Z0[h]||1)),s:Number(f[3]),l:Number(f[4]),a:f[5]===void 0?1:Number(f[5])/(f[6]?100:1)});return ss(d)},"hsl"]],object:[[function(u){var f=u.r,i=u.g,h=u.b,d=u.a,x=d===void 0?1:d;return fn(f)&&fn(i)&&fn(h)?us({r:Number(f),g:Number(i),b:Number(h),a:Number(x)}):null},"rgb"],[function(u){var f=u.h,i=u.s,h=u.l,d=u.a,x=d===void 0?1:d;if(!fn(f)||!fn(i)||!fn(h))return null;var w=os({h:Number(f),s:Number(i),l:Number(h),a:Number(x)});return ss(w)},"hsl"],[function(u){var f=u.h,i=u.s,h=u.v,d=u.a,x=d===void 0?1:d;if(!fn(f)||!fn(i)||!fn(h))return null;var w=function(E){return{h:Cs(E.h),s:Pe(E.s,0,100),v:Pe(E.v,0,100),a:Pe(E.a)}}({h:Number(f),s:Number(i),v:Number(h),a:Number(x)});return Is(w)},"hsv"]]},as=function(u,f){for(var i=0;i<f.length;i++){var h=f[i][0](u);if(h)return[h,f[i][1]]}return[null,void 0]},e_=function(u){return typeof u=="string"?as(u.trim(),cu.string):typeof u=="object"&&u!==null?as(u,cu.object):[null,void 0]},uu=function(u,f){var i=At(u);return{h:i.h,s:Pe(i.s+100*f,0,100),l:i.l,a:i.a}},ou=function(u){return(299*u.r+587*u.g+114*u.b)/1e3/255},ls=function(u,f){var i=At(u);return{h:i.h,s:i.s,l:Pe(i.l+100*f,0,100),a:i.a}},hu=function(){function u(f){this.parsed=e_(f)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return u.prototype.isValid=function(){return this.parsed!==null},u.prototype.brightness=function(){return oe(ou(this.rgba),2)},u.prototype.isDark=function(){return ou(this.rgba)<.5},u.prototype.isLight=function(){return ou(this.rgba)>=.5},u.prototype.toHex=function(){return f=iu(this.rgba),i=f.r,h=f.g,d=f.b,w=(x=f.a)<1?Sr(oe(255*x)):"","#"+Sr(i)+Sr(h)+Sr(d)+w;var f,i,h,d,x,w},u.prototype.toRgb=function(){return iu(this.rgba)},u.prototype.toRgbString=function(){return f=iu(this.rgba),i=f.r,h=f.g,d=f.b,(x=f.a)<1?"rgba("+i+", "+h+", "+d+", "+x+")":"rgb("+i+", "+h+", "+d+")";var f,i,h,d,x},u.prototype.toHsl=function(){return fs(At(this.rgba))},u.prototype.toHslString=function(){return f=fs(At(this.rgba)),i=f.h,h=f.s,d=f.l,(x=f.a)<1?"hsla("+i+", "+h+"%, "+d+"%, "+x+")":"hsl("+i+", "+h+"%, "+d+"%)";var f,i,h,d,x},u.prototype.toHsv=function(){return f=Rs(this.rgba),{h:oe(f.h),s:oe(f.s),v:oe(f.v),a:oe(f.a,3)};var f},u.prototype.invert=function(){return Ze({r:255-(f=this.rgba).r,g:255-f.g,b:255-f.b,a:f.a});var f},u.prototype.saturate=function(f){return f===void 0&&(f=.1),Ze(uu(this.rgba,f))},u.prototype.desaturate=function(f){return f===void 0&&(f=.1),Ze(uu(this.rgba,-f))},u.prototype.grayscale=function(){return Ze(uu(this.rgba,-1))},u.prototype.lighten=function(f){return f===void 0&&(f=.1),Ze(ls(this.rgba,f))},u.prototype.darken=function(f){return f===void 0&&(f=.1),Ze(ls(this.rgba,-f))},u.prototype.rotate=function(f){return f===void 0&&(f=15),this.hue(this.hue()+f)},u.prototype.alpha=function(f){return typeof f=="number"?Ze({r:(i=this.rgba).r,g:i.g,b:i.b,a:f}):oe(this.rgba.a,3);var i},u.prototype.hue=function(f){var i=At(this.rgba);return typeof f=="number"?Ze({h:f,s:i.s,l:i.l,a:i.a}):oe(i.h)},u.prototype.isEqual=function(f){return this.toHex()===Ze(f).toHex()},u}(),Ze=function(u){return u instanceof hu?u:new hu(u)},cs=[],n_=function(u){u.forEach(function(f){cs.indexOf(f)<0&&(f(hu,cu),cs.push(f))})};function t_(u,f){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},h={};for(var d in i)h[i[d]]=d;var x={};u.prototype.toName=function(w){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var E,T,L=h[this.toHex()];if(L)return L;if(w!=null&&w.closest){var G=this.toRgb(),D=1/0,N="black";if(!x.length)for(var ee in i)x[ee]=new u(i[ee]).toRgb();for(var J in i){var wn=(E=G,T=x[J],Math.pow(E.r-T.r,2)+Math.pow(E.g-T.g,2)+Math.pow(E.b-T.b,2));wn<D&&(D=wn,N=J)}return N}},f.string.push([function(w){var E=w.toLowerCase(),T=E==="transparent"?"#0000":i[E];return T?new u(T).toRgb():null},"name"])}var fu=function(u){var f=u/255;return f<.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)},su=function(u){return .2126*fu(u.r)+.7152*fu(u.g)+.0722*fu(u.b)};function r_(u){u.prototype.luminance=function(){return f=su(this.rgba),(i=2)===void 0&&(i=0),h===void 0&&(h=Math.pow(10,i)),Math.round(h*f)/h+0;var f,i,h},u.prototype.contrast=function(f){f===void 0&&(f="#FFF");var i,h,d,x,w,E,T,L=f instanceof u?f:new u(f);return x=this.rgba,w=L.toRgb(),E=su(x),T=su(w),i=E>T?(E+.05)/(T+.05):(T+.05)/(E+.05),(h=2)===void 0&&(h=0),d===void 0&&(d=Math.pow(10,h)),Math.floor(d*i)/d+0},u.prototype.isReadable=function(f,i){return f===void 0&&(f="#FFF"),i===void 0&&(i={}),this.contrast(f)>=(E=(w=(h=i).size)===void 0?"normal":w,(x=(d=h.level)===void 0?"AA":d)==="AAA"&&E==="normal"?7:x==="AA"&&E==="large"?3:4.5);var h,d,x,w,E}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function hs(u){return Object.prototype.toString.call(u)==="[object Object]"}function i_(u){var f,i;return hs(u)===!1?!1:(f=u.constructor,f===void 0?!0:(i=f.prototype,!(hs(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}var Cr=function(){return Cr=Object.assign||function(f){for(var i,h=1,d=arguments.length;h<d;h++){i=arguments[h];for(var x in i)Object.prototype.hasOwnProperty.call(i,x)&&(f[x]=i[x])}return f},Cr.apply(this,arguments)};function u_(u){return u.toLowerCase()}var o_=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],f_=/[^A-Z0-9]+/gi;function s_(u,f){f===void 0&&(f={});for(var i=f.splitRegexp,h=i===void 0?o_:i,d=f.stripRegexp,x=d===void 0?f_:d,w=f.transform,E=w===void 0?u_:w,T=f.delimiter,L=T===void 0?" ":T,G=ps(ps(u,h,"$1\0$2"),x,"\0"),D=0,N=G.length;G.charAt(D)==="\0";)D++;for(;G.charAt(N-1)==="\0";)N--;return G.slice(D,N).split("\0").map(E).join(L)}function ps(u,f,i){return f instanceof RegExp?u.replace(f,i):f.reduce(function(h,d){return h.replace(d,i)},u)}function Ls(u,f){var i=u.charAt(0),h=u.substr(1).toLowerCase();return f>0&&i>="0"&&i<="9"?"_"+i+h:""+i.toUpperCase()+h}function a_(u,f){return f===void 0&&(f={}),s_(u,Cr({delimiter:"",transform:Ls},f))}function l_(u,f){return f===0?u.toLowerCase():Ls(u,f)}function c_(u,f){return f===void 0&&(f={}),a_(u,Cr({transform:l_},f))}const gs=Object.create(null);function h_(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{since:i,version:h,alternative:d,plugin:x,link:w,hint:E}=f,T=x?` from ${x}`:"",L=i?` since version ${i}`:"",G=h?` and will be removed${T} in version ${h}`:"",D=d?` Please use ${d} instead.`:"",N=w?` See: ${w}`:"",ee=E?` Note: ${E}`:"",J=`${u} is deprecated${L}${G}.${D}${N}${ee}`;J in gs||(St.doAction("deprecated",u,f,J),console.warn(J),gs[J]=!0)}const Bs="block-default",ds=["attributes","supports","save","migrate","isEligible","apiVersion"],Vn={"--wp--style--color--link":{value:["color","link"],support:["color","link"]},background:{value:["color","gradient"],support:["color","gradients"],useEngine:!0},backgroundColor:{value:["color","background"],support:["color","background"],requiresOptOut:!0,useEngine:!0},borderColor:{value:["border","color"],support:["__experimentalBorder","color"],useEngine:!0},borderRadius:{value:["border","radius"],support:["__experimentalBorder","radius"],properties:{borderTopLeftRadius:"topLeft",borderTopRightRadius:"topRight",borderBottomLeftRadius:"bottomLeft",borderBottomRightRadius:"bottomRight"},useEngine:!0},borderStyle:{value:["border","style"],support:["__experimentalBorder","style"],useEngine:!0},borderWidth:{value:["border","width"],support:["__experimentalBorder","width"],useEngine:!0},borderTopColor:{value:["border","top","color"],support:["__experimentalBorder","color"],useEngine:!0},borderTopStyle:{value:["border","top","style"],support:["__experimentalBorder","style"],useEngine:!0},borderTopWidth:{value:["border","top","width"],support:["__experimentalBorder","width"],useEngine:!0},borderRightColor:{value:["border","right","color"],support:["__experimentalBorder","color"],useEngine:!0},borderRightStyle:{value:["border","right","style"],support:["__experimentalBorder","style"],useEngine:!0},borderRightWidth:{value:["border","right","width"],support:["__experimentalBorder","width"],useEngine:!0},borderBottomColor:{value:["border","bottom","color"],support:["__experimentalBorder","color"],useEngine:!0},borderBottomStyle:{value:["border","bottom","style"],support:["__experimentalBorder","style"],useEngine:!0},borderBottomWidth:{value:["border","bottom","width"],support:["__experimentalBorder","width"],useEngine:!0},borderLeftColor:{value:["border","left","color"],support:["__experimentalBorder","color"],useEngine:!0},borderLeftStyle:{value:["border","left","style"],support:["__experimentalBorder","style"],useEngine:!0},borderLeftWidth:{value:["border","left","width"],support:["__experimentalBorder","width"],useEngine:!0},color:{value:["color","text"],support:["color","text"],requiresOptOut:!0,useEngine:!0},filter:{value:["filter","duotone"],support:["color","__experimentalDuotone"]},linkColor:{value:["elements","link","color","text"],support:["color","link"]},buttonColor:{value:["elements","button","color","text"],support:["color","button"]},buttonBackgroundColor:{value:["elements","button","color","background"],support:["color","button"]},fontFamily:{value:["typography","fontFamily"],support:["typography","__experimentalFontFamily"],useEngine:!0},fontSize:{value:["typography","fontSize"],support:["typography","fontSize"],useEngine:!0},fontStyle:{value:["typography","fontStyle"],support:["typography","__experimentalFontStyle"],useEngine:!0},fontWeight:{value:["typography","fontWeight"],support:["typography","__experimentalFontWeight"],useEngine:!0},lineHeight:{value:["typography","lineHeight"],support:["typography","lineHeight"],useEngine:!0},margin:{value:["spacing","margin"],support:["spacing","margin"],properties:{marginTop:"top",marginRight:"right",marginBottom:"bottom",marginLeft:"left"},useEngine:!0},minHeight:{value:["dimensions","minHeight"],support:["dimensions","minHeight"],useEngine:!0},padding:{value:["spacing","padding"],support:["spacing","padding"],properties:{paddingTop:"top",paddingRight:"right",paddingBottom:"bottom",paddingLeft:"left"},useEngine:!0},textDecoration:{value:["typography","textDecoration"],support:["typography","__experimentalTextDecoration"],useEngine:!0},textTransform:{value:["typography","textTransform"],support:["typography","__experimentalTextTransform"],useEngine:!0},letterSpacing:{value:["typography","letterSpacing"],support:["typography","__experimentalLetterSpacing"],useEngine:!0},"--wp--style--root--padding":{value:["spacing","padding"],support:["spacing","padding"],properties:{"--wp--style--root--padding-top":"top","--wp--style--root--padding-right":"right","--wp--style--root--padding-bottom":"bottom","--wp--style--root--padding-left":"left"},rootOnly:!0}},_s={title:"block title",description:"block description",keywords:["block keyword"],styles:[{label:"block style label"}],variations:[{title:"block variation title",description:"block variation description",keywords:["block variation keyword"]}]},an={};function Rr(u){return u!==null&&typeof u=="object"}function p_(u){for(const f of Object.keys(u)){if(an[f]){an[f].apiVersion===void 0&&u[f].apiVersion&&(an[f].apiVersion=u[f].apiVersion),an[f].ancestor===void 0&&u[f].ancestor&&(an[f].ancestor=u[f].ancestor);continue}an[f]=Object.fromEntries(Object.entries(u[f]).filter(i=>{let[,h]=i;return h!=null}).map(i=>{let[h,d]=i;return[c_(h),d]}))}}function g_(u){let x=u,{textdomain:f}=x,i=ts(x,["textdomain"]);const h=["apiVersion","title","category","parent","ancestor","icon","description","keywords","attributes","providesContext","usesContext","supports","styles","example","variations"],d=Object.fromEntries(Object.entries(i).filter(w=>{let[E]=w;return h.includes(E)}));return f&&Object.keys(_s).forEach(w=>{d[w]&&(d[w]=pu(_s[w],d[w],f))}),d}function d_(u,f){const i=Rr(u)?u.name:u;if(typeof i!="string"){console.error("Block names must be strings.");return}if(!/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(i)){console.error("Block names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-block");return}if(mn.select(Tt).getBlockType(i)){console.error('Block "'+i+'" is already registered.');return}Rr(u)&&p_({[i]:g_(u)});const h=Y(Y({name:i,icon:Bs,keywords:[],attributes:{},providesContext:{},usesContext:[],supports:{},styles:[],variations:[],save:()=>null},an==null?void 0:an[i]),f);return mn.dispatch(Tt).__experimentalRegisterBlockType(h),mn.select(Tt).getBlockType(i)}function pu(u,f,i){return typeof u=="string"&&typeof f=="string"?sn._x(f,u,i):Array.isArray(u)&&u.length&&Array.isArray(f)?f.map(h=>pu(u[0],h,i)):Rr(u)&&Object.entries(u).length&&Rr(f)?Object.keys(f).reduce((h,d)=>u[d]?(h[d]=pu(u[d],f[d],i),h):(h[d]=f[d],h),{}):f}n_([t_,r_]);const vs=["#191e23","#f8f9f9"];function ks(u){return!!u&&(typeof u=="string"||is.isValidElement(u)||typeof u=="function"||u instanceof is.Component)}function __(u){if(u=u||Bs,ks(u))return{src:u};if("background"in u){const f=Ze(u.background),i=d=>f.contrast(d),h=Math.max(...vs.map(i));return $e(Y({},u),{foreground:u.foreground?u.foreground:vs.find(d=>i(d)===h),shadowColor:f.alpha(.3).toRgbString()})}return u}function Lr(u,f){return Object.fromEntries(Object.entries(u).filter(i=>{let[h]=i;return!f.includes(h)}))}const v_=[{slug:"text",title:sn.__("Text")},{slug:"media",title:sn.__("Media")},{slug:"design",title:sn.__("Design")},{slug:"widgets",title:sn.__("Widgets")},{slug:"theme",title:sn.__("Theme")},{slug:"embed",title:sn.__("Embeds")},{slug:"reusable",title:sn.__("Reusable blocks")}];function du(u){return u.reduce((f,i)=>$e(Y({},f),{[i.name]:i}),{})}function Ir(u){return u.reduce((f,i)=>(f.some(h=>h.name===i.name)||f.push(i),f),[])}function b_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;switch(f.type){case"ADD_UNPROCESSED_BLOCK_TYPE":return $e(Y({},u),{[f.blockType.name]:f.blockType});case"REMOVE_BLOCK_TYPES":return Lr(u,f.names)}return u}function y_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;switch(f.type){case"ADD_BLOCK_TYPES":return Y(Y({},u),du(f.blockTypes));case"REMOVE_BLOCK_TYPES":return Lr(u,f.names)}return u}function m_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;switch(f.type){case"ADD_BLOCK_TYPES":return Y(Y({},u),ae.mapValues(du(f.blockTypes),i=>Ir([...ae.get(i,["styles"],[]).map(h=>$e(Y({},h),{source:"block"})),...ae.get(u,[i.name],[]).filter(h=>{let{source:d}=h;return d!=="block"})])));case"ADD_BLOCK_STYLES":return $e(Y({},u),{[f.blockName]:Ir([...ae.get(u,[f.blockName],[]),...f.styles])});case"REMOVE_BLOCK_STYLES":return $e(Y({},u),{[f.blockName]:ae.get(u,[f.blockName],[]).filter(i=>f.styleNames.indexOf(i.name)===-1)})}return u}function w_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;switch(f.type){case"ADD_BLOCK_TYPES":return Y(Y({},u),ae.mapValues(du(f.blockTypes),i=>Ir([...ae.get(i,["variations"],[]).map(h=>$e(Y({},h),{source:"block"})),...ae.get(u,[i.name],[]).filter(h=>{let{source:d}=h;return d!=="block"})])));case"ADD_BLOCK_VARIATIONS":return $e(Y({},u),{[f.blockName]:Ir([...ae.get(u,[f.blockName],[]),...f.variations])});case"REMOVE_BLOCK_VARIATIONS":return $e(Y({},u),{[f.blockName]:ae.get(u,[f.blockName],[]).filter(i=>f.variationNames.indexOf(i.name)===-1)})}return u}function Br(u){return function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case"REMOVE_BLOCK_TYPES":return i.names.indexOf(f)!==-1?null:f;case u:return i.name||null}return f}}const x_=Br("SET_DEFAULT_BLOCK_NAME"),A_=Br("SET_FREEFORM_FALLBACK_BLOCK_NAME"),E_=Br("SET_UNREGISTERED_FALLBACK_BLOCK_NAME"),T_=Br("SET_GROUPING_BLOCK_NAME");function S_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v_,f=arguments.length>1?arguments[1]:void 0;switch(f.type){case"SET_CATEGORIES":return f.categories||[];case"UPDATE_CATEGORY":{if(!f.category||ae.isEmpty(f.category))return u;if(u.find(h=>{let{slug:d}=h;return d===f.slug}))return u.map(h=>h.slug===f.slug?Y(Y({},h),f.category):h)}}return u}function O_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;switch(f.type){case"ADD_BLOCK_COLLECTION":return $e(Y({},u),{[f.namespace]:{title:f.title,icon:f.icon}});case"REMOVE_BLOCK_COLLECTION":return Lr(u,f.namespace)}return u}const C_=mn.combineReducers({unprocessedBlockTypes:b_,blockTypes:y_,blockStyles:m_,blockVariations:w_,defaultBlockName:x_,freeformFallbackBlockName:A_,unregisteredFallbackBlockName:E_,groupingBlockName:T_,categories:S_,collections:O_});var au={};function R_(u){return[u]}function I_(u){return!!u&&typeof u=="object"}function L_(){var u={clear:function(){u.head=null}};return u}function bs(u,f,i){var h;if(u.length!==f.length)return!1;for(h=i;h<u.length;h++)if(u[h]!==f[h])return!1;return!0}function It(u,f){var i,h=f||R_;function d(E){var T=i,L=!0,G,D,N,ee;for(G=0;G<E.length;G++){if(D=E[G],!I_(D)){L=!1;break}T.has(D)?T=T.get(D):(N=new WeakMap,T.set(D,N),T=N)}return T.has(au)||(ee=L_(),ee.isUniqueByDependants=L,T.set(au,ee)),T.get(au)}function x(){i=new WeakMap}function w(){var E=arguments.length,T,L,G,D,N;for(D=new Array(E),G=0;G<E;G++)D[G]=arguments[G];for(N=h.apply(null,D),T=d(N),T.isUniqueByDependants||(T.lastDependants&&!bs(N,T.lastDependants,0)&&T.clear(),T.lastDependants=N),L=T.head;L;){if(!bs(L.args,D,1)){L=L.next;continue}return L!==T.head&&(L.prev.next=L.next,L.next&&(L.next.prev=L.prev),L.next=T.head,L.prev=null,T.head.prev=L,T.head=L),L.val}return L={val:u.apply(null,D)},D[0]=null,L.args=D,T.head&&(T.head.prev=L,L.next=T.head),T.head=L,L.val}return w.getDependants=h,w.clear=x,x(),w}var Ot={},B_={get exports(){return Ot},set exports(u){Ot=u}},Ps={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",ß:"ss",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},Ds=Object.keys(Ps).join("|"),k_=new RegExp(Ds,"g"),P_=new RegExp(Ds,"");function D_(u){return Ps[u]}var Ms=function(u){return u.replace(k_,D_)},M_=function(u){return!!u.match(P_)};B_.exports=Ms;Ot.has=M_;Ot.remove=Ms;const Fs=(u,f)=>typeof f=="string"?Lt(u,f):f;function F_(u){return u.unprocessedBlockTypes}const Ns=It(u=>Object.values(u.blockTypes),u=>[u.blockTypes]);function Lt(u,f){return u.blockTypes[f]}function N_(u,f){return u.blockStyles[f]}const _u=It((u,f,i)=>{const h=u.blockVariations[f];return!h||!i?h:h.filter(d=>(d.scope||["block","inserter"]).includes(i))},(u,f)=>[u.blockVariations[f]]);function W_(u,f,i,h){const d=_u(u,f,h);return d==null?void 0:d.find(w=>{var E;if(Array.isArray(w.isActive)){const T=Lt(u,f),L=Object.keys((T==null?void 0:T.attributes)||{}),G=w.isActive.filter(D=>L.includes(D));return G.length===0?!1:G.every(D=>i[D]===w.attributes[D])}return(E=w.isActive)===null||E===void 0?void 0:E.call(w,i,w.attributes)})}function U_(u,f,i){const h=_u(u,f,i);return[...h].reverse().find(x=>{let{isDefault:w}=x;return!!w})||h[0]}function $_(u){return u.categories}function G_(u){return u.collections}function K_(u){return u.defaultBlockName}function H_(u){return u.freeformFallbackBlockName}function q_(u){return u.unregisteredFallbackBlockName}function z_(u){return u.groupingBlockName}const vu=It((u,f)=>Ns(u).filter(i=>{var h;return(h=i.parent)===null||h===void 0?void 0:h.includes(f)}).map(i=>{let{name:h}=i;return h}),u=>[u.blockTypes]),Ws=(u,f,i,h)=>{const d=Fs(u,f);return d!=null&&d.supports?ae.get(d.supports,i,h):h};function Us(u,f,i,h){return!!Ws(u,f,i,h)}function Y_(u,f,i){var h;const d=Fs(u,f),x=lu.pipe([T=>Ot(T!=null?T:""),T=>T.toLowerCase(),T=>T.trim()]),w=x(i),E=lu.pipe([x,T=>T.includes(w)]);return E(d.title)||((h=d.keywords)===null||h===void 0?void 0:h.some(E))||E(d.category)||typeof d.description=="string"&&E(d.description)}const Z_=(u,f)=>vu(u,f).length>0,X_=(u,f)=>vu(u,f).some(i=>Us(u,i,"inserter",!0)),J_=It((u,f)=>{const i=Lt(u,f);return i?Object.entries(i.attributes).some(h=>{let[,{__experimentalRole:d}]=h;return d==="content"}):!1},(u,f)=>{var i;return[(i=u.blockTypes[f])===null||i===void 0?void 0:i.attributes]}),V_=Object.freeze(Object.defineProperty({__proto__:null,__experimentalGetUnprocessedBlockTypes:F_,__experimentalHasContentRoleAttribute:J_,getActiveBlockVariation:W_,getBlockStyles:N_,getBlockSupport:Ws,getBlockType:Lt,getBlockTypes:Ns,getBlockVariations:_u,getCategories:$_,getChildBlockNames:vu,getCollections:G_,getDefaultBlockName:K_,getDefaultBlockVariation:U_,getFreeformFallbackBlockName:H_,getGroupingBlockName:z_,getUnregisteredFallbackBlockName:q_,hasBlockSupport:Us,hasChildBlocks:Z_,hasChildBlocksWithInserterSupport:X_,isMatchingSearchTerm:Y_},Symbol.toStringTag,{value:"Module"})),Q_=["background","backgroundColor","color","linkColor","buttonColor","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","padding","contentSize","wideSize","blockGap","textDecoration","textTransform","letterSpacing"];function ys(u,f,i){return u.filter(h=>!(h==="fontSize"&&i==="heading"||h==="textDecoration"&&!f&&i!=="link"||h==="textTransform"&&!f&&!["heading","h1","h2","h3","h4","h5","h6"].includes(i)||h==="letterSpacing"&&!f&&!["heading","h1","h2","h3","h4","h5","h6"].includes(i)))}const j_=It((u,f,i)=>{var h,d,x,w,E,T,L,G,D;if(!f)return ys(Q_,f,i);const N=Lt(u,f);if(!N)return[];const ee=[];return N!=null&&(h=N.supports)!==null&&h!==void 0&&(d=h.spacing)!==null&&d!==void 0&&d.blockGap&&(N==null||(x=N.supports)===null||x===void 0||(w=x.spacing)===null||w===void 0?void 0:w.__experimentalSkipSerialization)!==!0&&!(N!=null&&(E=N.supports)!==null&&E!==void 0&&(T=E.spacing)!==null&&T!==void 0&&(L=T.__experimentalSkipSerialization)!==null&&L!==void 0&&(G=L.some)!==null&&G!==void 0&&G.call(L,J=>J==="blockGap"))&&ee.push("blockGap"),N!=null&&(D=N.supports)!==null&&D!==void 0&&D.shadow&&ee.push("shadow"),Object.keys(Vn).forEach(J=>{if(Vn[J].support){if(Vn[J].requiresOptOut&&Vn[J].support[0]in N.supports&&ae.get(N.supports,Vn[J].support)!==!1){ee.push(J);return}ae.get(N.supports,Vn[J].support,!1)&&ee.push(J)}}),ys(ee,f,i)},(u,f)=>[u.blockTypes[f]]),ev=Object.freeze(Object.defineProperty({__proto__:null,getSupportedStyles:j_},Symbol.toStringTag,{value:"Module"})),{error:Qn,warn:nv}=window.console,ms={common:"text",formatting:"text",layout:"design"};function ws(u){return typeof u=="function"}const $s=(u,f)=>{let{select:i}=f;const{name:h}=u,d=St.applyFilters("blocks.registerBlockType",Y({},u),h,null);if(d.description&&typeof d.description!="string"&&h_("Declaring non-string block descriptions",{since:"6.2"}),d.deprecated&&(d.deprecated=d.deprecated.map(x=>Object.fromEntries(Object.entries(St.applyFilters("blocks.registerBlockType",Y(Y({},Lr(u,ds)),x),h,x)).filter(w=>{let[E]=w;return ds.includes(E)})))),!i_(d)){Qn("Block settings must be a valid object.");return}if(!ws(d.save)){Qn('The "save" property must be a valid function.');return}if("edit"in d&&!ws(d.edit)){Qn('The "edit" property must be a valid function.');return}if(ms.hasOwnProperty(d.category)&&(d.category=ms[d.category]),"category"in d&&!i.getCategories().some(x=>{let{slug:w}=x;return w===d.category})&&(nv('The block "'+h+'" is registered with an invalid category "'+d.category+'".'),delete d.category),!("title"in d)||d.title===""){Qn('The block "'+h+'" must have a title.');return}if(typeof d.title!="string"){Qn("Block titles must be strings.");return}if(d.icon=__(d.icon),!ks(d.icon.src)){Qn("The icon passed is invalid. The icon should be a string, an element, a function, or an object following the specifications documented in https://developer.wordpress.org/block-editor/developers/block-api/block-registration/#icon-optional");return}return d};function tv(u){return{type:"ADD_BLOCK_TYPES",blockTypes:Array.isArray(u)?u:[u]}}const rv=u=>f=>{let{dispatch:i,select:h}=f;i({type:"ADD_UNPROCESSED_BLOCK_TYPE",blockType:u});const d=$s(u,{select:h});d&&i.addBlockTypes(d)},iv=()=>u=>{let{dispatch:f,select:i}=u;const h=i.__experimentalGetUnprocessedBlockTypes(),d=Object.keys(h).reduce((x,w)=>{const E=$s(h[w],{select:i});return E&&x.push(E),x},[]);d.length&&f.addBlockTypes(d)};function uv(u){return{type:"REMOVE_BLOCK_TYPES",names:Array.isArray(u)?u:[u]}}function ov(u,f){return{type:"ADD_BLOCK_STYLES",styles:Array.isArray(f)?f:[f],blockName:u}}function fv(u,f){return{type:"REMOVE_BLOCK_STYLES",styleNames:Array.isArray(f)?f:[f],blockName:u}}function sv(u,f){return{type:"ADD_BLOCK_VARIATIONS",variations:Array.isArray(f)?f:[f],blockName:u}}function av(u,f){return{type:"REMOVE_BLOCK_VARIATIONS",variationNames:Array.isArray(f)?f:[f],blockName:u}}function lv(u){return{type:"SET_DEFAULT_BLOCK_NAME",name:u}}function cv(u){return{type:"SET_FREEFORM_FALLBACK_BLOCK_NAME",name:u}}function hv(u){return{type:"SET_UNREGISTERED_FALLBACK_BLOCK_NAME",name:u}}function pv(u){return{type:"SET_GROUPING_BLOCK_NAME",name:u}}function gv(u){return{type:"SET_CATEGORIES",categories:u}}function dv(u,f){return{type:"UPDATE_CATEGORY",slug:u,category:f}}function _v(u,f,i){return{type:"ADD_BLOCK_COLLECTION",namespace:u,title:f,icon:i}}function vv(u){return{type:"REMOVE_BLOCK_COLLECTION",namespace:u}}const bv=Object.freeze(Object.defineProperty({__proto__:null,__experimentalReapplyBlockTypeFilters:iv,__experimentalRegisterBlockType:rv,addBlockCollection:_v,addBlockStyles:ov,addBlockTypes:tv,addBlockVariations:sv,removeBlockCollection:vv,removeBlockStyles:fv,removeBlockTypes:uv,removeBlockVariations:av,setCategories:gv,setDefaultBlockName:lv,setFreeformFallbackBlockName:cv,setGroupingBlockName:pv,setUnregisteredFallbackBlockName:hv,updateCategory:dv},Symbol.toStringTag,{value:"Module"})),yv="core/blocks",mv=["@wordpress/block-editor","@wordpress/block-library","@wordpress/blocks","@wordpress/components","@wordpress/customize-widgets","@wordpress/data","@wordpress/edit-post","@wordpress/edit-site","@wordpress/edit-widgets","@wordpress/editor"],xs=[],wv="I know using unstable features means my plugin or theme will inevitably break on the next WordPress release.";let gu;try{gu=!process.env.IS_WORDPRESS_CORE}catch(u){gu=!0}const xv=(u,f)=>{if(!mv.includes(f))throw new Error(`You tried to opt-in to unstable APIs as module "${f}". This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(!gu&&xs.includes(f))throw new Error(`You tried to opt-in to unstable APIs as module "${f}" which is already registered. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will be removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on one of the next WordPress releases.`);if(u!==wv)throw new Error("You tried to opt-in to unstable APIs without confirming you know the consequences. This feature is only for JavaScript modules shipped with WordPress core. Please do not use it in plugins and themes as the unstable APIs will removed without a warning. If you ignore this error and depend on unstable features, your product will inevitably break on the next WordPress release.");return xs.push(f),{lock:Av,unlock:Ev}};function Av(u,f){if(!u)throw new Error("Cannot lock an undefined object.");Et in u||(u[Et]={}),Gs.set(u[Et],f)}function Ev(u){if(!u)throw new Error("Cannot unlock an undefined object.");if(!(Et in u))throw new Error("Cannot unlock an object that was not locked before. ");return Gs.get(u[Et])}const Gs=new WeakMap,Et=Symbol("Private API ID"),{lock:Rv,unlock:Tv}=xv("I know using unstable features means my plugin or theme will inevitably break on the next WordPress release.","@wordpress/blocks"),Tt=mn.createReduxStore(yv,{reducer:C_,selectors:V_,actions:bv});mn.register(Tt);Tv(Tt).registerPrivateSelectors(ev);function Sv({clientId:u}){function f(){return`ub-preview-provider_${u}`}return Or.jsx("div",{className:"ub-preview-provider",id:f(),children:Or.jsx($0.InnerBlocks,{})})}const Ov=()=>{d_("ub/preview-provider",{title:sn.__("only for UB internal use","ultimate-blocks"),attributes:{},category:"ultimateblocks",supports:{inserter:!1,reusable:!1},edit:u=>Or.jsx(Sv,Y({},u)),save:()=>null})};exports.Debouncer=As.Debouncer;exports.IconSizeDefinition=As.IconSizeDefinition;exports.FrontendDataManager=H0;exports.HookManager=Os;exports.ManagerBase=Ts;exports.connectWithStore=G0;exports.createNamespacedHelpers=Es;exports.hookTypes=Ss;exports.registerPreviewManager=Ov;exports.withHookManager=z0;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbmMvanMvU3RvcmVIZWxwZXJzLmpzIiwiLi4vLi4vc3JjL2luYy9qcy9iYXNlL01hbmFnZXJCYXNlLmpzIiwiLi4vLi4vc3JjL2luYy9qcy9Gcm9udGVuZERhdGFNYW5hZ2VyLmpzIiwiLi4vLi4vc3JjL2luYy9qcy9Ib29rTWFuYWdlci5qc3giLCIuLi8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb2xvcmQvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NvbG9yZC9wbHVnaW5zL25hbWVzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jb2xvcmQvcGx1Z2lucy9hMTF5Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9pcy1wbGFpbi1vYmplY3QvZGlzdC9pcy1wbGFpbi1vYmplY3QubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9sb3dlci1jYXNlL2Rpc3QuZXMyMDE1L2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL25vLWNhc2UvZGlzdC5lczIwMTUvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcGFzY2FsLWNhc2UvZGlzdC5lczIwMTUvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvY2FtZWwtY2FzZS9kaXN0LmVzMjAxNS9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2RlcHJlY2F0ZWQvYnVpbGQtbW9kdWxlL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvYmxvY2tzL2J1aWxkLW1vZHVsZS9hcGkvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvYmxvY2tzL2J1aWxkLW1vZHVsZS9hcGkvcmVnaXN0cmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvYmxvY2tzL2J1aWxkLW1vZHVsZS9hcGkvdXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ibG9ja3MvYnVpbGQtbW9kdWxlL3N0b3JlL3JlZHVjZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcmVtZW1vL3JlbWVtby5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yZW1vdmUtYWNjZW50cy9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2Jsb2Nrcy9idWlsZC1tb2R1bGUvc3RvcmUvc2VsZWN0b3JzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvYmxvY2tzL2J1aWxkLW1vZHVsZS9zdG9yZS9wcml2YXRlLXNlbGVjdG9ycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2Jsb2Nrcy9idWlsZC1tb2R1bGUvc3RvcmUvYWN0aW9ucy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2Jsb2Nrcy9idWlsZC1tb2R1bGUvc3RvcmUvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvcHJpdmF0ZS1hcGlzL2J1aWxkLW1vZHVsZS9pbXBsZW1lbnRhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2Jsb2Nrcy9idWlsZC1tb2R1bGUvcHJpdmF0ZS1hcGlzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvYmxvY2tzL2J1aWxkLW1vZHVsZS9zdG9yZS9pbmRleC5qcyIsIi4uLy4uL3NyYy9pbmMvanMvY29tcG9uZW50cy9QcmV2aWV3UHJvdmlkZXIvUHJldmlld1Byb3ZpZGVyLmpzeCIsIi4uLy4uL3NyYy9pbmMvanMvcmVnaXN0ZXJQcmV2aWV3TWFuYWdlci5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd2l0aERpc3BhdGNoLCB3aXRoU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdAd29yZHByZXNzL2NvbXBvc2UnO1xuXG4vKipcbiAqIENyZWF0ZSBuYW1lc3BhY2VkIHN0b3JlIGhlbHBlcnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZXNwYWNlIHN0b3JlIG5hbWVzcGFjZVxuICogQHJldHVybiB7T2JqZWN0fSBuYW1lc3BhY2VkIGhlbHBlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzID0gKHN0b3JlTmFtZXNwYWNlKSA9PiB7XG5cdGNvbnN0IG5hbWVzcGFjZWRXaXRoRGlzcGF0Y2ggPSAoY2FsbGJhY2spID0+IHtcblx0XHRyZXR1cm4gd2l0aERpc3BhdGNoKChkaXNwYXRjaCwgb3duUHJvcHMsIHsgc2VsZWN0IH0pID0+IHtcblx0XHRcdGNvbnN0IG5hbWVzcGFjZWREaXNwYXRjaCA9IGRpc3BhdGNoKHN0b3JlTmFtZXNwYWNlKTtcblx0XHRcdGNvbnN0IG5hbWVzcGFjZWRTZWxlY3QgPSBzZWxlY3Qoc3RvcmVOYW1lc3BhY2UpO1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5hbWVzcGFjZWREaXNwYXRjaCwgbmFtZXNwYWNlZFNlbGVjdCk7XG5cdFx0fSk7XG5cdH07XG5cblx0Y29uc3QgbmFtZXNwYWNlZFdpdGhTZWxlY3QgPSAoY2FsbGJhY2spID0+IHtcblx0XHRyZXR1cm4gd2l0aFNlbGVjdCgoc2VsZWN0LCBvd25Qcm9wcywgcmVnaXN0cnkpID0+IHtcblx0XHRcdGNvbnN0IG5hbWVzcGFjZWRTZWxlY3QgPSBzZWxlY3Qoc3RvcmVOYW1lc3BhY2UpO1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5hbWVzcGFjZWRTZWxlY3QsIG93blByb3BzLCByZWdpc3RyeSk7XG5cdFx0fSk7XG5cdH07XG5cblx0cmV0dXJuIHsgbmFtZXNwYWNlZFdpdGhEaXNwYXRjaCwgbmFtZXNwYWNlZFdpdGhTZWxlY3QgfTtcbn07XG5cbi8qKlxuICogSE9DIGZvciBjb25uZWN0aW5nIGNvbXBvbmVudHMgd2l0aCBHdXRlbmJlcmcgZGF0YSBzdG9yZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9ICAgc3RvcmVOYW1lc3BhY2Ugc3RvcmUgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZWxlY3RNYXBwaW5nICBzZWxlY3QgbWFwcGluZ1xuICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uTWFwcGluZyAgYWN0aW9uIG1hcHBpbmdcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBjb21wb3NlZCBIT0MgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbm5lY3RXaXRoU3RvcmUgPSAoXG5cdHN0b3JlTmFtZXNwYWNlLFxuXHRzZWxlY3RNYXBwaW5nLFxuXHRhY3Rpb25NYXBwaW5nXG4pID0+IHtcblx0Ly8gZ2VuZXJhdGUgbmFtZXNwYWNlZCBoZWxwZXJzIGZvciByZWxhdGVkIHN0b3JlXG5cdGNvbnN0IHsgbmFtZXNwYWNlZFdpdGhEaXNwYXRjaCwgbmFtZXNwYWNlZFdpdGhTZWxlY3QgfSA9XG5cdFx0Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoc3RvcmVOYW1lc3BhY2UpO1xuXG5cdGxldCBhcHBseVNlbGVjdCA9IChwcm9wcykgPT4gcHJvcHM7XG5cdGlmIChzZWxlY3RNYXBwaW5nKSB7XG5cdFx0YXBwbHlTZWxlY3QgPSBuYW1lc3BhY2VkV2l0aFNlbGVjdChzZWxlY3RNYXBwaW5nKTtcblx0fVxuXG5cdGxldCBhcHBseUFjdGlvbiA9IChwcm9wcykgPT4gcHJvcHM7XG5cdGlmIChhY3Rpb25NYXBwaW5nKSB7XG5cdFx0YXBwbHlBY3Rpb24gPSBuYW1lc3BhY2VkV2l0aERpc3BhdGNoKGFjdGlvbk1hcHBpbmcpO1xuXHR9XG5cblx0cmV0dXJuIGNvbXBvc2UoYXBwbHlTZWxlY3QsIGFwcGx5QWN0aW9uKTtcbn07XG4iLCIvKipcbiAqIE1hbmFnZXIgYmFzZSBhYnN0cmFjdCBjbGFzcy5cbiAqXG4gKiBJbXBsZW1lbnQgYGluaXRMb2dpY2AgZnVuY3Rpb24gdG8gY29tcGx5LlxuICovXG5jbGFzcyBNYW5hZ2VyQmFzZSB7XG5cdC8qKlxuXHQgKiBJbml0aWFsaXphdGlvbiBzdGF0dXMgb2YgbWFuYWdlci5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqL1xuXHQjaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogR2V0IGluaXRpYWxpemF0aW9uIHN0YXR1cyBvZiBtYW5hZ2VyLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtib29sZWFufSBpbml0aWFsaXphdGlvbiBzdGF0dXNcblx0ICovXG5cdGlzSW5pdGlhbGl6ZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuI2luaXRpYWxpemVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemF0aW9uIGxvZ2ljLlxuXHQgKlxuXHQgKiBAYWJzdHJhY3Rcblx0ICovXG5cdF9pbml0TG9naWMoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0J2luaXRMb2dpYyBmdW5jdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQgYXQgZXh0ZW5kZWQgY2xhc3MnXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIG1hbmFnZXIgaW5zdGFuY2UuXG5cdCAqL1xuXHRpbml0KCkge1xuXHRcdGlmICghdGhpcy5pc0luaXRpYWxpemVkKCkpIHtcblx0XHRcdHRoaXMuX2luaXRMb2dpYy5jYWxsKHRoaXMsIC4uLmFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiNpbml0aWFsaXplZCA9IHRydWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQG1vZHVsZSBNYW5hZ2VyQmFzZVxuICovXG5leHBvcnQgZGVmYXVsdCBNYW5hZ2VyQmFzZTtcbiIsImltcG9ydCBNYW5hZ2VyQmFzZSBmcm9tICdASW5jL2pzL2Jhc2UvTWFuYWdlckJhc2UnO1xuXG4vKipcbiAqIEZyb250ZW5kIGRhdGEgbWFuYWdlci5cbiAqL1xuY2xhc3MgRnJvbnRlbmREYXRhTWFuYWdlciBleHRlbmRzIE1hbmFnZXJCYXNlIHtcblx0LyoqXG5cdCAqIFNlcnZlciBzZW50IGRhdGEgZm9yIGZyb250ZW5kIG9wZXJhdGlvbnMuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEB0eXBlIHtudWxsfVxuXHQgKi9cblx0I2Zyb250ZW5kRGF0YSA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBtYW5hZ2VyXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBnbG9iYWxPYmplY3RLZXkgbmFtZSBvZiB0aGUga2V5IHdoZXJlIHNlcnZlciBzZW50IGRhdGEgaXMgc3RvcmVkIGF0IGdsb2JhbCBjb250ZXh0XG5cdCAqL1xuXHRfaW5pdExvZ2ljKGdsb2JhbE9iamVjdEtleSkge1xuXHRcdGNvbnN0IGNvbnRleHQgPSBzZWxmIHx8IGdsb2JhbDtcblx0XHR0aGlzLiNmcm9udGVuZERhdGEgPSBjb250ZXh0W2dsb2JhbE9iamVjdEtleV0gfHwge307XG5cdFx0Y29udGV4dFtnbG9iYWxPYmplY3RLZXldID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBkYXRhIHZhbHVlIG9mIGhpZ2ggbGV2ZWwga2V5LlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5ICAgICAgICBrZXlcblx0ICogQHBhcmFtIHthbnl9ICAgIGRlZmF1bHRWYWwgZGVmYXVsdCB2YWx1ZVxuXHQgKiBAcmV0dXJuIHthbnl9IHZhbHVlXG5cdCAqL1xuXHRnZXREYXRhUHJvcGVydHkoa2V5LCBkZWZhdWx0VmFsID0gbnVsbCkge1xuXHRcdHJldHVybiB0aGlzLiNmcm9udGVuZERhdGFba2V5XSB8fCBkZWZhdWx0VmFsO1xuXHR9XG59XG5cbi8qKlxuICogQG1vZHVsZSBGcm9udGVuZERhdGFNYW5hZ2VyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IG5ldyBGcm9udGVuZERhdGFNYW5hZ2VyKCk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYXBwbHlGaWx0ZXJzLCBhZGRGaWx0ZXIgfSBmcm9tICdAd29yZHByZXNzL2hvb2tzJztcblxuLyoqXG4gKiBDb21tb24gaG9va3MgdXNlZCB0aHJvdWdob3V0IHBsdWdpbi5cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnQgY29uc3QgaG9va1R5cGVzID0ge1xuXHRmaWx0ZXJzOiB7XG5cdFx0QUREX1NVQl9DT01QT05FTlQ6ICdzdWJDb21wb25lbnRBZGQnLFxuXHR9LFxufTtcblxuLyoqXG4gKiBNYW5hZ2VyIHJlc3BvbnNpYmxlIGZvciBwbHVnaW4gd2lkZSBtZXNzYWdpbmcgYW5kIGZpbHRlcmluZyBvcGVyYXRpb25zLlxuICovXG5mdW5jdGlvbiBIb29rTWFuYWdlcigpIHtcblx0LyoqXG5cdCAqIEhvb2sgbmFtZXNwYWNlXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRjb25zdCBob29rTmFtZXNwYWNlID0gJ3ViJztcblxuXHQvKipcblx0ICogSG9vayB0eXBlcy5cblx0ICpcblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdGNvbnN0IHR5cGVzID0ge1xuXHRcdEZJTFRFUjogJ2ZpbHRlcicsXG5cdFx0QUNUSU9OOiAnYWN0aW9uJyxcblx0fTtcblxuXHQvKipcblx0ICogQ29tbW9uIGhvb2tzIHVzZWQgdGhyb3VnaG91dCBwbHVnaW4uXG5cdCAqXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHR0aGlzLmhvb2tUeXBlcyA9IGhvb2tUeXBlcztcblxuXHQvKipcblx0ICogUHJlcGFyZSBjb21wYXRpYmxlIGhvb2sgbmFtZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIGhvb2sgdHlwZSwgYXZhaWxhYmxlIHR5cGVzIGFyZSBhdCB0eXBlcyB2YXJpYWJsZVxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IGhvb2sgbmFtZVxuXHQgKi9cblx0Y29uc3QgcHJlcGFyZUhvb2tOYW1lID0gKG5hbWUsIHR5cGUpID0+IHtcblx0XHRyZXR1cm4gYCR7aG9va05hbWVzcGFjZX0uJHt0eXBlfS4ke25hbWV9YDtcblx0fTtcblxuXHQvKipcblx0ICogQXBwbHkgZmlsdGVyLlxuXHQgKlxuXHQgKiBJdCBpcyBhIHdyYXBwZXIgZm9yIEB3b3JkcHJlc3MvaG9va3MgYXBwbHlGaWx0ZXIgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJOYW1lIGZpbHRlciBuYW1lXG5cdCAqIEBwYXJhbSB7YW55fSAgICBkYXRhICAgICAgIGZpbHRlciBkYXRhXG5cdCAqIEByZXR1cm4ge2FueX0gZmlsdGVyZWQgZGF0YVxuXHQgKi9cblx0dGhpcy5hcHBseUZpbHRlcnMgPSAoZmlsdGVyTmFtZSwgZGF0YSkgPT4ge1xuXHRcdHJldHVybiBhcHBseUZpbHRlcnMocHJlcGFyZUhvb2tOYW1lKGZpbHRlck5hbWUsIHR5cGVzLkZJTFRFUiksIGRhdGEpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGQgZmlsdGVyLlxuXHQgKlxuXHQgKiBJdCBpcyBhIHdyYXBwZXIgZm9yIEB3b3JkcHJlc3MvaG9va3MgYWRkRmlsdGVyIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gICBmaWx0ZXJOYW1lICAgICAgIGZpbHRlciBuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSAgIHVuaXF1ZUlkZW50aWZpZXIgaWRlbnRpZmllciBmb3IgY2FsbGJhY2sgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICBjYWxsYmFjayBmdW5jdGlvblxuXHQgKi9cblx0dGhpcy5hZGRGaWx0ZXIgPSAoZmlsdGVyTmFtZSwgdW5pcXVlSWRlbnRpZmllciwgY2FsbGJhY2spID0+IHtcblx0XHRhZGRGaWx0ZXIoXG5cdFx0XHRwcmVwYXJlSG9va05hbWUoZmlsdGVyTmFtZSwgdHlwZXMuRklMVEVSKSxcblx0XHRcdHVuaXF1ZUlkZW50aWZpZXIsXG5cdFx0XHRjYWxsYmFja1xuXHRcdCk7XG5cdH07XG59XG5cbi8vIHNpbmdsZXRvbiBtYW5hZ2VyIGluc3RhbmNlXG5jb25zdCBtYW5hZ2VySW5zdGFuY2UgPSBuZXcgSG9va01hbmFnZXIoKTtcblxuLyoqXG4gKiBIT0MgZm9yIGNvbm5lY3Rpb24gdG8gaG9vayBtYW5hZ2VyLlxuICpcbiAqIEBwYXJhbSB7SlNYLkVsZW1lbnR9IENvbXBvbmVudCBjb21wb25lbnRcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBIT0MgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoSG9va01hbmFnZXIgPSAoQ29tcG9uZW50KSA9PiAocHJvcHMpID0+IHtcblx0cmV0dXJuIDxDb21wb25lbnQgey4uLnByb3BzfSB7Li4ubWFuYWdlckluc3RhbmNlfSAvPjtcbn07XG5cbi8qKlxuICogQG1vZHVsZSBIb29rTWFuYWdlciBzaW5nbGV0b24gaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgbWFuYWdlckluc3RhbmNlO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwidmFyIHI9e2dyYWQ6LjksdHVybjozNjAscmFkOjM2MC8oMipNYXRoLlBJKX0sdD1mdW5jdGlvbihyKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygcj9yLmxlbmd0aD4wOlwibnVtYmVyXCI9PXR5cGVvZiByfSxuPWZ1bmN0aW9uKHIsdCxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09biYmKG49TWF0aC5wb3coMTAsdCkpLE1hdGgucm91bmQobipyKS9uKzB9LGU9ZnVuY3Rpb24ocix0LG4pe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj0xKSxyPm4/bjpyPnQ/cjp0fSx1PWZ1bmN0aW9uKHIpe3JldHVybihyPWlzRmluaXRlKHIpP3IlMzYwOjApPjA/cjpyKzM2MH0sYT1mdW5jdGlvbihyKXtyZXR1cm57cjplKHIuciwwLDI1NSksZzplKHIuZywwLDI1NSksYjplKHIuYiwwLDI1NSksYTplKHIuYSl9fSxvPWZ1bmN0aW9uKHIpe3JldHVybntyOm4oci5yKSxnOm4oci5nKSxiOm4oci5iKSxhOm4oci5hLDMpfX0saT0vXiMoWzAtOWEtZl17Myw4fSkkL2kscz1mdW5jdGlvbihyKXt2YXIgdD1yLnRvU3RyaW5nKDE2KTtyZXR1cm4gdC5sZW5ndGg8Mj9cIjBcIit0OnR9LGg9ZnVuY3Rpb24ocil7dmFyIHQ9ci5yLG49ci5nLGU9ci5iLHU9ci5hLGE9TWF0aC5tYXgodCxuLGUpLG89YS1NYXRoLm1pbih0LG4sZSksaT1vP2E9PT10PyhuLWUpL286YT09PW4/MisoZS10KS9vOjQrKHQtbikvbzowO3JldHVybntoOjYwKihpPDA/aSs2OmkpLHM6YT9vL2EqMTAwOjAsdjphLzI1NSoxMDAsYTp1fX0sYj1mdW5jdGlvbihyKXt2YXIgdD1yLmgsbj1yLnMsZT1yLnYsdT1yLmE7dD10LzM2MCo2LG4vPTEwMCxlLz0xMDA7dmFyIGE9TWF0aC5mbG9vcih0KSxvPWUqKDEtbiksaT1lKigxLSh0LWEpKm4pLHM9ZSooMS0oMS10K2EpKm4pLGg9YSU2O3JldHVybntyOjI1NSpbZSxpLG8sbyxzLGVdW2hdLGc6MjU1KltzLGUsZSxpLG8sb11baF0sYjoyNTUqW28sbyxzLGUsZSxpXVtoXSxhOnV9fSxnPWZ1bmN0aW9uKHIpe3JldHVybntoOnUoci5oKSxzOmUoci5zLDAsMTAwKSxsOmUoci5sLDAsMTAwKSxhOmUoci5hKX19LGQ9ZnVuY3Rpb24ocil7cmV0dXJue2g6bihyLmgpLHM6bihyLnMpLGw6bihyLmwpLGE6bihyLmEsMyl9fSxmPWZ1bmN0aW9uKHIpe3JldHVybiBiKChuPSh0PXIpLnMse2g6dC5oLHM6KG4qPSgoZT10LmwpPDUwP2U6MTAwLWUpLzEwMCk+MD8yKm4vKGUrbikqMTAwOjAsdjplK24sYTp0LmF9KSk7dmFyIHQsbixlfSxjPWZ1bmN0aW9uKHIpe3JldHVybntoOih0PWgocikpLmgsczoodT0oMjAwLShuPXQucykpKihlPXQudikvMTAwKT4wJiZ1PDIwMD9uKmUvMTAwLyh1PD0xMDA/dToyMDAtdSkqMTAwOjAsbDp1LzIsYTp0LmF9O3ZhciB0LG4sZSx1fSxsPS9eaHNsYT9cXChcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKShkZWd8cmFkfGdyYWR8dHVybik/XFxzKixcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSVcXHMqLFxccyooWystXT9cXGQqXFwuP1xcZCspJVxccyooPzosXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoJSk/XFxzKik/XFwpJC9pLHA9L15oc2xhP1xcKFxccyooWystXT9cXGQqXFwuP1xcZCspKGRlZ3xyYWR8Z3JhZHx0dXJuKT9cXHMrKFsrLV0/XFxkKlxcLj9cXGQrKSVcXHMrKFsrLV0/XFxkKlxcLj9cXGQrKSVcXHMqKD86XFwvXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoJSk/XFxzKik/XFwpJC9pLHY9L15yZ2JhP1xcKFxccyooWystXT9cXGQqXFwuP1xcZCspKCUpP1xccyosXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoJSk/XFxzKixcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMqKD86LFxccyooWystXT9cXGQqXFwuP1xcZCspKCUpP1xccyopP1xcKSQvaSxtPS9ecmdiYT9cXChcXHMqKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMrKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMrKFsrLV0/XFxkKlxcLj9cXGQrKSglKT9cXHMqKD86XFwvXFxzKihbKy1dP1xcZCpcXC4/XFxkKykoJSk/XFxzKik/XFwpJC9pLHk9e3N0cmluZzpbW2Z1bmN0aW9uKHIpe3ZhciB0PWkuZXhlYyhyKTtyZXR1cm4gdD8ocj10WzFdKS5sZW5ndGg8PTQ/e3I6cGFyc2VJbnQoclswXStyWzBdLDE2KSxnOnBhcnNlSW50KHJbMV0rclsxXSwxNiksYjpwYXJzZUludChyWzJdK3JbMl0sMTYpLGE6ND09PXIubGVuZ3RoP24ocGFyc2VJbnQoclszXStyWzNdLDE2KS8yNTUsMik6MX06Nj09PXIubGVuZ3RofHw4PT09ci5sZW5ndGg/e3I6cGFyc2VJbnQoci5zdWJzdHIoMCwyKSwxNiksZzpwYXJzZUludChyLnN1YnN0cigyLDIpLDE2KSxiOnBhcnNlSW50KHIuc3Vic3RyKDQsMiksMTYpLGE6OD09PXIubGVuZ3RoP24ocGFyc2VJbnQoci5zdWJzdHIoNiwyKSwxNikvMjU1LDIpOjF9Om51bGw6bnVsbH0sXCJoZXhcIl0sW2Z1bmN0aW9uKHIpe3ZhciB0PXYuZXhlYyhyKXx8bS5leGVjKHIpO3JldHVybiB0P3RbMl0hPT10WzRdfHx0WzRdIT09dFs2XT9udWxsOmEoe3I6TnVtYmVyKHRbMV0pLyh0WzJdPzEwMC8yNTU6MSksZzpOdW1iZXIodFszXSkvKHRbNF0/MTAwLzI1NToxKSxiOk51bWJlcih0WzVdKS8odFs2XT8xMDAvMjU1OjEpLGE6dm9pZCAwPT09dFs3XT8xOk51bWJlcih0WzddKS8odFs4XT8xMDA6MSl9KTpudWxsfSxcInJnYlwiXSxbZnVuY3Rpb24odCl7dmFyIG49bC5leGVjKHQpfHxwLmV4ZWModCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGUsdSxhPWcoe2g6KGU9blsxXSx1PW5bMl0sdm9pZCAwPT09dSYmKHU9XCJkZWdcIiksTnVtYmVyKGUpKihyW3VdfHwxKSksczpOdW1iZXIoblszXSksbDpOdW1iZXIobls0XSksYTp2b2lkIDA9PT1uWzVdPzE6TnVtYmVyKG5bNV0pLyhuWzZdPzEwMDoxKX0pO3JldHVybiBmKGEpfSxcImhzbFwiXV0sb2JqZWN0OltbZnVuY3Rpb24ocil7dmFyIG49ci5yLGU9ci5nLHU9ci5iLG89ci5hLGk9dm9pZCAwPT09bz8xOm87cmV0dXJuIHQobikmJnQoZSkmJnQodSk/YSh7cjpOdW1iZXIobiksZzpOdW1iZXIoZSksYjpOdW1iZXIodSksYTpOdW1iZXIoaSl9KTpudWxsfSxcInJnYlwiXSxbZnVuY3Rpb24ocil7dmFyIG49ci5oLGU9ci5zLHU9ci5sLGE9ci5hLG89dm9pZCAwPT09YT8xOmE7aWYoIXQobil8fCF0KGUpfHwhdCh1KSlyZXR1cm4gbnVsbDt2YXIgaT1nKHtoOk51bWJlcihuKSxzOk51bWJlcihlKSxsOk51bWJlcih1KSxhOk51bWJlcihvKX0pO3JldHVybiBmKGkpfSxcImhzbFwiXSxbZnVuY3Rpb24ocil7dmFyIG49ci5oLGE9ci5zLG89ci52LGk9ci5hLHM9dm9pZCAwPT09aT8xOmk7aWYoIXQobil8fCF0KGEpfHwhdChvKSlyZXR1cm4gbnVsbDt2YXIgaD1mdW5jdGlvbihyKXtyZXR1cm57aDp1KHIuaCksczplKHIucywwLDEwMCksdjplKHIudiwwLDEwMCksYTplKHIuYSl9fSh7aDpOdW1iZXIobiksczpOdW1iZXIoYSksdjpOdW1iZXIobyksYTpOdW1iZXIocyl9KTtyZXR1cm4gYihoKX0sXCJoc3ZcIl1dfSxOPWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBlPXRbbl1bMF0ocik7aWYoZSlyZXR1cm5bZSx0W25dWzFdXX1yZXR1cm5bbnVsbCx2b2lkIDBdfSx4PWZ1bmN0aW9uKHIpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByP04oci50cmltKCkseS5zdHJpbmcpOlwib2JqZWN0XCI9PXR5cGVvZiByJiZudWxsIT09cj9OKHIseS5vYmplY3QpOltudWxsLHZvaWQgMF19LEk9ZnVuY3Rpb24ocil7cmV0dXJuIHgocilbMV19LE09ZnVuY3Rpb24ocix0KXt2YXIgbj1jKHIpO3JldHVybntoOm4uaCxzOmUobi5zKzEwMCp0LDAsMTAwKSxsOm4ubCxhOm4uYX19LEg9ZnVuY3Rpb24ocil7cmV0dXJuKDI5OSpyLnIrNTg3KnIuZysxMTQqci5iKS8xZTMvMjU1fSwkPWZ1bmN0aW9uKHIsdCl7dmFyIG49YyhyKTtyZXR1cm57aDpuLmgsczpuLnMsbDplKG4ubCsxMDAqdCwwLDEwMCksYTpuLmF9fSxqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihyKXt0aGlzLnBhcnNlZD14KHIpWzBdLHRoaXMucmdiYT10aGlzLnBhcnNlZHx8e3I6MCxnOjAsYjowLGE6MX19cmV0dXJuIHIucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucGFyc2VkfSxyLnByb3RvdHlwZS5icmlnaHRuZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG4oSCh0aGlzLnJnYmEpLDIpfSxyLnByb3RvdHlwZS5pc0Rhcms9ZnVuY3Rpb24oKXtyZXR1cm4gSCh0aGlzLnJnYmEpPC41fSxyLnByb3RvdHlwZS5pc0xpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIEgodGhpcy5yZ2JhKT49LjV9LHIucHJvdG90eXBlLnRvSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHI9byh0aGlzLnJnYmEpLHQ9ci5yLGU9ci5nLHU9ci5iLGk9KGE9ci5hKTwxP3MobigyNTUqYSkpOlwiXCIsXCIjXCIrcyh0KStzKGUpK3ModSkraTt2YXIgcix0LGUsdSxhLGl9LHIucHJvdG90eXBlLnRvUmdiPWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcy5yZ2JhKX0sci5wcm90b3R5cGUudG9SZ2JTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gcj1vKHRoaXMucmdiYSksdD1yLnIsbj1yLmcsZT1yLmIsKHU9ci5hKTwxP1wicmdiYShcIit0K1wiLCBcIituK1wiLCBcIitlK1wiLCBcIit1K1wiKVwiOlwicmdiKFwiK3QrXCIsIFwiK24rXCIsIFwiK2UrXCIpXCI7dmFyIHIsdCxuLGUsdX0sci5wcm90b3R5cGUudG9Ic2w9ZnVuY3Rpb24oKXtyZXR1cm4gZChjKHRoaXMucmdiYSkpfSxyLnByb3RvdHlwZS50b0hzbFN0cmluZz1mdW5jdGlvbigpe3JldHVybiByPWQoYyh0aGlzLnJnYmEpKSx0PXIuaCxuPXIucyxlPXIubCwodT1yLmEpPDE/XCJoc2xhKFwiK3QrXCIsIFwiK24rXCIlLCBcIitlK1wiJSwgXCIrdStcIilcIjpcImhzbChcIit0K1wiLCBcIituK1wiJSwgXCIrZStcIiUpXCI7dmFyIHIsdCxuLGUsdX0sci5wcm90b3R5cGUudG9Ic3Y9ZnVuY3Rpb24oKXtyZXR1cm4gcj1oKHRoaXMucmdiYSkse2g6bihyLmgpLHM6bihyLnMpLHY6bihyLnYpLGE6bihyLmEsMyl9O3ZhciByfSxyLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdyh7cjoyNTUtKHI9dGhpcy5yZ2JhKS5yLGc6MjU1LXIuZyxiOjI1NS1yLmIsYTpyLmF9KTt2YXIgcn0sci5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24ocil7cmV0dXJuIHZvaWQgMD09PXImJihyPS4xKSx3KE0odGhpcy5yZ2JhLHIpKX0sci5wcm90b3R5cGUuZGVzYXR1cmF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LjEpLHcoTSh0aGlzLnJnYmEsLXIpKX0sci5wcm90b3R5cGUuZ3JheXNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHcoTSh0aGlzLnJnYmEsLTEpKX0sci5wcm90b3R5cGUubGlnaHRlbj1mdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LjEpLHcoJCh0aGlzLnJnYmEscikpfSxyLnByb3RvdHlwZS5kYXJrZW49ZnVuY3Rpb24ocil7cmV0dXJuIHZvaWQgMD09PXImJihyPS4xKSx3KCQodGhpcy5yZ2JhLC1yKSl9LHIucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9MTUpLHRoaXMuaHVlKHRoaXMuaHVlKCkrcil9LHIucHJvdG90eXBlLmFscGhhPWZ1bmN0aW9uKHIpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiByP3coe3I6KHQ9dGhpcy5yZ2JhKS5yLGc6dC5nLGI6dC5iLGE6cn0pOm4odGhpcy5yZ2JhLmEsMyk7dmFyIHR9LHIucHJvdG90eXBlLmh1ZT1mdW5jdGlvbihyKXt2YXIgdD1jKHRoaXMucmdiYSk7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHI/dyh7aDpyLHM6dC5zLGw6dC5sLGE6dC5hfSk6bih0LmgpfSxyLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLnRvSGV4KCk9PT13KHIpLnRvSGV4KCl9LHJ9KCksdz1mdW5jdGlvbihyKXtyZXR1cm4gciBpbnN0YW5jZW9mIGo/cjpuZXcgaihyKX0sUz1bXSxrPWZ1bmN0aW9uKHIpe3IuZm9yRWFjaChmdW5jdGlvbihyKXtTLmluZGV4T2Yocik8MCYmKHIoaix5KSxTLnB1c2gocikpfSl9LEU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGooe3I6MjU1Kk1hdGgucmFuZG9tKCksZzoyNTUqTWF0aC5yYW5kb20oKSxiOjI1NSpNYXRoLnJhbmRvbSgpfSl9O2V4cG9ydHtqIGFzIENvbG9yZCx3IGFzIGNvbG9yZCxrIGFzIGV4dGVuZCxJIGFzIGdldEZvcm1hdCxFIGFzIHJhbmRvbX07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihlLGYpe3ZhciBhPXt3aGl0ZTpcIiNmZmZmZmZcIixiaXNxdWU6XCIjZmZlNGM0XCIsYmx1ZTpcIiMwMDAwZmZcIixjYWRldGJsdWU6XCIjNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIiM3ZmZmMDBcIixjaG9jb2xhdGU6XCIjZDI2OTFlXCIsY29yYWw6XCIjZmY3ZjUwXCIsYW50aXF1ZXdoaXRlOlwiI2ZhZWJkN1wiLGFxdWE6XCIjMDBmZmZmXCIsYXp1cmU6XCIjZjBmZmZmXCIsd2hpdGVzbW9rZTpcIiNmNWY1ZjVcIixwYXBheWF3aGlwOlwiI2ZmZWZkNVwiLHBsdW06XCIjZGRhMGRkXCIsYmxhbmNoZWRhbG1vbmQ6XCIjZmZlYmNkXCIsYmxhY2s6XCIjMDAwMDAwXCIsZ29sZDpcIiNmZmQ3MDBcIixnb2xkZW5yb2Q6XCIjZGFhNTIwXCIsZ2FpbnNib3JvOlwiI2RjZGNkY1wiLGNvcm5zaWxrOlwiI2ZmZjhkY1wiLGNvcm5mbG93ZXJibHVlOlwiIzY0OTVlZFwiLGJ1cmx5d29vZDpcIiNkZWI4ODdcIixhcXVhbWFyaW5lOlwiIzdmZmZkNFwiLGJlaWdlOlwiI2Y1ZjVkY1wiLGNyaW1zb246XCIjZGMxNDNjXCIsY3lhbjpcIiMwMGZmZmZcIixkYXJrYmx1ZTpcIiMwMDAwOGJcIixkYXJrY3lhbjpcIiMwMDhiOGJcIixkYXJrZ29sZGVucm9kOlwiI2I4ODYwYlwiLGRhcmtraGFraTpcIiNiZGI3NmJcIixkYXJrZ3JheTpcIiNhOWE5YTlcIixkYXJrZ3JlZW46XCIjMDA2NDAwXCIsZGFya2dyZXk6XCIjYTlhOWE5XCIscGVhY2hwdWZmOlwiI2ZmZGFiOVwiLGRhcmttYWdlbnRhOlwiIzhiMDA4YlwiLGRhcmtyZWQ6XCIjOGIwMDAwXCIsZGFya29yY2hpZDpcIiM5OTMyY2NcIixkYXJrb3JhbmdlOlwiI2ZmOGMwMFwiLGRhcmtzbGF0ZWJsdWU6XCIjNDgzZDhiXCIsZ3JheTpcIiM4MDgwODBcIixkYXJrc2xhdGVncmF5OlwiIzJmNGY0ZlwiLGRhcmtzbGF0ZWdyZXk6XCIjMmY0ZjRmXCIsZGVlcHBpbms6XCIjZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIjMDBiZmZmXCIsd2hlYXQ6XCIjZjVkZWIzXCIsZmlyZWJyaWNrOlwiI2IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI2ZmZmFmMFwiLGdob3N0d2hpdGU6XCIjZjhmOGZmXCIsZGFya3Zpb2xldDpcIiM5NDAwZDNcIixtYWdlbnRhOlwiI2ZmMDBmZlwiLGdyZWVuOlwiIzAwODAwMFwiLGRvZGdlcmJsdWU6XCIjMWU5MGZmXCIsZ3JleTpcIiM4MDgwODBcIixob25leWRldzpcIiNmMGZmZjBcIixob3RwaW5rOlwiI2ZmNjliNFwiLGJsdWV2aW9sZXQ6XCIjOGEyYmUyXCIsZm9yZXN0Z3JlZW46XCIjMjI4YjIyXCIsbGF3bmdyZWVuOlwiIzdjZmMwMFwiLGluZGlhbnJlZDpcIiNjZDVjNWNcIixpbmRpZ286XCIjNGIwMDgyXCIsZnVjaHNpYTpcIiNmZjAwZmZcIixicm93bjpcIiNhNTJhMmFcIixtYXJvb246XCIjODAwMDAwXCIsbWVkaXVtYmx1ZTpcIiMwMDAwY2RcIixsaWdodGNvcmFsOlwiI2YwODA4MFwiLGRhcmt0dXJxdW9pc2U6XCIjMDBjZWQxXCIsbGlnaHRjeWFuOlwiI2UwZmZmZlwiLGl2b3J5OlwiI2ZmZmZmMFwiLGxpZ2h0eWVsbG93OlwiI2ZmZmZlMFwiLGxpZ2h0c2FsbW9uOlwiI2ZmYTA3YVwiLGxpZ2h0c2VhZ3JlZW46XCIjMjBiMmFhXCIsbGluZW46XCIjZmFmMGU2XCIsbWVkaXVtYXF1YW1hcmluZTpcIiM2NmNkYWFcIixsZW1vbmNoaWZmb246XCIjZmZmYWNkXCIsbGltZTpcIiMwMGZmMDBcIixraGFraTpcIiNmMGU2OGNcIixtZWRpdW1zZWFncmVlbjpcIiMzY2IzNzFcIixsaW1lZ3JlZW46XCIjMzJjZDMyXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBmYTlhXCIsbGlnaHRza3libHVlOlwiIzg3Y2VmYVwiLGxpZ2h0Ymx1ZTpcIiNhZGQ4ZTZcIixtaWRuaWdodGJsdWU6XCIjMTkxOTcwXCIsbGlnaHRwaW5rOlwiI2ZmYjZjMVwiLG1pc3R5cm9zZTpcIiNmZmU0ZTFcIixtb2NjYXNpbjpcIiNmZmU0YjVcIixtaW50Y3JlYW06XCIjZjVmZmZhXCIsbGlnaHRzbGF0ZWdyYXk6XCIjNzc4ODk5XCIsbGlnaHRzbGF0ZWdyZXk6XCIjNzc4ODk5XCIsbmF2YWpvd2hpdGU6XCIjZmZkZWFkXCIsbmF2eTpcIiMwMDAwODBcIixtZWRpdW12aW9sZXRyZWQ6XCIjYzcxNTg1XCIscG93ZGVyYmx1ZTpcIiNiMGUwZTZcIixwYWxlZ29sZGVucm9kOlwiI2VlZThhYVwiLG9sZGxhY2U6XCIjZmRmNWU2XCIscGFsZXR1cnF1b2lzZTpcIiNhZmVlZWVcIixtZWRpdW10dXJxdW9pc2U6XCIjNDhkMWNjXCIsbWVkaXVtb3JjaGlkOlwiI2JhNTVkM1wiLHJlYmVjY2FwdXJwbGU6XCIjNjYzMzk5XCIsbGlnaHRzdGVlbGJsdWU6XCIjYjBjNGRlXCIsbWVkaXVtc2xhdGVibHVlOlwiIzdiNjhlZVwiLHRoaXN0bGU6XCIjZDhiZmQ4XCIsdGFuOlwiI2QyYjQ4Y1wiLG9yY2hpZDpcIiNkYTcwZDZcIixtZWRpdW1wdXJwbGU6XCIjOTM3MGRiXCIscHVycGxlOlwiIzgwMDA4MFwiLHBpbms6XCIjZmZjMGNiXCIsc2t5Ymx1ZTpcIiM4N2NlZWJcIixzcHJpbmdncmVlbjpcIiMwMGZmN2ZcIixwYWxlZ3JlZW46XCIjOThmYjk4XCIscmVkOlwiI2ZmMDAwMFwiLHllbGxvdzpcIiNmZmZmMDBcIixzbGF0ZWJsdWU6XCIjNmE1YWNkXCIsbGF2ZW5kZXJibHVzaDpcIiNmZmYwZjVcIixwZXJ1OlwiI2NkODUzZlwiLHBhbGV2aW9sZXRyZWQ6XCIjZGI3MDkzXCIsdmlvbGV0OlwiI2VlODJlZVwiLHRlYWw6XCIjMDA4MDgwXCIsc2xhdGVncmF5OlwiIzcwODA5MFwiLHNsYXRlZ3JleTpcIiM3MDgwOTBcIixhbGljZWJsdWU6XCIjZjBmOGZmXCIsZGFya3NlYWdyZWVuOlwiIzhmYmM4ZlwiLGRhcmtvbGl2ZWdyZWVuOlwiIzU1NmIyZlwiLGdyZWVueWVsbG93OlwiI2FkZmYyZlwiLHNlYWdyZWVuOlwiIzJlOGI1N1wiLHNlYXNoZWxsOlwiI2ZmZjVlZVwiLHRvbWF0bzpcIiNmZjYzNDdcIixzaWx2ZXI6XCIjYzBjMGMwXCIsc2llbm5hOlwiI2EwNTIyZFwiLGxhdmVuZGVyOlwiI2U2ZTZmYVwiLGxpZ2h0Z3JlZW46XCIjOTBlZTkwXCIsb3JhbmdlOlwiI2ZmYTUwMFwiLG9yYW5nZXJlZDpcIiNmZjQ1MDBcIixzdGVlbGJsdWU6XCIjNDY4MmI0XCIscm95YWxibHVlOlwiIzQxNjllMVwiLHR1cnF1b2lzZTpcIiM0MGUwZDBcIix5ZWxsb3dncmVlbjpcIiM5YWNkMzJcIixzYWxtb246XCIjZmE4MDcyXCIsc2FkZGxlYnJvd246XCIjOGI0NTEzXCIsc2FuZHlicm93bjpcIiNmNGE0NjBcIixyb3N5YnJvd246XCIjYmM4ZjhmXCIsZGFya3NhbG1vbjpcIiNlOTk2N2FcIixsaWdodGdvbGRlbnJvZHllbGxvdzpcIiNmYWZhZDJcIixzbm93OlwiI2ZmZmFmYVwiLGxpZ2h0Z3JleTpcIiNkM2QzZDNcIixsaWdodGdyYXk6XCIjZDNkM2QzXCIsZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLG9saXZlZHJhYjpcIiM2YjhlMjNcIixvbGl2ZTpcIiM4MDgwMDBcIn0scj17fTtmb3IodmFyIGQgaW4gYSlyW2FbZF1dPWQ7dmFyIGw9e307ZS5wcm90b3R5cGUudG9OYW1lPWZ1bmN0aW9uKGYpe2lmKCEodGhpcy5yZ2JhLmF8fHRoaXMucmdiYS5yfHx0aGlzLnJnYmEuZ3x8dGhpcy5yZ2JhLmIpKXJldHVyblwidHJhbnNwYXJlbnRcIjt2YXIgZCxpLG49clt0aGlzLnRvSGV4KCldO2lmKG4pcmV0dXJuIG47aWYobnVsbD09Zj92b2lkIDA6Zi5jbG9zZXN0KXt2YXIgbz10aGlzLnRvUmdiKCksdD0xLzAsYj1cImJsYWNrXCI7aWYoIWwubGVuZ3RoKWZvcih2YXIgYyBpbiBhKWxbY109bmV3IGUoYVtjXSkudG9SZ2IoKTtmb3IodmFyIGcgaW4gYSl7dmFyIHU9KGQ9byxpPWxbZ10sTWF0aC5wb3coZC5yLWkuciwyKStNYXRoLnBvdyhkLmctaS5nLDIpK01hdGgucG93KGQuYi1pLmIsMikpO3U8dCYmKHQ9dSxiPWcpfXJldHVybiBifX07Zi5zdHJpbmcucHVzaChbZnVuY3Rpb24oZil7dmFyIHI9Zi50b0xvd2VyQ2FzZSgpLGQ9XCJ0cmFuc3BhcmVudFwiPT09cj9cIiMwMDAwXCI6YVtyXTtyZXR1cm4gZD9uZXcgZShkKS50b1JnYigpOm51bGx9LFwibmFtZVwiXSl9XG4iLCJ2YXIgbz1mdW5jdGlvbihvKXt2YXIgdD1vLzI1NTtyZXR1cm4gdDwuMDQwNDU/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpfSx0PWZ1bmN0aW9uKHQpe3JldHVybi4yMTI2Km8odC5yKSsuNzE1MipvKHQuZykrLjA3MjIqbyh0LmIpfTtleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvKXtvLnByb3RvdHlwZS5sdW1pbmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbz10KHRoaXMucmdiYSksdm9pZCAwPT09KHI9MikmJihyPTApLHZvaWQgMD09PW4mJihuPU1hdGgucG93KDEwLHIpKSxNYXRoLnJvdW5kKG4qbykvbiswO3ZhciBvLHIsbn0sby5wcm90b3R5cGUuY29udHJhc3Q9ZnVuY3Rpb24ocil7dm9pZCAwPT09ciYmKHI9XCIjRkZGXCIpO3ZhciBuLGEsaSxlLHYsdSxkLGM9ciBpbnN0YW5jZW9mIG8/cjpuZXcgbyhyKTtyZXR1cm4gZT10aGlzLnJnYmEsdj1jLnRvUmdiKCksdT10KGUpLGQ9dCh2KSxuPXU+ZD8odSsuMDUpLyhkKy4wNSk6KGQrLjA1KS8odSsuMDUpLHZvaWQgMD09PShhPTIpJiYoYT0wKSx2b2lkIDA9PT1pJiYoaT1NYXRoLnBvdygxMCxhKSksTWF0aC5mbG9vcihpKm4pL2krMH0sby5wcm90b3R5cGUuaXNSZWFkYWJsZT1mdW5jdGlvbihvLHQpe3JldHVybiB2b2lkIDA9PT1vJiYobz1cIiNGRkZcIiksdm9pZCAwPT09dCYmKHQ9e30pLHRoaXMuY29udHJhc3Qobyk+PShlPXZvaWQgMD09PShpPShyPXQpLnNpemUpP1wibm9ybWFsXCI6aSxcIkFBQVwiPT09KGE9dm9pZCAwPT09KG49ci5sZXZlbCk/XCJBQVwiOm4pJiZcIm5vcm1hbFwiPT09ZT83OlwiQUFcIj09PWEmJlwibGFyZ2VcIj09PWU/Mzo0LjUpO3ZhciByLG4sYSxpLGV9fVxuIiwiLyohXG4gKiBpcy1wbGFpbi1vYmplY3QgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzLXBsYWluLW9iamVjdD5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgSm9uIFNjaGxpbmtlcnQuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gIHZhciBjdG9yLHByb3Q7XG5cbiAgaWYgKGlzT2JqZWN0KG8pID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIGhhcyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICBjdG9yID0gby5jb25zdHJ1Y3RvcjtcbiAgaWYgKGN0b3IgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG5cbiAgLy8gSWYgaGFzIG1vZGlmaWVkIHByb3RvdHlwZVxuICBwcm90ID0gY3Rvci5wcm90b3R5cGU7XG4gIGlmIChpc09iamVjdChwcm90KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiBjb25zdHJ1Y3RvciBkb2VzIG5vdCBoYXZlIGFuIE9iamVjdC1zcGVjaWZpYyBtZXRob2RcbiAgaWYgKHByb3QuaGFzT3duUHJvcGVydHkoJ2lzUHJvdG90eXBlT2YnKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBNb3N0IGxpa2VseSBhIHBsYWluIE9iamVjdFxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgaXNQbGFpbk9iamVjdCB9O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuIiwiLyoqXG4gKiBTb3VyY2U6IGZ0cDovL2Z0cC51bmljb2RlLm9yZy9QdWJsaWMvVUNEL2xhdGVzdC91Y2QvU3BlY2lhbENhc2luZy50eHRcbiAqL1xudmFyIFNVUFBPUlRFRF9MT0NBTEUgPSB7XG4gICAgdHI6IHtcbiAgICAgICAgcmVnZXhwOiAvXFx1MDEzMHxcXHUwMDQ5fFxcdTAwNDlcXHUwMzA3L2csXG4gICAgICAgIG1hcDoge1xuICAgICAgICAgICAgxLA6IFwiXFx1MDA2OVwiLFxuICAgICAgICAgICAgSTogXCJcXHUwMTMxXCIsXG4gICAgICAgICAgICBJzIc6IFwiXFx1MDA2OVwiLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgYXo6IHtcbiAgICAgICAgcmVnZXhwOiAvXFx1MDEzMC9nLFxuICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIMSwOiBcIlxcdTAwNjlcIixcbiAgICAgICAgICAgIEk6IFwiXFx1MDEzMVwiLFxuICAgICAgICAgICAgScyHOiBcIlxcdTAwNjlcIixcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGx0OiB7XG4gICAgICAgIHJlZ2V4cDogL1xcdTAwNDl8XFx1MDA0QXxcXHUwMTJFfFxcdTAwQ0N8XFx1MDBDRHxcXHUwMTI4L2csXG4gICAgICAgIG1hcDoge1xuICAgICAgICAgICAgSTogXCJcXHUwMDY5XFx1MDMwN1wiLFxuICAgICAgICAgICAgSjogXCJcXHUwMDZBXFx1MDMwN1wiLFxuICAgICAgICAgICAgxK46IFwiXFx1MDEyRlxcdTAzMDdcIixcbiAgICAgICAgICAgIMOMOiBcIlxcdTAwNjlcXHUwMzA3XFx1MDMwMFwiLFxuICAgICAgICAgICAgw406IFwiXFx1MDA2OVxcdTAzMDdcXHUwMzAxXCIsXG4gICAgICAgICAgICDEqDogXCJcXHUwMDY5XFx1MDMwN1xcdTAzMDNcIixcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbi8qKlxuICogTG9jYWxpemVkIGxvd2VyIGNhc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbGVMb3dlckNhc2Uoc3RyLCBsb2NhbGUpIHtcbiAgICB2YXIgbGFuZyA9IFNVUFBPUlRFRF9MT0NBTEVbbG9jYWxlLnRvTG93ZXJDYXNlKCldO1xuICAgIGlmIChsYW5nKVxuICAgICAgICByZXR1cm4gbG93ZXJDYXNlKHN0ci5yZXBsYWNlKGxhbmcucmVnZXhwLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbGFuZy5tYXBbbV07IH0pKTtcbiAgICByZXR1cm4gbG93ZXJDYXNlKHN0cik7XG59XG4vKipcbiAqIExvd2VyIGNhc2UgYXMgYSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvd2VyQ2FzZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBsb3dlckNhc2UgfSBmcm9tIFwibG93ZXItY2FzZVwiO1xuLy8gU3VwcG9ydCBjYW1lbCBjYXNlIChcImNhbWVsQ2FzZVwiIC0+IFwiY2FtZWwgQ2FzZVwiIGFuZCBcIkNBTUVMQ2FzZVwiIC0+IFwiQ0FNRUwgQ2FzZVwiKS5cbnZhciBERUZBVUxUX1NQTElUX1JFR0VYUCA9IFsvKFthLXowLTldKShbQS1aXSkvZywgLyhbQS1aXSkoW0EtWl1bYS16XSkvZ107XG4vLyBSZW1vdmUgYWxsIG5vbi13b3JkIGNoYXJhY3RlcnMuXG52YXIgREVGQVVMVF9TVFJJUF9SRUdFWFAgPSAvW15BLVowLTldKy9naTtcbi8qKlxuICogTm9ybWFsaXplIHRoZSBzdHJpbmcgaW50byBzb21ldGhpbmcgb3RoZXIgbGlicmFyaWVzIGNhbiBtYW5pcHVsYXRlIGVhc2llci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vQ2FzZShpbnB1dCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIF9hID0gb3B0aW9ucy5zcGxpdFJlZ2V4cCwgc3BsaXRSZWdleHAgPSBfYSA9PT0gdm9pZCAwID8gREVGQVVMVF9TUExJVF9SRUdFWFAgOiBfYSwgX2IgPSBvcHRpb25zLnN0cmlwUmVnZXhwLCBzdHJpcFJlZ2V4cCA9IF9iID09PSB2b2lkIDAgPyBERUZBVUxUX1NUUklQX1JFR0VYUCA6IF9iLCBfYyA9IG9wdGlvbnMudHJhbnNmb3JtLCB0cmFuc2Zvcm0gPSBfYyA9PT0gdm9pZCAwID8gbG93ZXJDYXNlIDogX2MsIF9kID0gb3B0aW9ucy5kZWxpbWl0ZXIsIGRlbGltaXRlciA9IF9kID09PSB2b2lkIDAgPyBcIiBcIiA6IF9kO1xuICAgIHZhciByZXN1bHQgPSByZXBsYWNlKHJlcGxhY2UoaW5wdXQsIHNwbGl0UmVnZXhwLCBcIiQxXFwwJDJcIiksIHN0cmlwUmVnZXhwLCBcIlxcMFwiKTtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIHZhciBlbmQgPSByZXN1bHQubGVuZ3RoO1xuICAgIC8vIFRyaW0gdGhlIGRlbGltaXRlciBmcm9tIGFyb3VuZCB0aGUgb3V0cHV0IHN0cmluZy5cbiAgICB3aGlsZSAocmVzdWx0LmNoYXJBdChzdGFydCkgPT09IFwiXFwwXCIpXG4gICAgICAgIHN0YXJ0Kys7XG4gICAgd2hpbGUgKHJlc3VsdC5jaGFyQXQoZW5kIC0gMSkgPT09IFwiXFwwXCIpXG4gICAgICAgIGVuZC0tO1xuICAgIC8vIFRyYW5zZm9ybSBlYWNoIHRva2VuIGluZGVwZW5kZW50bHkuXG4gICAgcmV0dXJuIHJlc3VsdC5zbGljZShzdGFydCwgZW5kKS5zcGxpdChcIlxcMFwiKS5tYXAodHJhbnNmb3JtKS5qb2luKGRlbGltaXRlcik7XG59XG4vKipcbiAqIFJlcGxhY2UgYHJlYCBpbiB0aGUgaW5wdXQgc3RyaW5nIHdpdGggdGhlIHJlcGxhY2VtZW50IHZhbHVlLlxuICovXG5mdW5jdGlvbiByZXBsYWNlKGlucHV0LCByZSwgdmFsdWUpIHtcbiAgICBpZiAocmUgaW5zdGFuY2VvZiBSZWdFeHApXG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKHJlLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHJlLnJlZHVjZShmdW5jdGlvbiAoaW5wdXQsIHJlKSB7IHJldHVybiBpbnB1dC5yZXBsYWNlKHJlLCB2YWx1ZSk7IH0sIGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBub0Nhc2UgfSBmcm9tIFwibm8tY2FzZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhc2NhbENhc2VUcmFuc2Zvcm0oaW5wdXQsIGluZGV4KSB7XG4gICAgdmFyIGZpcnN0Q2hhciA9IGlucHV0LmNoYXJBdCgwKTtcbiAgICB2YXIgbG93ZXJDaGFycyA9IGlucHV0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChpbmRleCA+IDAgJiYgZmlyc3RDaGFyID49IFwiMFwiICYmIGZpcnN0Q2hhciA8PSBcIjlcIikge1xuICAgICAgICByZXR1cm4gXCJfXCIgKyBmaXJzdENoYXIgKyBsb3dlckNoYXJzO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIiArIGZpcnN0Q2hhci50b1VwcGVyQ2FzZSgpICsgbG93ZXJDaGFycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXNjYWxDYXNlVHJhbnNmb3JtTWVyZ2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBpbnB1dC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhc2NhbENhc2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBub0Nhc2UoaW5wdXQsIF9fYXNzaWduKHsgZGVsaW1pdGVyOiBcIlwiLCB0cmFuc2Zvcm06IHBhc2NhbENhc2VUcmFuc2Zvcm0gfSwgb3B0aW9ucykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IHBhc2NhbENhc2UsIHBhc2NhbENhc2VUcmFuc2Zvcm0sIHBhc2NhbENhc2VUcmFuc2Zvcm1NZXJnZSwgfSBmcm9tIFwicGFzY2FsLWNhc2VcIjtcbmV4cG9ydCBmdW5jdGlvbiBjYW1lbENhc2VUcmFuc2Zvcm0oaW5wdXQsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID09PSAwKVxuICAgICAgICByZXR1cm4gaW5wdXQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gcGFzY2FsQ2FzZVRyYW5zZm9ybShpbnB1dCwgaW5kZXgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsQ2FzZVRyYW5zZm9ybU1lcmdlKGlucHV0LCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGlucHV0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHBhc2NhbENhc2VUcmFuc2Zvcm1NZXJnZShpbnB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FtZWxDYXNlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gcGFzY2FsQ2FzZShpbnB1dCwgX19hc3NpZ24oeyB0cmFuc2Zvcm06IGNhbWVsQ2FzZVRyYW5zZm9ybSB9LCBvcHRpb25zKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcbiAqIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZG9BY3Rpb24gfSBmcm9tICdAd29yZHByZXNzL2hvb2tzJztcbi8qKlxuICogT2JqZWN0IG1hcCB0cmFja2luZyBtZXNzYWdlcyB3aGljaCBoYXZlIGJlZW4gbG9nZ2VkLCBmb3IgdXNlIGluIGVuc3VyaW5nIGFcbiAqIG1lc3NhZ2UgaXMgb25seSBsb2dnZWQgb25jZS5cbiAqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgdHJ1ZSB8IHVuZGVmaW5lZD59XG4gKi9cblxuZXhwb3J0IGNvbnN0IGxvZ2dlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIExvZ3MgYSBtZXNzYWdlIHRvIG5vdGlmeSBkZXZlbG9wZXJzIGFib3V0IGEgZGVwcmVjYXRlZCBmZWF0dXJlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlICAgICAgICAgICAgICAgTmFtZSBvZiB0aGUgZGVwcmVjYXRlZCBmZWF0dXJlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgICAgICBQZXJzb25hbGlzYXRpb24gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNpbmNlXSAgICAgICBWZXJzaW9uIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdhcyBkZXByZWNhdGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnNpb25dICAgICBWZXJzaW9uIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdpbGwgYmUgcmVtb3ZlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hbHRlcm5hdGl2ZV0gRmVhdHVyZSB0byB1c2UgaW5zdGVhZFxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBsdWdpbl0gICAgICBQbHVnaW4gbmFtZSBpZiBpdCdzIGEgcGx1Z2luIGZlYXR1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5saW5rXSAgICAgICAgTGluayB0byBkb2N1bWVudGF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaGludF0gICAgICAgIEFkZGl0aW9uYWwgbWVzc2FnZSB0byBoZWxwIHRyYW5zaXRpb24gYXdheSBmcm9tIHRoZSBkZXByZWNhdGVkIGZlYXR1cmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgZGVwcmVjYXRlZCBmcm9tICdAd29yZHByZXNzL2RlcHJlY2F0ZWQnO1xuICpcbiAqIGRlcHJlY2F0ZWQoICdFYXRpbmcgbWVhdCcsIHtcbiAqIFx0c2luY2U6ICcyMDE5LjAxLjAxJ1xuICogXHR2ZXJzaW9uOiAnMjAyMC4wMS4wMScsXG4gKiBcdGFsdGVybmF0aXZlOiAndmVnZXRhYmxlcycsXG4gKiBcdHBsdWdpbjogJ3RoZSBlYXJ0aCcsXG4gKiBcdGhpbnQ6ICdZb3UgbWF5IGZpbmQgaXQgYmVuZWZpY2lhbCB0byB0cmFuc2l0aW9uIGdyYWR1YWxseS4nLFxuICogfSApO1xuICpcbiAqIC8vIExvZ3M6ICdFYXRpbmcgbWVhdCBpcyBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMjAxOS4wMS4wMSBhbmQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVhcnRoIGluIHZlcnNpb24gMjAyMC4wMS4wMS4gUGxlYXNlIHVzZSB2ZWdldGFibGVzIGluc3RlYWQuIE5vdGU6IFlvdSBtYXkgZmluZCBpdCBiZW5lZmljaWFsIHRvIHRyYW5zaXRpb24gZ3JhZHVhbGx5LidcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlcHJlY2F0ZWQoZmVhdHVyZSkge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IHtcbiAgICBzaW5jZSxcbiAgICB2ZXJzaW9uLFxuICAgIGFsdGVybmF0aXZlLFxuICAgIHBsdWdpbixcbiAgICBsaW5rLFxuICAgIGhpbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBsdWdpbk1lc3NhZ2UgPSBwbHVnaW4gPyBgIGZyb20gJHtwbHVnaW59YCA6ICcnO1xuICBjb25zdCBzaW5jZU1lc3NhZ2UgPSBzaW5jZSA/IGAgc2luY2UgdmVyc2lvbiAke3NpbmNlfWAgOiAnJztcbiAgY29uc3QgdmVyc2lvbk1lc3NhZ2UgPSB2ZXJzaW9uID8gYCBhbmQgd2lsbCBiZSByZW1vdmVkJHtwbHVnaW5NZXNzYWdlfSBpbiB2ZXJzaW9uICR7dmVyc2lvbn1gIDogJyc7XG4gIGNvbnN0IHVzZUluc3RlYWRNZXNzYWdlID0gYWx0ZXJuYXRpdmUgPyBgIFBsZWFzZSB1c2UgJHthbHRlcm5hdGl2ZX0gaW5zdGVhZC5gIDogJyc7XG4gIGNvbnN0IGxpbmtNZXNzYWdlID0gbGluayA/IGAgU2VlOiAke2xpbmt9YCA6ICcnO1xuICBjb25zdCBoaW50TWVzc2FnZSA9IGhpbnQgPyBgIE5vdGU6ICR7aGludH1gIDogJyc7XG4gIGNvbnN0IG1lc3NhZ2UgPSBgJHtmZWF0dXJlfSBpcyBkZXByZWNhdGVkJHtzaW5jZU1lc3NhZ2V9JHt2ZXJzaW9uTWVzc2FnZX0uJHt1c2VJbnN0ZWFkTWVzc2FnZX0ke2xpbmtNZXNzYWdlfSR7aGludE1lc3NhZ2V9YDsgLy8gU2tpcCBpZiBhbHJlYWR5IGxvZ2dlZC5cblxuICBpZiAobWVzc2FnZSBpbiBsb2dnZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLyoqXG4gICAqIEZpcmVzIHdoZW5ldmVyIGEgZGVwcmVjYXRlZCBmZWF0dXJlIGlzIGVuY291bnRlcmVkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgZmVhdHVyZSAgICAgICAgICAgICBOYW1lIG9mIHRoZSBkZXByZWNhdGVkIGZlYXR1cmUuXG4gICAqIEBwYXJhbSB7P09iamVjdH0gb3B0aW9ucyAgICAgICAgICAgICBQZXJzb25hbGlzYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gIG9wdGlvbnMuc2luY2UgICAgICAgVmVyc2lvbiBpbiB3aGljaCB0aGUgZmVhdHVyZSB3YXMgZGVwcmVjYXRlZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBvcHRpb25zLnZlcnNpb24gICAgIFZlcnNpb24gaW4gd2hpY2ggdGhlIGZlYXR1cmUgd2lsbCBiZSByZW1vdmVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG9wdGlvbnMuYWx0ZXJuYXRpdmUgRmVhdHVyZSB0byB1c2UgaW5zdGVhZFxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG9wdGlvbnMucGx1Z2luICAgICAgUGx1Z2luIG5hbWUgaWYgaXQncyBhIHBsdWdpbiBmZWF0dXJlXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gb3B0aW9ucy5saW5rICAgICAgICBMaW5rIHRvIGRvY3VtZW50YXRpb25cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBvcHRpb25zLmhpbnQgICAgICAgIEFkZGl0aW9uYWwgbWVzc2FnZSB0byBoZWxwIHRyYW5zaXRpb24gYXdheSBmcm9tIHRoZSBkZXByZWNhdGVkIGZlYXR1cmUuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gbWVzc2FnZSAgICAgICAgICAgICBNZXNzYWdlIHNlbnQgdG8gY29uc29sZS53YXJuXG4gICAqL1xuXG5cbiAgZG9BY3Rpb24oJ2RlcHJlY2F0ZWQnLCBmZWF0dXJlLCBvcHRpb25zLCBtZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gIGxvZ2dlZFttZXNzYWdlXSA9IHRydWU7XG59XG4vKiogQHR5cGVkZWYge2ltcG9ydCgndXRpbGl0eS10eXBlcycpLk5vblVuZGVmaW5lZDxQYXJhbWV0ZXJzPHR5cGVvZiBkZXByZWNhdGVkPlsxXT59IERlcHJlY2F0ZWRPcHRpb25zICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgY29uc3QgQkxPQ0tfSUNPTl9ERUZBVUxUID0gJ2Jsb2NrLWRlZmF1bHQnO1xuLyoqXG4gKiBBcnJheSBvZiB2YWxpZCBrZXlzIGluIGEgYmxvY2sgdHlwZSBzZXR0aW5ncyBkZXByZWNhdGlvbiBvYmplY3QuXG4gKlxuICogQHR5cGUge3N0cmluZ1tdfVxuICovXG5cbmV4cG9ydCBjb25zdCBERVBSRUNBVEVEX0VOVFJZX0tFWVMgPSBbJ2F0dHJpYnV0ZXMnLCAnc3VwcG9ydHMnLCAnc2F2ZScsICdtaWdyYXRlJywgJ2lzRWxpZ2libGUnLCAnYXBpVmVyc2lvbiddO1xuZXhwb3J0IGNvbnN0IF9fRVhQRVJJTUVOVEFMX1NUWUxFX1BST1BFUlRZID0ge1xuICAvLyBLZXB0IGZvciBiYWNrLWNvbXBhdGliaWxpdHkgcHVycG9zZXMuXG4gICctLXdwLS1zdHlsZS0tY29sb3ItLWxpbmsnOiB7XG4gICAgdmFsdWU6IFsnY29sb3InLCAnbGluayddLFxuICAgIHN1cHBvcnQ6IFsnY29sb3InLCAnbGluayddXG4gIH0sXG4gIGJhY2tncm91bmQ6IHtcbiAgICB2YWx1ZTogWydjb2xvcicsICdncmFkaWVudCddLFxuICAgIHN1cHBvcnQ6IFsnY29sb3InLCAnZ3JhZGllbnRzJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJhY2tncm91bmRDb2xvcjoge1xuICAgIHZhbHVlOiBbJ2NvbG9yJywgJ2JhY2tncm91bmQnXSxcbiAgICBzdXBwb3J0OiBbJ2NvbG9yJywgJ2JhY2tncm91bmQnXSxcbiAgICByZXF1aXJlc09wdE91dDogdHJ1ZSxcbiAgICB1c2VFbmdpbmU6IHRydWVcbiAgfSxcbiAgYm9yZGVyQ29sb3I6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAnY29sb3InXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ2NvbG9yJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlclJhZGl1czoge1xuICAgIHZhbHVlOiBbJ2JvcmRlcicsICdyYWRpdXMnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3JhZGl1cyddLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6ICd0b3BMZWZ0JyxcbiAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiAndG9wUmlnaHQnLFxuICAgICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1czogJ2JvdHRvbUxlZnQnLFxuICAgICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6ICdib3R0b21SaWdodCdcbiAgICB9LFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBib3JkZXJTdHlsZToge1xuICAgIHZhbHVlOiBbJ2JvcmRlcicsICdzdHlsZSddLFxuICAgIHN1cHBvcnQ6IFsnX19leHBlcmltZW50YWxCb3JkZXInLCAnc3R5bGUnXSxcbiAgICB1c2VFbmdpbmU6IHRydWVcbiAgfSxcbiAgYm9yZGVyV2lkdGg6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAnd2lkdGgnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3dpZHRoJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlclRvcENvbG9yOiB7XG4gICAgdmFsdWU6IFsnYm9yZGVyJywgJ3RvcCcsICdjb2xvciddLFxuICAgIHN1cHBvcnQ6IFsnX19leHBlcmltZW50YWxCb3JkZXInLCAnY29sb3InXSxcbiAgICB1c2VFbmdpbmU6IHRydWVcbiAgfSxcbiAgYm9yZGVyVG9wU3R5bGU6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAndG9wJywgJ3N0eWxlJ10sXG4gICAgc3VwcG9ydDogWydfX2V4cGVyaW1lbnRhbEJvcmRlcicsICdzdHlsZSddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBib3JkZXJUb3BXaWR0aDoge1xuICAgIHZhbHVlOiBbJ2JvcmRlcicsICd0b3AnLCAnd2lkdGgnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3dpZHRoJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlclJpZ2h0Q29sb3I6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAncmlnaHQnLCAnY29sb3InXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ2NvbG9yJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlclJpZ2h0U3R5bGU6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAncmlnaHQnLCAnc3R5bGUnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3N0eWxlJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlclJpZ2h0V2lkdGg6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAncmlnaHQnLCAnd2lkdGgnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3dpZHRoJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlckJvdHRvbUNvbG9yOiB7XG4gICAgdmFsdWU6IFsnYm9yZGVyJywgJ2JvdHRvbScsICdjb2xvciddLFxuICAgIHN1cHBvcnQ6IFsnX19leHBlcmltZW50YWxCb3JkZXInLCAnY29sb3InXSxcbiAgICB1c2VFbmdpbmU6IHRydWVcbiAgfSxcbiAgYm9yZGVyQm90dG9tU3R5bGU6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAnYm90dG9tJywgJ3N0eWxlJ10sXG4gICAgc3VwcG9ydDogWydfX2V4cGVyaW1lbnRhbEJvcmRlcicsICdzdHlsZSddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBib3JkZXJCb3R0b21XaWR0aDoge1xuICAgIHZhbHVlOiBbJ2JvcmRlcicsICdib3R0b20nLCAnd2lkdGgnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3dpZHRoJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGJvcmRlckxlZnRDb2xvcjoge1xuICAgIHZhbHVlOiBbJ2JvcmRlcicsICdsZWZ0JywgJ2NvbG9yJ10sXG4gICAgc3VwcG9ydDogWydfX2V4cGVyaW1lbnRhbEJvcmRlcicsICdjb2xvciddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBib3JkZXJMZWZ0U3R5bGU6IHtcbiAgICB2YWx1ZTogWydib3JkZXInLCAnbGVmdCcsICdzdHlsZSddLFxuICAgIHN1cHBvcnQ6IFsnX19leHBlcmltZW50YWxCb3JkZXInLCAnc3R5bGUnXSxcbiAgICB1c2VFbmdpbmU6IHRydWVcbiAgfSxcbiAgYm9yZGVyTGVmdFdpZHRoOiB7XG4gICAgdmFsdWU6IFsnYm9yZGVyJywgJ2xlZnQnLCAnd2lkdGgnXSxcbiAgICBzdXBwb3J0OiBbJ19fZXhwZXJpbWVudGFsQm9yZGVyJywgJ3dpZHRoJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGNvbG9yOiB7XG4gICAgdmFsdWU6IFsnY29sb3InLCAndGV4dCddLFxuICAgIHN1cHBvcnQ6IFsnY29sb3InLCAndGV4dCddLFxuICAgIHJlcXVpcmVzT3B0T3V0OiB0cnVlLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBmaWx0ZXI6IHtcbiAgICB2YWx1ZTogWydmaWx0ZXInLCAnZHVvdG9uZSddLFxuICAgIHN1cHBvcnQ6IFsnY29sb3InLCAnX19leHBlcmltZW50YWxEdW90b25lJ11cbiAgfSxcbiAgbGlua0NvbG9yOiB7XG4gICAgdmFsdWU6IFsnZWxlbWVudHMnLCAnbGluaycsICdjb2xvcicsICd0ZXh0J10sXG4gICAgc3VwcG9ydDogWydjb2xvcicsICdsaW5rJ11cbiAgfSxcbiAgYnV0dG9uQ29sb3I6IHtcbiAgICB2YWx1ZTogWydlbGVtZW50cycsICdidXR0b24nLCAnY29sb3InLCAndGV4dCddLFxuICAgIHN1cHBvcnQ6IFsnY29sb3InLCAnYnV0dG9uJ11cbiAgfSxcbiAgYnV0dG9uQmFja2dyb3VuZENvbG9yOiB7XG4gICAgdmFsdWU6IFsnZWxlbWVudHMnLCAnYnV0dG9uJywgJ2NvbG9yJywgJ2JhY2tncm91bmQnXSxcbiAgICBzdXBwb3J0OiBbJ2NvbG9yJywgJ2J1dHRvbiddXG4gIH0sXG4gIGZvbnRGYW1pbHk6IHtcbiAgICB2YWx1ZTogWyd0eXBvZ3JhcGh5JywgJ2ZvbnRGYW1pbHknXSxcbiAgICBzdXBwb3J0OiBbJ3R5cG9ncmFwaHknLCAnX19leHBlcmltZW50YWxGb250RmFtaWx5J10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGZvbnRTaXplOiB7XG4gICAgdmFsdWU6IFsndHlwb2dyYXBoeScsICdmb250U2l6ZSddLFxuICAgIHN1cHBvcnQ6IFsndHlwb2dyYXBoeScsICdmb250U2l6ZSddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBmb250U3R5bGU6IHtcbiAgICB2YWx1ZTogWyd0eXBvZ3JhcGh5JywgJ2ZvbnRTdHlsZSddLFxuICAgIHN1cHBvcnQ6IFsndHlwb2dyYXBoeScsICdfX2V4cGVyaW1lbnRhbEZvbnRTdHlsZSddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBmb250V2VpZ2h0OiB7XG4gICAgdmFsdWU6IFsndHlwb2dyYXBoeScsICdmb250V2VpZ2h0J10sXG4gICAgc3VwcG9ydDogWyd0eXBvZ3JhcGh5JywgJ19fZXhwZXJpbWVudGFsRm9udFdlaWdodCddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBsaW5lSGVpZ2h0OiB7XG4gICAgdmFsdWU6IFsndHlwb2dyYXBoeScsICdsaW5lSGVpZ2h0J10sXG4gICAgc3VwcG9ydDogWyd0eXBvZ3JhcGh5JywgJ2xpbmVIZWlnaHQnXSxcbiAgICB1c2VFbmdpbmU6IHRydWVcbiAgfSxcbiAgbWFyZ2luOiB7XG4gICAgdmFsdWU6IFsnc3BhY2luZycsICdtYXJnaW4nXSxcbiAgICBzdXBwb3J0OiBbJ3NwYWNpbmcnLCAnbWFyZ2luJ10sXG4gICAgcHJvcGVydGllczoge1xuICAgICAgbWFyZ2luVG9wOiAndG9wJyxcbiAgICAgIG1hcmdpblJpZ2h0OiAncmlnaHQnLFxuICAgICAgbWFyZ2luQm90dG9tOiAnYm90dG9tJyxcbiAgICAgIG1hcmdpbkxlZnQ6ICdsZWZ0J1xuICAgIH0sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIG1pbkhlaWdodDoge1xuICAgIHZhbHVlOiBbJ2RpbWVuc2lvbnMnLCAnbWluSGVpZ2h0J10sXG4gICAgc3VwcG9ydDogWydkaW1lbnNpb25zJywgJ21pbkhlaWdodCddLFxuICAgIHVzZUVuZ2luZTogdHJ1ZVxuICB9LFxuICBwYWRkaW5nOiB7XG4gICAgdmFsdWU6IFsnc3BhY2luZycsICdwYWRkaW5nJ10sXG4gICAgc3VwcG9ydDogWydzcGFjaW5nJywgJ3BhZGRpbmcnXSxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICBwYWRkaW5nVG9wOiAndG9wJyxcbiAgICAgIHBhZGRpbmdSaWdodDogJ3JpZ2h0JyxcbiAgICAgIHBhZGRpbmdCb3R0b206ICdib3R0b20nLFxuICAgICAgcGFkZGluZ0xlZnQ6ICdsZWZ0J1xuICAgIH0sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIHRleHREZWNvcmF0aW9uOiB7XG4gICAgdmFsdWU6IFsndHlwb2dyYXBoeScsICd0ZXh0RGVjb3JhdGlvbiddLFxuICAgIHN1cHBvcnQ6IFsndHlwb2dyYXBoeScsICdfX2V4cGVyaW1lbnRhbFRleHREZWNvcmF0aW9uJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIHRleHRUcmFuc2Zvcm06IHtcbiAgICB2YWx1ZTogWyd0eXBvZ3JhcGh5JywgJ3RleHRUcmFuc2Zvcm0nXSxcbiAgICBzdXBwb3J0OiBbJ3R5cG9ncmFwaHknLCAnX19leHBlcmltZW50YWxUZXh0VHJhbnNmb3JtJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gIGxldHRlclNwYWNpbmc6IHtcbiAgICB2YWx1ZTogWyd0eXBvZ3JhcGh5JywgJ2xldHRlclNwYWNpbmcnXSxcbiAgICBzdXBwb3J0OiBbJ3R5cG9ncmFwaHknLCAnX19leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nJ10sXG4gICAgdXNlRW5naW5lOiB0cnVlXG4gIH0sXG4gICctLXdwLS1zdHlsZS0tcm9vdC0tcGFkZGluZyc6IHtcbiAgICB2YWx1ZTogWydzcGFjaW5nJywgJ3BhZGRpbmcnXSxcbiAgICBzdXBwb3J0OiBbJ3NwYWNpbmcnLCAncGFkZGluZyddLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICctLXdwLS1zdHlsZS0tcm9vdC0tcGFkZGluZy10b3AnOiAndG9wJyxcbiAgICAgICctLXdwLS1zdHlsZS0tcm9vdC0tcGFkZGluZy1yaWdodCc6ICdyaWdodCcsXG4gICAgICAnLS13cC0tc3R5bGUtLXJvb3QtLXBhZGRpbmctYm90dG9tJzogJ2JvdHRvbScsXG4gICAgICAnLS13cC0tc3R5bGUtLXJvb3QtLXBhZGRpbmctbGVmdCc6ICdsZWZ0J1xuICAgIH0sXG4gICAgcm9vdE9ubHk6IHRydWVcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBfX0VYUEVSSU1FTlRBTF9FTEVNRU5UUyA9IHtcbiAgbGluazogJ2EnLFxuICBoZWFkaW5nOiAnaDEsIGgyLCBoMywgaDQsIGg1LCBoNicsXG4gIGgxOiAnaDEnLFxuICBoMjogJ2gyJyxcbiAgaDM6ICdoMycsXG4gIGg0OiAnaDQnLFxuICBoNTogJ2g1JyxcbiAgaDY6ICdoNicsXG4gIGJ1dHRvbjogJy53cC1lbGVtZW50LWJ1dHRvbiwgLndwLWJsb2NrLWJ1dHRvbl9fbGluaycsXG4gIGNhcHRpb246ICcud3AtZWxlbWVudC1jYXB0aW9uLCAud3AtYmxvY2stYXVkaW8gZmlnY2FwdGlvbiwgLndwLWJsb2NrLWVtYmVkIGZpZ2NhcHRpb24sIC53cC1ibG9jay1nYWxsZXJ5IGZpZ2NhcHRpb24sIC53cC1ibG9jay1pbWFnZSBmaWdjYXB0aW9uLCAud3AtYmxvY2stdGFibGUgZmlnY2FwdGlvbiwgLndwLWJsb2NrLXZpZGVvIGZpZ2NhcHRpb24nLFxuICBjaXRlOiAnY2l0ZSdcbn07XG5leHBvcnQgY29uc3QgX19FWFBFUklNRU5UQUxfUEFUSFNfV0lUSF9NRVJHRSA9IHtcbiAgJ2NvbG9yLmR1b3RvbmUnOiB0cnVlLFxuICAnY29sb3IuZ3JhZGllbnRzJzogdHJ1ZSxcbiAgJ2NvbG9yLnBhbGV0dGUnOiB0cnVlLFxuICAndHlwb2dyYXBoeS5mb250RmFtaWxpZXMnOiB0cnVlLFxuICAndHlwb2dyYXBoeS5mb250U2l6ZXMnOiB0cnVlLFxuICAnc3BhY2luZy5zcGFjaW5nU2l6ZXMnOiB0cnVlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qIGVzbGludCBuby1jb25zb2xlOiBbICdlcnJvcicsIHsgYWxsb3c6IFsgJ2Vycm9yJywgJ3dhcm4nIF0gfSBdICovXG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IGNhbWVsQ2FzZSB9IGZyb20gJ2NoYW5nZS1jYXNlJztcbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCB7IHNlbGVjdCwgZGlzcGF0Y2ggfSBmcm9tICdAd29yZHByZXNzL2RhdGEnO1xuaW1wb3J0IHsgX3ggfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuXG5jb25zdCBpMThuQmxvY2tTY2hlbWEgPSB7XG4gIHRpdGxlOiBcImJsb2NrIHRpdGxlXCIsXG4gIGRlc2NyaXB0aW9uOiBcImJsb2NrIGRlc2NyaXB0aW9uXCIsXG4gIGtleXdvcmRzOiBbXCJibG9jayBrZXl3b3JkXCJdLFxuICBzdHlsZXM6IFt7XG4gICAgbGFiZWw6IFwiYmxvY2sgc3R5bGUgbGFiZWxcIlxuICB9XSxcbiAgdmFyaWF0aW9uczogW3tcbiAgICB0aXRsZTogXCJibG9jayB2YXJpYXRpb24gdGl0bGVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJibG9jayB2YXJpYXRpb24gZGVzY3JpcHRpb25cIixcbiAgICBrZXl3b3JkczogW1wiYmxvY2sgdmFyaWF0aW9uIGtleXdvcmRcIl1cbiAgfV1cbn07XG5pbXBvcnQgeyBCTE9DS19JQ09OX0RFRkFVTFQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzdG9yZSBhcyBibG9ja3NTdG9yZSB9IGZyb20gJy4uL3N0b3JlJztcbi8qKlxuICogQW4gaWNvbiB0eXBlIGRlZmluaXRpb24uIE9uZSBvZiBhIERhc2hpY29uIHNsdWcsIGFuIGVsZW1lbnQsXG4gKiBvciBhIGNvbXBvbmVudC5cbiAqXG4gKiBAdHlwZWRlZiB7KHN0cmluZ3xXUEVsZW1lbnR8V1BDb21wb25lbnQpfSBXUEljb25cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVzb3VyY2UvZGFzaGljb25zL1xuICovXG5cbi8qKlxuICogUmVuZGVyIGJlaGF2aW9yIG9mIGEgYmxvY2sgdHlwZSBpY29uOyBvbmUgb2YgYSBEYXNoaWNvbiBzbHVnLCBhbiBlbGVtZW50LFxuICogb3IgYSBjb21wb25lbnQuXG4gKlxuICogQHR5cGVkZWYge1dQSWNvbn0gV1BCbG9ja1R5cGVJY29uUmVuZGVyXG4gKi9cblxuLyoqXG4gKiBBbiBvYmplY3QgZGVzY3JpYmluZyBhIG5vcm1hbGl6ZWQgYmxvY2sgdHlwZSBpY29uLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFdQQmxvY2tUeXBlSWNvbkRlc2NyaXB0b3JcbiAqXG4gKiBAcHJvcGVydHkge1dQQmxvY2tUeXBlSWNvblJlbmRlcn0gc3JjICAgICAgICAgUmVuZGVyIGJlaGF2aW9yIG9mIHRoZSBpY29uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZSBvZiBhIERhc2hpY29uIHNsdWcsIGFuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCwgb3IgYSBjb21wb25lbnQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gICAgICAgICAgICAgICAgYmFja2dyb3VuZCAgT3B0aW1hbCBiYWNrZ3JvdW5kIGhleCBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciB3aGVuIGRpc3BsYXlpbmcgaWNvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgICAgICAgICAgICAgICBmb3JlZ3JvdW5kICBPcHRpbWFsIGZvcmVncm91bmQgaGV4IHN0cmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yIHdoZW4gZGlzcGxheWluZyBpY29uLlxuICogQHByb3BlcnR5IHtzdHJpbmd9ICAgICAgICAgICAgICAgIHNoYWRvd0NvbG9yIE9wdGltYWwgc2hhZG93IGhleCBzdHJpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciB3aGVuIGRpc3BsYXlpbmcgaWNvbi5cbiAqL1xuXG4vKipcbiAqIFZhbHVlIHRvIHVzZSB0byByZW5kZXIgdGhlIGljb24gZm9yIGEgYmxvY2sgdHlwZSBpbiBhbiBlZGl0b3IgaW50ZXJmYWNlLFxuICogZWl0aGVyIGEgRGFzaGljb24gc2x1ZywgYW4gZWxlbWVudCwgYSBjb21wb25lbnQsIG9yIGFuIG9iamVjdCBkZXNjcmliaW5nXG4gKiB0aGUgaWNvbi5cbiAqXG4gKiBAdHlwZWRlZiB7KFdQQmxvY2tUeXBlSWNvbkRlc2NyaXB0b3J8V1BCbG9ja1R5cGVJY29uUmVuZGVyKX0gV1BCbG9ja1R5cGVJY29uXG4gKi9cblxuLyoqXG4gKiBOYW1lZCBibG9jayB2YXJpYXRpb24gc2NvcGVzLlxuICpcbiAqIEB0eXBlZGVmIHsnYmxvY2snfCdpbnNlcnRlcid8J3RyYW5zZm9ybSd9IFdQQmxvY2tWYXJpYXRpb25TY29wZVxuICovXG5cbi8qKlxuICogQW4gb2JqZWN0IGRlc2NyaWJpbmcgYSB2YXJpYXRpb24gZGVmaW5lZCBmb3IgdGhlIGJsb2NrIHR5cGUuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gV1BCbG9ja1ZhcmlhdGlvblxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIG5hbWUgICAgICAgICAgVGhlIHVuaXF1ZSBhbmQgbWFjaGluZS1yZWFkYWJsZSBuYW1lLlxuICogQHByb3BlcnR5IHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgdGl0bGUgICAgICAgICBBIGh1bWFuLXJlYWRhYmxlIHZhcmlhdGlvbiB0aXRsZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl0gQSBkZXRhaWxlZCB2YXJpYXRpb24gZGVzY3JpcHRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gICAgICAgICAgICAgICAgICBbY2F0ZWdvcnldICAgIEJsb2NrIHR5cGUgY2F0ZWdvcnkgY2xhc3NpZmljYXRpb24sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZWQgaW4gc2VhcmNoIGludGVyZmFjZXMgdG8gYXJyYW5nZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayB0eXBlcyBieSBjYXRlZ29yeS5cbiAqIEBwcm9wZXJ0eSB7V1BJY29ufSAgICAgICAgICAgICAgICAgIFtpY29uXSAgICAgICAgQW4gaWNvbiBoZWxwaW5nIHRvIHZpc3VhbGl6ZSB0aGUgdmFyaWF0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSAgICAgICAgICAgICAgICAgW2lzRGVmYXVsdF0gICBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY3VycmVudCB2YXJpYXRpb24gaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGRlZmF1bHQgb25lLiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICogQHByb3BlcnR5IHtPYmplY3R9ICAgICAgICAgICAgICAgICAgW2F0dHJpYnV0ZXNdICBWYWx1ZXMgd2hpY2ggb3ZlcnJpZGUgYmxvY2sgYXR0cmlidXRlcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXlbXX0gICAgICAgICAgICAgICAgIFtpbm5lckJsb2Nrc10gSW5pdGlhbCBjb25maWd1cmF0aW9uIG9mIG5lc3RlZCBibG9ja3MuXG4gKiBAcHJvcGVydHkge09iamVjdH0gICAgICAgICAgICAgICAgICBbZXhhbXBsZV0gICAgIEV4YW1wbGUgcHJvdmlkZXMgc3RydWN0dXJlZCBkYXRhIGZvclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgYmxvY2sgcHJldmlldy4gWW91IGNhbiBzZXQgdG9cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHVuZGVmaW5lZGAgdG8gZGlzYWJsZSB0aGUgcHJldmlldyBzaG93blxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgdGhlIGJsb2NrIHR5cGUuXG4gKiBAcHJvcGVydHkge1dQQmxvY2tWYXJpYXRpb25TY29wZVtdfSBbc2NvcGVdICAgICAgIFRoZSBsaXN0IG9mIHNjb3BlcyB3aGVyZSB0aGUgdmFyaWF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGFwcGxpY2FibGUuIFdoZW4gbm90IHByb3ZpZGVkLCBpdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3N1bWVzIGFsbCBhdmFpbGFibGUgc2NvcGVzLlxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gICAgICAgICAgICAgICAgW2tleXdvcmRzXSAgICBBbiBhcnJheSBvZiB0ZXJtcyAod2hpY2ggY2FuIGJlIHRyYW5zbGF0ZWQpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgaGVscCB1c2VycyBkaXNjb3ZlciB0aGUgdmFyaWF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIHNlYXJjaGluZy5cbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb258c3RyaW5nW119ICAgICAgIFtpc0FjdGl2ZV0gICAgVGhpcyBjYW4gYmUgYSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBibG9jayBhdHRyaWJ1dGVzLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbiB0aGF0IGFjY2VwdHMgYSBibG9jaydzIGF0dHJpYnV0ZXMgYW5kIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYXRpb24ncyBhdHRyaWJ1dGVzIGFuZCBkZXRlcm1pbmVzIGlmIGEgdmFyaWF0aW9uIGlzIGFjdGl2ZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBmdW5jdGlvbiBkb2Vzbid0IHRyeSB0byBmaW5kIGEgbWF0Y2ggZHluYW1pY2FsbHkgYmFzZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gYWxsIGJsb2NrJ3MgYXR0cmlidXRlcywgYXMgaW4gbWFueSBjYXNlcyBzb21lIGF0dHJpYnV0ZXMgYXJlIGlycmVsZXZhbnQuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuIGV4YW1wbGUgd291bGQgYmUgZm9yIGBlbWJlZGAgYmxvY2sgd2hlcmUgd2Ugb25seSBjYXJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3V0IGBwcm92aWRlck5hbWVTbHVnYCBhdHRyaWJ1dGUncyB2YWx1ZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2UgY2FuIGFsc28gdXNlIGEgYHN0cmluZ1tdYCB0byB0ZWxsIHdoaWNoIGF0dHJpYnV0ZXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkIGJlIGNvbXBhcmVkIGFzIGEgc2hvcnRoYW5kLiBFYWNoIGF0dHJpYnV0ZXMgd2lsbFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBtYXRjaGVkIGFuZCB0aGUgdmFyaWF0aW9uIHdpbGwgYmUgYWN0aXZlIGlmIGFsbCBvZiB0aGVtIGFyZSBtYXRjaGluZy5cbiAqL1xuXG4vKipcbiAqIERlZmluZWQgYmVoYXZpb3Igb2YgYSBibG9jayB0eXBlLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFdQQmxvY2tUeXBlXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9ICAgICAgICAgICAgIG5hbWUgICAgICAgICAgQmxvY2sgdHlwZSdzIG5hbWVzcGFjZWQgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgICAgICAgICAgICB0aXRsZSAgICAgICAgIEh1bWFuLXJlYWRhYmxlIGJsb2NrIHR5cGUgbGFiZWwuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXSBBIGRldGFpbGVkIGJsb2NrIHR5cGUgZGVzY3JpcHRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gICAgICAgICAgICAgW2NhdGVnb3J5XSAgICBCbG9jayB0eXBlIGNhdGVnb3J5IGNsYXNzaWZpY2F0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlZCBpbiBzZWFyY2ggaW50ZXJmYWNlcyB0byBhcnJhbmdlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayB0eXBlcyBieSBjYXRlZ29yeS5cbiAqIEBwcm9wZXJ0eSB7V1BCbG9ja1R5cGVJY29ufSAgICBbaWNvbl0gICAgICAgIEJsb2NrIHR5cGUgaWNvbi5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119ICAgICAgICAgICBba2V5d29yZHNdICAgIEFkZGl0aW9uYWwga2V5d29yZHMgdG8gcHJvZHVjZSBibG9ja1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSBhcyByZXN1bHQgaW4gc2VhcmNoIGludGVyZmFjZXMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gICAgICAgICAgICAgW2F0dHJpYnV0ZXNdICBCbG9jayB0eXBlIGF0dHJpYnV0ZXMuXG4gKiBAcHJvcGVydHkge1dQQ29tcG9uZW50fSAgICAgICAgW3NhdmVdICAgICAgICBPcHRpb25hbCBjb21wb25lbnQgZGVzY3JpYmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXplZCBtYXJrdXAgc3RydWN0dXJlIG9mIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrIHR5cGUuXG4gKiBAcHJvcGVydHkge1dQQ29tcG9uZW50fSAgICAgICAgZWRpdCAgICAgICAgICBDb21wb25lbnQgcmVuZGVyaW5nIGFuIGVsZW1lbnQgdG9cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmlwdWxhdGUgdGhlIGF0dHJpYnV0ZXMgb2YgYSBibG9ja1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIGNvbnRleHQgb2YgYW4gZWRpdG9yLlxuICogQHByb3BlcnR5IHtXUEJsb2NrVmFyaWF0aW9uW119IFt2YXJpYXRpb25zXSAgVGhlIGxpc3Qgb2YgYmxvY2sgdmFyaWF0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAgICAgICAgICAgICBbZXhhbXBsZV0gICAgIEV4YW1wbGUgcHJvdmlkZXMgc3RydWN0dXJlZCBkYXRhIGZvclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGJsb2NrIHByZXZpZXcuIFdoZW4gbm90IGRlZmluZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4gbm8gcHJldmlldyBpcyBzaG93bi5cbiAqL1xuXG5leHBvcnQgY29uc3Qgc2VydmVyU2lkZUJsb2NrRGVmaW5pdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCc7XG59XG4vKipcbiAqIFNldHMgdGhlIHNlcnZlciBzaWRlIGJsb2NrIGRlZmluaXRpb24gb2YgYmxvY2tzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9ucyBTZXJ2ZXItc2lkZSBibG9jayBkZWZpbml0aW9uc1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc3RhYmxlX19ib290c3RyYXBTZXJ2ZXJTaWRlQmxvY2tEZWZpbml0aW9ucyhkZWZpbml0aW9ucykge1xuICBmb3IgKGNvbnN0IGJsb2NrTmFtZSBvZiBPYmplY3Qua2V5cyhkZWZpbml0aW9ucykpIHtcbiAgICAvLyBEb24ndCBvdmVyd3JpdGUgaWYgYWxyZWFkeSBzZXQuIEl0IGNvdmVycyB0aGUgY2FzZSB3aGVuIG1ldGFkYXRhXG4gICAgLy8gd2FzIGluaXRpYWxpemVkIGZyb20gdGhlIHNlcnZlci5cbiAgICBpZiAoc2VydmVyU2lkZUJsb2NrRGVmaW5pdGlvbnNbYmxvY2tOYW1lXSkge1xuICAgICAgLy8gV2Ugc3RpbGwgbmVlZCB0byBwb2x5ZmlsbCBgYXBpVmVyc2lvbmAgZm9yIFdvcmRQcmVzcyB2ZXJzaW9uXG4gICAgICAvLyBsb3dlciB0aGFuIDUuNy4gSWYgaXQgaXNuJ3QgcHJlc2VudCBpbiB0aGUgZGVmaW5pdGlvbiBzaGFyZWRcbiAgICAgIC8vIGZyb20gdGhlIHNlcnZlciwgd2UgdHJ5IHRvIGZhbGxiYWNrIHRvIHRoZSBkZWZpbml0aW9uIHBhc3NlZC5cbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dvcmRQcmVzcy9ndXRlbmJlcmcvcHVsbC8yOTI3OVxuICAgICAgaWYgKHNlcnZlclNpZGVCbG9ja0RlZmluaXRpb25zW2Jsb2NrTmFtZV0uYXBpVmVyc2lvbiA9PT0gdW5kZWZpbmVkICYmIGRlZmluaXRpb25zW2Jsb2NrTmFtZV0uYXBpVmVyc2lvbikge1xuICAgICAgICBzZXJ2ZXJTaWRlQmxvY2tEZWZpbml0aW9uc1tibG9ja05hbWVdLmFwaVZlcnNpb24gPSBkZWZpbml0aW9uc1tibG9ja05hbWVdLmFwaVZlcnNpb247XG4gICAgICB9IC8vIFRoZSBgYW5jZXN0b3JgIHByb3AgaXMgbm90IGluY2x1ZGVkIGluIHRoZSBkZWZpbml0aW9ucyBzaGFyZWRcbiAgICAgIC8vIGZyb20gdGhlIHNlcnZlciB5ZXQsIHNvIGl0IG5lZWRzIHRvIGJlIHBvbHlmaWxsZWQgYXMgd2VsbC5cbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dvcmRQcmVzcy9ndXRlbmJlcmcvcHVsbC8zOTg5NFxuXG5cbiAgICAgIGlmIChzZXJ2ZXJTaWRlQmxvY2tEZWZpbml0aW9uc1tibG9ja05hbWVdLmFuY2VzdG9yID09PSB1bmRlZmluZWQgJiYgZGVmaW5pdGlvbnNbYmxvY2tOYW1lXS5hbmNlc3Rvcikge1xuICAgICAgICBzZXJ2ZXJTaWRlQmxvY2tEZWZpbml0aW9uc1tibG9ja05hbWVdLmFuY2VzdG9yID0gZGVmaW5pdGlvbnNbYmxvY2tOYW1lXS5hbmNlc3RvcjtcbiAgICAgIH1cblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgc2VydmVyU2lkZUJsb2NrRGVmaW5pdGlvbnNbYmxvY2tOYW1lXSA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhkZWZpbml0aW9uc1tibG9ja05hbWVdKS5maWx0ZXIoX3JlZiA9PiB7XG4gICAgICBsZXQgWywgdmFsdWVdID0gX3JlZjtcbiAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pLm1hcChfcmVmMiA9PiB7XG4gICAgICBsZXQgW2tleSwgdmFsdWVdID0gX3JlZjI7XG4gICAgICByZXR1cm4gW2NhbWVsQ2FzZShrZXkpLCB2YWx1ZV07XG4gICAgfSkpO1xuICB9XG59XG4vKipcbiAqIEdldHMgYmxvY2sgc2V0dGluZ3MgZnJvbSBtZXRhZGF0YSBsb2FkZWQgZnJvbSBgYmxvY2suanNvbmAgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbWV0YWRhdGEgICAgICAgICAgICBCbG9jayBtZXRhZGF0YSBsb2FkZWQgZnJvbSBgYmxvY2suanNvbmAuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0YWRhdGEudGV4dGRvbWFpbiBUZXh0ZG9tYWluIHRvIHVzZSB3aXRoIHRyYW5zbGF0aW9ucy5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IEJsb2NrIHNldHRpbmdzLlxuICovXG5cbmZ1bmN0aW9uIGdldEJsb2NrU2V0dGluZ3NGcm9tTWV0YWRhdGEoX3JlZjMpIHtcbiAgbGV0IHtcbiAgICB0ZXh0ZG9tYWluLFxuICAgIC4uLm1ldGFkYXRhXG4gIH0gPSBfcmVmMztcbiAgY29uc3QgYWxsb3dlZEZpZWxkcyA9IFsnYXBpVmVyc2lvbicsICd0aXRsZScsICdjYXRlZ29yeScsICdwYXJlbnQnLCAnYW5jZXN0b3InLCAnaWNvbicsICdkZXNjcmlwdGlvbicsICdrZXl3b3JkcycsICdhdHRyaWJ1dGVzJywgJ3Byb3ZpZGVzQ29udGV4dCcsICd1c2VzQ29udGV4dCcsICdzdXBwb3J0cycsICdzdHlsZXMnLCAnZXhhbXBsZScsICd2YXJpYXRpb25zJ107XG4gIGNvbnN0IHNldHRpbmdzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG1ldGFkYXRhKS5maWx0ZXIoX3JlZjQgPT4ge1xuICAgIGxldCBba2V5XSA9IF9yZWY0O1xuICAgIHJldHVybiBhbGxvd2VkRmllbGRzLmluY2x1ZGVzKGtleSk7XG4gIH0pKTtcblxuICBpZiAodGV4dGRvbWFpbikge1xuICAgIE9iamVjdC5rZXlzKGkxOG5CbG9ja1NjaGVtYSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKCFzZXR0aW5nc1trZXldKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0dGluZ3Nba2V5XSA9IHRyYW5zbGF0ZUJsb2NrU2V0dGluZ1VzaW5nSTE4blNjaGVtYShpMThuQmxvY2tTY2hlbWFba2V5XSwgc2V0dGluZ3Nba2V5XSwgdGV4dGRvbWFpbik7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2V0dGluZ3M7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIG5ldyBibG9jayBwcm92aWRlZCBhIHVuaXF1ZSBuYW1lIGFuZCBhbiBvYmplY3QgZGVmaW5pbmcgaXRzXG4gKiBiZWhhdmlvci4gT25jZSByZWdpc3RlcmVkLCB0aGUgYmxvY2sgaXMgbWFkZSBhdmFpbGFibGUgYXMgYW4gb3B0aW9uIHRvIGFueVxuICogZWRpdG9yIGludGVyZmFjZSB3aGVyZSBibG9ja3MgYXJlIGltcGxlbWVudGVkLlxuICpcbiAqIEZvciBtb3JlIGluLWRlcHRoIGluZm9ybWF0aW9uIG9uIHJlZ2lzdGVyaW5nIGEgY3VzdG9tIGJsb2NrIHNlZSB0aGUgW0NyZWF0ZSBhIGJsb2NrIHR1dG9yaWFsXShkb2NzL2hvdy10by1ndWlkZXMvYmxvY2stdHV0b3JpYWwvUkVBRE1FLm1kKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gYmxvY2tOYW1lT3JNZXRhZGF0YSBCbG9jayB0eXBlIG5hbWUgb3IgaXRzIG1ldGFkYXRhLlxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBzZXR0aW5ncyAgICAgICAgICAgIEJsb2NrIHNldHRpbmdzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuICogaW1wb3J0IHsgcmVnaXN0ZXJCbG9ja1R5cGUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2NrcydcbiAqXG4gKiByZWdpc3RlckJsb2NrVHlwZSggJ25hbWVzcGFjZS9ibG9jay1uYW1lJywge1xuICogICAgIHRpdGxlOiBfXyggJ015IEZpcnN0IEJsb2NrJyApLFxuICogICAgIGVkaXQ6ICgpID0+IDxkaXY+eyBfXyggJ0hlbGxvIGZyb20gdGhlIGVkaXRvciEnICkgfTwvZGl2PixcbiAqICAgICBzYXZlOiAoKSA9PiA8ZGl2PkhlbGxvIGZyb20gdGhlIHNhdmVkIGNvbnRlbnQhPC9kaXY+LFxuICogfSApO1xuICogYGBgXG4gKlxuICogQHJldHVybiB7V1BCbG9ja1R5cGUgfCB1bmRlZmluZWR9IFRoZSBibG9jaywgaWYgaXQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQ7XG4gKiAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGB1bmRlZmluZWRgLlxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQmxvY2tUeXBlKGJsb2NrTmFtZU9yTWV0YWRhdGEsIHNldHRpbmdzKSB7XG4gIGNvbnN0IG5hbWUgPSBpc09iamVjdChibG9ja05hbWVPck1ldGFkYXRhKSA/IGJsb2NrTmFtZU9yTWV0YWRhdGEubmFtZSA6IGJsb2NrTmFtZU9yTWV0YWRhdGE7XG5cbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Jsb2NrIG5hbWVzIG11c3QgYmUgc3RyaW5ncy4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIS9eW2Etel1bYS16MC05LV0qXFwvW2Etel1bYS16MC05LV0qJC8udGVzdChuYW1lKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Jsb2NrIG5hbWVzIG11c3QgY29udGFpbiBhIG5hbWVzcGFjZSBwcmVmaXgsIGluY2x1ZGUgb25seSBsb3dlcmNhc2UgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb3IgZGFzaGVzLCBhbmQgc3RhcnQgd2l0aCBhIGxldHRlci4gRXhhbXBsZTogbXktcGx1Z2luL215LWN1c3RvbS1ibG9jaycpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzZWxlY3QoYmxvY2tzU3RvcmUpLmdldEJsb2NrVHlwZShuYW1lKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Jsb2NrIFwiJyArIG5hbWUgKyAnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc09iamVjdChibG9ja05hbWVPck1ldGFkYXRhKSkge1xuICAgIHVuc3RhYmxlX19ib290c3RyYXBTZXJ2ZXJTaWRlQmxvY2tEZWZpbml0aW9ucyh7XG4gICAgICBbbmFtZV06IGdldEJsb2NrU2V0dGluZ3NGcm9tTWV0YWRhdGEoYmxvY2tOYW1lT3JNZXRhZGF0YSlcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGJsb2NrVHlwZSA9IHtcbiAgICBuYW1lLFxuICAgIGljb246IEJMT0NLX0lDT05fREVGQVVMVCxcbiAgICBrZXl3b3JkczogW10sXG4gICAgYXR0cmlidXRlczoge30sXG4gICAgcHJvdmlkZXNDb250ZXh0OiB7fSxcbiAgICB1c2VzQ29udGV4dDogW10sXG4gICAgc3VwcG9ydHM6IHt9LFxuICAgIHN0eWxlczogW10sXG4gICAgdmFyaWF0aW9uczogW10sXG4gICAgc2F2ZTogKCkgPT4gbnVsbCxcbiAgICAuLi4oc2VydmVyU2lkZUJsb2NrRGVmaW5pdGlvbnMgPT09IG51bGwgfHwgc2VydmVyU2lkZUJsb2NrRGVmaW5pdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlcnZlclNpZGVCbG9ja0RlZmluaXRpb25zW25hbWVdKSxcbiAgICAuLi5zZXR0aW5nc1xuICB9O1xuXG4gIGRpc3BhdGNoKGJsb2Nrc1N0b3JlKS5fX2V4cGVyaW1lbnRhbFJlZ2lzdGVyQmxvY2tUeXBlKGJsb2NrVHlwZSk7XG5cbiAgcmV0dXJuIHNlbGVjdChibG9ja3NTdG9yZSkuZ2V0QmxvY2tUeXBlKG5hbWUpO1xufVxuLyoqXG4gKiBUcmFuc2xhdGVzIGJsb2NrIHNldHRpbmdzIHByb3ZpZGVkIHdpdGggbWV0YWRhdGEgdXNpbmcgdGhlIGkxOG4gc2NoZW1hLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfE9iamVjdFtdfSBpMThuU2NoZW1hICAgSTE4biBzY2hlbWEgZm9yIHRoZSBibG9jayBzZXR0aW5nLlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118T2JqZWN0W119IHNldHRpbmdWYWx1ZSBWYWx1ZSBmb3IgdGhlIGJsb2NrIHNldHRpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICAgdGV4dGRvbWFpbiAgIFRleHRkb21haW4gdG8gdXNlIHdpdGggdHJhbnNsYXRpb25zLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ3xzdHJpbmdbXXxPYmplY3RbXX0gVHJhbnNsYXRlZCBzZXR0aW5nLlxuICovXG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUJsb2NrU2V0dGluZ1VzaW5nSTE4blNjaGVtYShpMThuU2NoZW1hLCBzZXR0aW5nVmFsdWUsIHRleHRkb21haW4pIHtcbiAgaWYgKHR5cGVvZiBpMThuU2NoZW1hID09PSAnc3RyaW5nJyAmJiB0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAd29yZHByZXNzL2kxOG4tbm8tdmFyaWFibGVzLCBAd29yZHByZXNzL2kxOG4tdGV4dC1kb21haW5cbiAgICByZXR1cm4gX3goc2V0dGluZ1ZhbHVlLCBpMThuU2NoZW1hLCB0ZXh0ZG9tYWluKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGkxOG5TY2hlbWEpICYmIGkxOG5TY2hlbWEubGVuZ3RoICYmIEFycmF5LmlzQXJyYXkoc2V0dGluZ1ZhbHVlKSkge1xuICAgIHJldHVybiBzZXR0aW5nVmFsdWUubWFwKHZhbHVlID0+IHRyYW5zbGF0ZUJsb2NrU2V0dGluZ1VzaW5nSTE4blNjaGVtYShpMThuU2NoZW1hWzBdLCB2YWx1ZSwgdGV4dGRvbWFpbikpO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KGkxOG5TY2hlbWEpICYmIE9iamVjdC5lbnRyaWVzKGkxOG5TY2hlbWEpLmxlbmd0aCAmJiBpc09iamVjdChzZXR0aW5nVmFsdWUpKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNldHRpbmdWYWx1ZSkucmVkdWNlKChhY2N1bXVsYXRvciwga2V5KSA9PiB7XG4gICAgICBpZiAoIWkxOG5TY2hlbWFba2V5XSkge1xuICAgICAgICBhY2N1bXVsYXRvcltrZXldID0gc2V0dGluZ1ZhbHVlW2tleV07XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgIH1cblxuICAgICAgYWNjdW11bGF0b3Jba2V5XSA9IHRyYW5zbGF0ZUJsb2NrU2V0dGluZ1VzaW5nSTE4blNjaGVtYShpMThuU2NoZW1hW2tleV0sIHNldHRpbmdWYWx1ZVtrZXldLCB0ZXh0ZG9tYWluKTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9LCB7fSk7XG4gIH1cblxuICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xufVxuLyoqXG4gKiBSZWdpc3RlcnMgYSBuZXcgYmxvY2sgY29sbGVjdGlvbiB0byBncm91cCBibG9ja3MgaW4gdGhlIHNhbWUgbmFtZXNwYWNlIGluIHRoZSBpbnNlcnRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlICAgICAgIFRoZSBuYW1lc3BhY2UgdG8gZ3JvdXAgYmxvY2tzIGJ5IGluIHRoZSBpbnNlcnRlcjsgY29ycmVzcG9uZHMgdG8gdGhlIGJsb2NrIG5hbWVzcGFjZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5ncyAgICAgICAgVGhlIGJsb2NrIGNvbGxlY3Rpb24gc2V0dGluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2V0dGluZ3MudGl0bGUgIFRoZSB0aXRsZSB0byBkaXNwbGF5IGluIHRoZSBibG9jayBpbnNlcnRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc2V0dGluZ3MuaWNvbl0gVGhlIGljb24gdG8gZGlzcGxheSBpbiB0aGUgYmxvY2sgaW5zZXJ0ZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG4gKiBpbXBvcnQgeyByZWdpc3RlckJsb2NrQ29sbGVjdGlvbiwgcmVnaXN0ZXJCbG9ja1R5cGUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKlxuICogLy8gUmVnaXN0ZXIgdGhlIGNvbGxlY3Rpb24uXG4gKiByZWdpc3RlckJsb2NrQ29sbGVjdGlvbiggJ215LWNvbGxlY3Rpb24nLCB7XG4gKiAgICAgdGl0bGU6IF9fKCAnQ3VzdG9tIENvbGxlY3Rpb24nICksXG4gKiB9ICk7XG4gKlxuICogLy8gUmVnaXN0ZXIgYSBibG9jayBpbiB0aGUgc2FtZSBuYW1lc3BhY2UgdG8gYWRkIGl0IHRvIHRoZSBjb2xsZWN0aW9uLlxuICogcmVnaXN0ZXJCbG9ja1R5cGUoICdteS1jb2xsZWN0aW9uL2Jsb2NrLW5hbWUnLCB7XG4gKiAgICAgdGl0bGU6IF9fKCAnTXkgRmlyc3QgQmxvY2snICksXG4gKiAgICAgZWRpdDogKCkgPT4gPGRpdj57IF9fKCAnSGVsbG8gZnJvbSB0aGUgZWRpdG9yIScgKSB9PC9kaXY+LFxuICogICAgIHNhdmU6ICgpID0+IDxkaXY+J0hlbGxvIGZyb20gdGhlIHNhdmVkIGNvbnRlbnQhPC9kaXY+LFxuICogfSApO1xuICogYGBgXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJCbG9ja0NvbGxlY3Rpb24obmFtZXNwYWNlLCBfcmVmNSkge1xuICBsZXQge1xuICAgIHRpdGxlLFxuICAgIGljb25cbiAgfSA9IF9yZWY1O1xuICBkaXNwYXRjaChibG9ja3NTdG9yZSkuYWRkQmxvY2tDb2xsZWN0aW9uKG5hbWVzcGFjZSwgdGl0bGUsIGljb24pO1xufVxuLyoqXG4gKiBVbnJlZ2lzdGVycyBhIGJsb2NrIGNvbGxlY3Rpb25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2UgdG8gZ3JvdXAgYmxvY2tzIGJ5IGluIHRoZSBpbnNlcnRlcjsgY29ycmVzcG9uZHMgdG8gdGhlIGJsb2NrIG5hbWVzcGFjZVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgdW5yZWdpc3RlckJsb2NrQ29sbGVjdGlvbiB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2tzJztcbiAqXG4gKiB1bnJlZ2lzdGVyQmxvY2tDb2xsZWN0aW9uKCAnbXktY29sbGVjdGlvbicgKTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyQmxvY2tDb2xsZWN0aW9uKG5hbWVzcGFjZSkge1xuICBkaXNwYXRjaChibG9ja3NTdG9yZSkucmVtb3ZlQmxvY2tDb2xsZWN0aW9uKG5hbWVzcGFjZSk7XG59XG4vKipcbiAqIFVucmVnaXN0ZXJzIGEgYmxvY2suXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQmxvY2sgbmFtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbiAqIGltcG9ydCB7IHVucmVnaXN0ZXJCbG9ja1R5cGUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICA8QnV0dG9uXG4gKiAgICAgICAgICAgICBvbkNsaWNrPXsgKCkgPT5cbiAqICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQmxvY2tUeXBlKCAnbXktY29sbGVjdGlvbi9ibG9jay1uYW1lJyApXG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgID5cbiAqICAgICAgICAgICAgIHsgX18oICdVbnJlZ2lzdGVyIG15IGN1c3RvbSBibG9jay4nICkgfVxuICogICAgICAgICA8L0J1dHRvbj5cbiAqICAgICApO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEByZXR1cm4ge1dQQmxvY2tUeXBlIHwgdW5kZWZpbmVkfSBUaGUgcHJldmlvdXMgYmxvY2sgdmFsdWUsIGlmIGl0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogICAgICAgICAgICAgICAgICAgIHVucmVnaXN0ZXJlZDsgb3RoZXJ3aXNlIGB1bmRlZmluZWRgLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyQmxvY2tUeXBlKG5hbWUpIHtcbiAgY29uc3Qgb2xkQmxvY2sgPSBzZWxlY3QoYmxvY2tzU3RvcmUpLmdldEJsb2NrVHlwZShuYW1lKTtcblxuICBpZiAoIW9sZEJsb2NrKSB7XG4gICAgY29uc29sZS5lcnJvcignQmxvY2sgXCInICsgbmFtZSArICdcIiBpcyBub3QgcmVnaXN0ZXJlZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBkaXNwYXRjaChibG9ja3NTdG9yZSkucmVtb3ZlQmxvY2tUeXBlcyhuYW1lKTtcbiAgcmV0dXJuIG9sZEJsb2NrO1xufVxuLyoqXG4gKiBBc3NpZ25zIG5hbWUgb2YgYmxvY2sgZm9yIGhhbmRsaW5nIG5vbi1ibG9jayBjb250ZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBibG9ja05hbWUgQmxvY2sgbmFtZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RnJlZWZvcm1Db250ZW50SGFuZGxlck5hbWUoYmxvY2tOYW1lKSB7XG4gIGRpc3BhdGNoKGJsb2Nrc1N0b3JlKS5zZXRGcmVlZm9ybUZhbGxiYWNrQmxvY2tOYW1lKGJsb2NrTmFtZSk7XG59XG4vKipcbiAqIFJldHJpZXZlcyBuYW1lIG9mIGJsb2NrIGhhbmRsaW5nIG5vbi1ibG9jayBjb250ZW50LCBvciB1bmRlZmluZWQgaWYgbm9cbiAqIGhhbmRsZXIgaGFzIGJlZW4gZGVmaW5lZC5cbiAqXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBCbG9jayBuYW1lLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmVlZm9ybUNvbnRlbnRIYW5kbGVyTmFtZSgpIHtcbiAgcmV0dXJuIHNlbGVjdChibG9ja3NTdG9yZSkuZ2V0RnJlZWZvcm1GYWxsYmFja0Jsb2NrTmFtZSgpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgbmFtZSBvZiBibG9jayB1c2VkIGZvciBoYW5kbGluZyBncm91cGluZyBpbnRlcmFjdGlvbnMuXG4gKlxuICogQHJldHVybiB7P3N0cmluZ30gQmxvY2sgbmFtZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JvdXBpbmdCbG9ja05hbWUoKSB7XG4gIHJldHVybiBzZWxlY3QoYmxvY2tzU3RvcmUpLmdldEdyb3VwaW5nQmxvY2tOYW1lKCk7XG59XG4vKipcbiAqIEFzc2lnbnMgbmFtZSBvZiBibG9jayBoYW5kbGluZyB1bnJlZ2lzdGVyZWQgYmxvY2sgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJsb2NrTmFtZSBCbG9jayBuYW1lLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRVbnJlZ2lzdGVyZWRUeXBlSGFuZGxlck5hbWUoYmxvY2tOYW1lKSB7XG4gIGRpc3BhdGNoKGJsb2Nrc1N0b3JlKS5zZXRVbnJlZ2lzdGVyZWRGYWxsYmFja0Jsb2NrTmFtZShibG9ja05hbWUpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgbmFtZSBvZiBibG9jayBoYW5kbGluZyB1bnJlZ2lzdGVyZWQgYmxvY2sgdHlwZXMsIG9yIHVuZGVmaW5lZCBpZiBub1xuICogaGFuZGxlciBoYXMgYmVlbiBkZWZpbmVkLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IEJsb2NrIG5hbWUuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVucmVnaXN0ZXJlZFR5cGVIYW5kbGVyTmFtZSgpIHtcbiAgcmV0dXJuIHNlbGVjdChibG9ja3NTdG9yZSkuZ2V0VW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUoKTtcbn1cbi8qKlxuICogQXNzaWducyB0aGUgZGVmYXVsdCBibG9jayBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEJsb2NrIG5hbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBzZXREZWZhdWx0QmxvY2tOYW1lIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDxCdXR0b24gb25DbGljaz17ICgpID0+IHNldERlZmF1bHRCbG9ja05hbWUoICdjb3JlL2hlYWRpbmcnICkgfT5cbiAqICAgICAgICAgICAgIHsgX18oICdTZXQgdGhlIGRlZmF1bHQgYmxvY2sgdG8gSGVhZGluZycgKSB9XG4gKiAgICAgICAgIDwvQnV0dG9uPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRCbG9ja05hbWUobmFtZSkge1xuICBkaXNwYXRjaChibG9ja3NTdG9yZSkuc2V0RGVmYXVsdEJsb2NrTmFtZShuYW1lKTtcbn1cbi8qKlxuICogQXNzaWducyBuYW1lIG9mIGJsb2NrIGZvciBoYW5kbGluZyBibG9jayBncm91cGluZyBpbnRlcmFjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQmxvY2sgbmFtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHNldEdyb3VwaW5nQmxvY2tOYW1lIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDxCdXR0b24gb25DbGljaz17ICgpID0+IHNldEdyb3VwaW5nQmxvY2tOYW1lKCAnY29yZS9jb2x1bW5zJyApIH0+XG4gKiAgICAgICAgICAgICB7IF9fKCAnU2V0IHRoZSBkZWZhdWx0IGJsb2NrIHRvIEhlYWRpbmcnICkgfVxuICogICAgICAgICA8L0J1dHRvbj5cbiAqICAgICApO1xuICogfTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcm91cGluZ0Jsb2NrTmFtZShuYW1lKSB7XG4gIGRpc3BhdGNoKGJsb2Nrc1N0b3JlKS5zZXRHcm91cGluZ0Jsb2NrTmFtZShuYW1lKTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBkZWZhdWx0IGJsb2NrIG5hbWUuXG4gKlxuICogQHJldHVybiB7P3N0cmluZ30gQmxvY2sgbmFtZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEJsb2NrTmFtZSgpIHtcbiAgcmV0dXJuIHNlbGVjdChibG9ja3NTdG9yZSkuZ2V0RGVmYXVsdEJsb2NrTmFtZSgpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcmVnaXN0ZXJlZCBibG9jayB0eXBlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEJsb2NrIG5hbWUuXG4gKlxuICogQHJldHVybiB7P09iamVjdH0gQmxvY2sgdHlwZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tUeXBlKG5hbWUpIHtcbiAgdmFyIF9zZWxlY3Q7XG5cbiAgcmV0dXJuIChfc2VsZWN0ID0gc2VsZWN0KGJsb2Nrc1N0b3JlKSkgPT09IG51bGwgfHwgX3NlbGVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdC5nZXRCbG9ja1R5cGUobmFtZSk7XG59XG4vKipcbiAqIFJldHVybnMgYWxsIHJlZ2lzdGVyZWQgYmxvY2tzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fSBCbG9jayBzZXR0aW5ncy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tUeXBlcygpIHtcbiAgcmV0dXJuIHNlbGVjdChibG9ja3NTdG9yZSkuZ2V0QmxvY2tUeXBlcygpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBibG9jayBzdXBwb3J0IHZhbHVlIGZvciBhIGZlYXR1cmUsIGlmIGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsoc3RyaW5nfE9iamVjdCl9IG5hbWVPclR5cGUgICAgICBCbG9jayBuYW1lIG9yIHR5cGUgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgZmVhdHVyZSAgICAgICAgIEZlYXR1cmUgdG8gcmV0cmlldmVcbiAqIEBwYXJhbSB7Kn0gICAgICAgICAgICAgICBkZWZhdWx0U3VwcG9ydHMgRGVmYXVsdCB2YWx1ZSB0byByZXR1cm4gaWYgbm90XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGxpY2l0bHkgZGVmaW5lZFxuICpcbiAqIEByZXR1cm4gez8qfSBCbG9jayBzdXBwb3J0IHZhbHVlXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2NrU3VwcG9ydChuYW1lT3JUeXBlLCBmZWF0dXJlLCBkZWZhdWx0U3VwcG9ydHMpIHtcbiAgcmV0dXJuIHNlbGVjdChibG9ja3NTdG9yZSkuZ2V0QmxvY2tTdXBwb3J0KG5hbWVPclR5cGUsIGZlYXR1cmUsIGRlZmF1bHRTdXBwb3J0cyk7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYmxvY2sgZGVmaW5lcyBzdXBwb3J0IGZvciBhIGZlYXR1cmUsIG9yIGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gbmFtZU9yVHlwZSAgICAgIEJsb2NrIG5hbWUgb3IgdHlwZSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgZmVhdHVyZSAgICAgICAgIEZlYXR1cmUgdG8gdGVzdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gICAgICAgICBkZWZhdWx0U3VwcG9ydHMgV2hldGhlciBmZWF0dXJlIGlzIHN1cHBvcnRlZCBieVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlmIG5vdCBleHBsaWNpdGx5IGRlZmluZWQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBibG9jayBzdXBwb3J0cyBmZWF0dXJlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNCbG9ja1N1cHBvcnQobmFtZU9yVHlwZSwgZmVhdHVyZSwgZGVmYXVsdFN1cHBvcnRzKSB7XG4gIHJldHVybiBzZWxlY3QoYmxvY2tzU3RvcmUpLmhhc0Jsb2NrU3VwcG9ydChuYW1lT3JUeXBlLCBmZWF0dXJlLCBkZWZhdWx0U3VwcG9ydHMpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBibG9jayBpcyBhIHJldXNhYmxlIGJsb2NrLiBUaGlzIGlzIGFcbiAqIHNwZWNpYWwgYmxvY2sgdHlwZSB0aGF0IGlzIHVzZWQgdG8gcG9pbnQgdG8gYSBnbG9iYWwgYmxvY2sgc3RvcmVkIHZpYSB0aGVcbiAqIEFQSS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYmxvY2tPclR5cGUgQmxvY2sgb3IgQmxvY2sgVHlwZSB0byB0ZXN0LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIGJsb2NrIGlzIGEgcmV1c2FibGUgYmxvY2suXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmV1c2FibGVCbG9jayhibG9ja09yVHlwZSkge1xuICByZXR1cm4gKGJsb2NrT3JUeXBlID09PSBudWxsIHx8IGJsb2NrT3JUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBibG9ja09yVHlwZS5uYW1lKSA9PT0gJ2NvcmUvYmxvY2snO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBibG9jayBpcyBhIHRlbXBsYXRlIHBhcnQuIFRoaXMgaXMgYVxuICogc3BlY2lhbCBibG9jayB0eXBlIHRoYXQgYWxsb3dzIGNvbXBvc2luZyBhIHBhZ2UgdGVtcGxhdGUgb3V0IG9mIHJldXNhYmxlXG4gKiBkZXNpZ24gZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGJsb2NrT3JUeXBlIEJsb2NrIG9yIEJsb2NrIFR5cGUgdG8gdGVzdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBibG9jayBpcyBhIHRlbXBsYXRlIHBhcnQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGVtcGxhdGVQYXJ0KGJsb2NrT3JUeXBlKSB7XG4gIHJldHVybiAoYmxvY2tPclR5cGUgPT09IG51bGwgfHwgYmxvY2tPclR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJsb2NrT3JUeXBlLm5hbWUpID09PSAnY29yZS90ZW1wbGF0ZS1wYXJ0Jztcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSBjaGlsZCBibG9ja3Mgb2YgYSBnaXZlbiBibG9jay5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmxvY2tOYW1lIE5hbWUgb2YgYmxvY2sgKGV4YW1wbGU6IOKAnGxhdGVzdC1wb3N0c+KAnSkuXG4gKlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGNoaWxkIGJsb2NrIG5hbWVzLlxuICovXG5cbmV4cG9ydCBjb25zdCBnZXRDaGlsZEJsb2NrTmFtZXMgPSBibG9ja05hbWUgPT4ge1xuICByZXR1cm4gc2VsZWN0KGJsb2Nrc1N0b3JlKS5nZXRDaGlsZEJsb2NrTmFtZXMoYmxvY2tOYW1lKTtcbn07XG4vKipcbiAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgYSBibG9jayBoYXMgY2hpbGQgYmxvY2tzIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmxvY2tOYW1lIE5hbWUgb2YgYmxvY2sgKGV4YW1wbGU6IOKAnGxhdGVzdC1wb3N0c+KAnSkuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhIGJsb2NrIGNvbnRhaW5zIGNoaWxkIGJsb2NrcyBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBoYXNDaGlsZEJsb2NrcyA9IGJsb2NrTmFtZSA9PiB7XG4gIHJldHVybiBzZWxlY3QoYmxvY2tzU3RvcmUpLmhhc0NoaWxkQmxvY2tzKGJsb2NrTmFtZSk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGEgYmxvY2sgaGFzIGF0IGxlYXN0IG9uZSBjaGlsZCBibG9jayB3aXRoIGluc2VydGVyIHN1cHBvcnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJsb2NrTmFtZSBCbG9jayB0eXBlIG5hbWUuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhIGJsb2NrIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBjaGlsZCBibG9ja3Mgd2l0aCBpbnNlcnRlciBzdXBwb3J0XG4gKiAgICAgICAgICAgICAgICAgICBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBoYXNDaGlsZEJsb2Nrc1dpdGhJbnNlcnRlclN1cHBvcnQgPSBibG9ja05hbWUgPT4ge1xuICByZXR1cm4gc2VsZWN0KGJsb2Nrc1N0b3JlKS5oYXNDaGlsZEJsb2Nrc1dpdGhJbnNlcnRlclN1cHBvcnQoYmxvY2tOYW1lKTtcbn07XG4vKipcbiAqIFJlZ2lzdGVycyBhIG5ldyBibG9jayBzdHlsZSBmb3IgdGhlIGdpdmVuIGJsb2NrLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGNvbm5lY3RpbmcgdGhlIHN0eWxlcyB3aXRoIENTUyBbdGhlIG9mZmljaWFsIGRvY3VtZW50YXRpb25dKC9kb2NzL3JlZmVyZW5jZS1ndWlkZXMvYmxvY2stYXBpL2Jsb2NrLXN0eWxlcy5tZCNzdHlsZXMpXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJsb2NrTmFtZSAgICAgIE5hbWUgb2YgYmxvY2sgKGV4YW1wbGU6IOKAnGNvcmUvbGF0ZXN0LXBvc3Rz4oCdKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZVZhcmlhdGlvbiBPYmplY3QgY29udGFpbmluZyBgbmFtZWAgd2hpY2ggaXMgdGhlIGNsYXNzIG5hbWUgYXBwbGllZCB0byB0aGUgYmxvY2sgYW5kIGBsYWJlbGAgd2hpY2ggaWRlbnRpZmllcyB0aGUgdmFyaWF0aW9uIHRvIHRoZSB1c2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuICogaW1wb3J0IHsgcmVnaXN0ZXJCbG9ja1N0eWxlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQHdvcmRwcmVzcy9jb21wb25lbnRzJztcbiAqXG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICA8QnV0dG9uXG4gKiAgICAgICAgICAgICBvbkNsaWNrPXsgKCkgPT4ge1xuICogICAgICAgICAgICAgICAgIHJlZ2lzdGVyQmxvY2tTdHlsZSggJ2NvcmUvcXVvdGUnLCB7XG4gKiAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdmYW5jeS1xdW90ZScsXG4gKiAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBfXyggJ0ZhbmN5IFF1b3RlJyApLFxuICogICAgICAgICAgICAgICAgIH0gKTtcbiAqICAgICAgICAgICAgIH0gfVxuICogICAgICAgICA+XG4gKiAgICAgICAgICAgICB7IF9fKCAnQWRkIGEgbmV3IGJsb2NrIHN0eWxlIGZvciBjb3JlL3F1b3RlJyApIH1cbiAqICAgICAgICAgPC9CdXR0b24+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJCbG9ja1N0eWxlID0gKGJsb2NrTmFtZSwgc3R5bGVWYXJpYXRpb24pID0+IHtcbiAgZGlzcGF0Y2goYmxvY2tzU3RvcmUpLmFkZEJsb2NrU3R5bGVzKGJsb2NrTmFtZSwgc3R5bGVWYXJpYXRpb24pO1xufTtcbi8qKlxuICogVW5yZWdpc3RlcnMgYSBibG9jayBzdHlsZSBmb3IgdGhlIGdpdmVuIGJsb2NrLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBibG9ja05hbWUgICAgICAgICAgTmFtZSBvZiBibG9jayAoZXhhbXBsZTog4oCcY29yZS9sYXRlc3QtcG9zdHPigJ0pLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlVmFyaWF0aW9uTmFtZSBOYW1lIG9mIGNsYXNzIGFwcGxpZWQgdG8gdGhlIGJsb2NrLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuICogaW1wb3J0IHsgdW5yZWdpc3RlckJsb2NrU3R5bGUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAd29yZHByZXNzL2NvbXBvbmVudHMnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICA8QnV0dG9uXG4gKiAgICAgICAgIG9uQ2xpY2s9eyAoKSA9PiB7XG4gKiAgICAgICAgICAgICB1bnJlZ2lzdGVyQmxvY2tTdHlsZSggJ2NvcmUvcXVvdGUnLCAncGxhaW4nICk7XG4gKiAgICAgICAgIH0gfVxuICogICAgID5cbiAqICAgICAgICAgeyBfXyggJ1JlbW92ZSB0aGUgXCJQbGFpblwiIGJsb2NrIHN0eWxlIGZvciBjb3JlL3F1b3RlJyApIH1cbiAqICAgICA8L0J1dHRvbj5cbiAqICAgICApO1xuICogfTtcbiAqIGBgYFxuICovXG5cbmV4cG9ydCBjb25zdCB1bnJlZ2lzdGVyQmxvY2tTdHlsZSA9IChibG9ja05hbWUsIHN0eWxlVmFyaWF0aW9uTmFtZSkgPT4ge1xuICBkaXNwYXRjaChibG9ja3NTdG9yZSkucmVtb3ZlQmxvY2tTdHlsZXMoYmxvY2tOYW1lLCBzdHlsZVZhcmlhdGlvbk5hbWUpO1xufTtcbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSB2YXJpYXRpb25zIG9mIGEgZ2l2ZW4gYmxvY2sgdHlwZS5cbiAqIElnbm9yZWQgZnJvbSBkb2N1bWVudGF0aW9uIGFzIHRoZSByZWNvbW1lbmRlZCB1c2FnZSBpcyB2aWEgdXNlU2VsZWN0IGZyb20gQHdvcmRwcmVzcy9kYXRhLlxuICpcbiAqIEBpZ25vcmVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgYmxvY2tOYW1lIE5hbWUgb2YgYmxvY2sgKGV4YW1wbGU6IOKAnGNvcmUvY29sdW1uc+KAnSkuXG4gKiBAcGFyYW0ge1dQQmxvY2tWYXJpYXRpb25TY29wZX0gW3Njb3BlXSAgIEJsb2NrIHZhcmlhdGlvbiBzY29wZSBuYW1lLlxuICpcbiAqIEByZXR1cm4geyhXUEJsb2NrVmFyaWF0aW9uW118dm9pZCl9IEJsb2NrIHZhcmlhdGlvbnMuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGdldEJsb2NrVmFyaWF0aW9ucyA9IChibG9ja05hbWUsIHNjb3BlKSA9PiB7XG4gIHJldHVybiBzZWxlY3QoYmxvY2tzU3RvcmUpLmdldEJsb2NrVmFyaWF0aW9ucyhibG9ja05hbWUsIHNjb3BlKTtcbn07XG4vKipcbiAqIFJlZ2lzdGVycyBhIG5ldyBibG9jayB2YXJpYXRpb24gZm9yIHRoZSBnaXZlbiBibG9jayB0eXBlLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGJsb2NrIHZhcmlhdGlvbnMgc2VlIFt0aGUgb2ZmaWNpYWwgZG9jdW1lbnRhdGlvbiBdKC9kb2NzL3JlZmVyZW5jZS1ndWlkZXMvYmxvY2stYXBpL2Jsb2NrLXZhcmlhdGlvbnMubWQpXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICBibG9ja05hbWUgTmFtZSBvZiB0aGUgYmxvY2sgKGV4YW1wbGU6IOKAnGNvcmUvY29sdW1uc+KAnSkuXG4gKiBAcGFyYW0ge1dQQmxvY2tWYXJpYXRpb259IHZhcmlhdGlvbiBPYmplY3QgZGVzY3JpYmluZyBhIGJsb2NrIHZhcmlhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbiAqIGltcG9ydCB7IHJlZ2lzdGVyQmxvY2tWYXJpYXRpb24gfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAd29yZHByZXNzL2NvbXBvbmVudHMnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPEJ1dHRvblxuICogICAgICAgICAgICAgb25DbGljaz17ICgpID0+IHtcbiAqICAgICAgICAgICAgICAgICByZWdpc3RlckJsb2NrVmFyaWF0aW9uKCAnY29yZS9lbWJlZCcsIHtcbiAqICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2N1c3RvbScsXG4gKiAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfXyggJ015IEN1c3RvbSBFbWJlZCcgKSxcbiAqICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBwcm92aWRlck5hbWVTbHVnOiAnY3VzdG9tJyB9LFxuICogICAgICAgICAgICAgICAgIH0gKTtcbiAqICAgICAgICAgICAgIH0gfVxuICogICAgICAgICAgPlxuICogICAgICAgICAgICAgIF9fKCAnQWRkIGEgY3VzdG9tIHZhcmlhdGlvbiBmb3IgY29yZS9lbWJlZCcgKSB9XG4gKiAgICAgICAgIDwvQnV0dG9uPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyQmxvY2tWYXJpYXRpb24gPSAoYmxvY2tOYW1lLCB2YXJpYXRpb24pID0+IHtcbiAgZGlzcGF0Y2goYmxvY2tzU3RvcmUpLmFkZEJsb2NrVmFyaWF0aW9ucyhibG9ja05hbWUsIHZhcmlhdGlvbik7XG59O1xuLyoqXG4gKiBVbnJlZ2lzdGVycyBhIGJsb2NrIHZhcmlhdGlvbiBkZWZpbmVkIGZvciB0aGUgZ2l2ZW4gYmxvY2sgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmxvY2tOYW1lICAgICBOYW1lIG9mIHRoZSBibG9jayAoZXhhbXBsZTog4oCcY29yZS9jb2x1bW5z4oCdKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYXRpb25OYW1lIE5hbWUgb2YgdGhlIHZhcmlhdGlvbiBkZWZpbmVkIGZvciB0aGUgYmxvY2suXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG4gKiBpbXBvcnQgeyB1bnJlZ2lzdGVyQmxvY2tWYXJpYXRpb24gfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAd29yZHByZXNzL2NvbXBvbmVudHMnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPEJ1dHRvblxuICogICAgICAgICAgICAgb25DbGljaz17ICgpID0+IHtcbiAqICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyQmxvY2tWYXJpYXRpb24oICdjb3JlL2VtYmVkJywgJ3lvdXR1YmUnICk7XG4gKiAgICAgICAgICAgICB9IH1cbiAqICAgICAgICAgPlxuICogICAgICAgICAgICAgeyBfXyggJ1JlbW92ZSB0aGUgWW91VHViZSB2YXJpYXRpb24gZnJvbSBjb3JlL2VtYmVkJyApIH1cbiAqICAgICAgICAgPC9CdXR0b24+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqL1xuXG5leHBvcnQgY29uc3QgdW5yZWdpc3RlckJsb2NrVmFyaWF0aW9uID0gKGJsb2NrTmFtZSwgdmFyaWF0aW9uTmFtZSkgPT4ge1xuICBkaXNwYXRjaChibG9ja3NTdG9yZSkucmVtb3ZlQmxvY2tWYXJpYXRpb25zKGJsb2NrTmFtZSwgdmFyaWF0aW9uTmFtZSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVnaXN0cmF0aW9uLmpzLm1hcCIsIi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IGNvbG9yZCwgZXh0ZW5kIH0gZnJvbSAnY29sb3JkJztcbmltcG9ydCBuYW1lc1BsdWdpbiBmcm9tICdjb2xvcmQvcGx1Z2lucy9uYW1lcyc7XG5pbXBvcnQgYTExeVBsdWdpbiBmcm9tICdjb2xvcmQvcGx1Z2lucy9hMTF5Jztcbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgaXNWYWxpZEVsZW1lbnQgfSBmcm9tICdAd29yZHByZXNzL2VsZW1lbnQnO1xuaW1wb3J0IHsgX18sIHNwcmludGYgfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsgX191bnN0YWJsZVN0cmlwSFRNTCBhcyBzdHJpcEhUTUwgfSBmcm9tICdAd29yZHByZXNzL2RvbSc7XG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCB7IEJMT0NLX0lDT05fREVGQVVMVCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldEJsb2NrVHlwZSwgZ2V0RGVmYXVsdEJsb2NrTmFtZSB9IGZyb20gJy4vcmVnaXN0cmF0aW9uJztcbmltcG9ydCB7IGNyZWF0ZUJsb2NrIH0gZnJvbSAnLi9mYWN0b3J5JztcbmV4dGVuZChbbmFtZXNQbHVnaW4sIGExMXlQbHVnaW5dKTtcbi8qKlxuICogQXJyYXkgb2YgaWNvbiBjb2xvcnMgY29udGFpbmluZyBhIGNvbG9yIHRvIGJlIHVzZWQgaWYgdGhlIGljb24gY29sb3JcbiAqIHdhcyBub3QgZXhwbGljaXRseSBzZXQgYnV0IHRoZSBpY29uIGJhY2tncm91bmQgY29sb3Igd2FzLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblxuY29uc3QgSUNPTl9DT0xPUlMgPSBbJyMxOTFlMjMnLCAnI2Y4ZjlmOSddO1xuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGJsb2NrJ3MgYXR0cmlidXRlcyBhcmUgZXF1YWwgdG8gdGhlIGRlZmF1bHQgYXR0cmlidXRlc1xuICogd2hpY2ggbWVhbnMgdGhlIGJsb2NrIGlzIHVubW9kaWZpZWQuXG4gKlxuICogQHBhcmFtIHtXUEJsb2NrfSBibG9jayBCbG9jayBPYmplY3RcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBibG9jayBpcyBhbiB1bm1vZGlmaWVkIGJsb2NrLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VubW9kaWZpZWRCbG9jayhibG9jaykge1xuICB2YXIgX2Jsb2NrVHlwZSRhdHRyaWJ1dGVzO1xuXG4gIC8vIENhY2hlIGEgY3JlYXRlZCBkZWZhdWx0IGJsb2NrIGlmIG5vIGNhY2hlIGV4aXN0cyBvciB0aGUgZGVmYXVsdCBibG9ja1xuICAvLyBuYW1lIGNoYW5nZWQuXG4gIGlmICghaXNVbm1vZGlmaWVkQmxvY2tbYmxvY2submFtZV0pIHtcbiAgICBpc1VubW9kaWZpZWRCbG9ja1tibG9jay5uYW1lXSA9IGNyZWF0ZUJsb2NrKGJsb2NrLm5hbWUpO1xuICB9XG5cbiAgY29uc3QgbmV3QmxvY2sgPSBpc1VubW9kaWZpZWRCbG9ja1tibG9jay5uYW1lXTtcbiAgY29uc3QgYmxvY2tUeXBlID0gZ2V0QmxvY2tUeXBlKGJsb2NrLm5hbWUpO1xuICByZXR1cm4gT2JqZWN0LmtleXMoKF9ibG9ja1R5cGUkYXR0cmlidXRlcyA9IGJsb2NrVHlwZSA9PT0gbnVsbCB8fCBibG9ja1R5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJsb2NrVHlwZS5hdHRyaWJ1dGVzKSAhPT0gbnVsbCAmJiBfYmxvY2tUeXBlJGF0dHJpYnV0ZXMgIT09IHZvaWQgMCA/IF9ibG9ja1R5cGUkYXR0cmlidXRlcyA6IHt9KS5ldmVyeShrZXkgPT4gbmV3QmxvY2suYXR0cmlidXRlc1trZXldID09PSBibG9jay5hdHRyaWJ1dGVzW2tleV0pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGJsb2NrIGlzIGEgZGVmYXVsdCBibG9jayBhbmQgaXRzIGF0dHJpYnV0ZXMgYXJlIGVxdWFsXG4gKiB0byB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIHdoaWNoIG1lYW5zIHRoZSBibG9jayBpcyB1bm1vZGlmaWVkLlxuICpcbiAqIEBwYXJhbSB7V1BCbG9ja30gYmxvY2sgQmxvY2sgT2JqZWN0XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgYmxvY2sgaXMgYW4gdW5tb2RpZmllZCBkZWZhdWx0IGJsb2NrLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VubW9kaWZpZWREZWZhdWx0QmxvY2soYmxvY2spIHtcbiAgcmV0dXJuIGJsb2NrLm5hbWUgPT09IGdldERlZmF1bHRCbG9ja05hbWUoKSAmJiBpc1VubW9kaWZpZWRCbG9jayhibG9jayk7XG59XG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYSB2YWxpZCBpY29uLlxuICpcbiAqIEBwYXJhbSB7Kn0gaWNvbiBQYXJhbWV0ZXIgdG8gYmUgY2hlY2tlZC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYSB2YWxpZCBpY29uIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRJY29uKGljb24pIHtcbiAgcmV0dXJuICEhaWNvbiAmJiAodHlwZW9mIGljb24gPT09ICdzdHJpbmcnIHx8IGlzVmFsaWRFbGVtZW50KGljb24pIHx8IHR5cGVvZiBpY29uID09PSAnZnVuY3Rpb24nIHx8IGljb24gaW5zdGFuY2VvZiBDb21wb25lbnQpO1xufVxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGFuIGljb24gYXMgc2V0IGJ5IHRoZSBibG9ja3MgZHVyaW5nIHRoZSByZWdpc3RyYXRpb25cbiAqIGFuZCByZXR1cm5zIGEgbmV3IGljb24gb2JqZWN0IHRoYXQgaXMgbm9ybWFsaXplZCBzbyB3ZSBjYW4gcmVseSBvbiBqdXN0IG9uIHBvc3NpYmxlIGljb24gc3RydWN0dXJlXG4gKiBpbiB0aGUgY29kZWJhc2UuXG4gKlxuICogQHBhcmFtIHtXUEJsb2NrVHlwZUljb25SZW5kZXJ9IGljb24gUmVuZGVyIGJlaGF2aW9yIG9mIGEgYmxvY2sgdHlwZSBpY29uO1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lIG9mIGEgRGFzaGljb24gc2x1ZywgYW4gZWxlbWVudCwgb3IgYVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm4ge1dQQmxvY2tUeXBlSWNvbkRlc2NyaXB0b3J9IE9iamVjdCBkZXNjcmliaW5nIHRoZSBpY29uLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVJY29uT2JqZWN0KGljb24pIHtcbiAgaWNvbiA9IGljb24gfHwgQkxPQ0tfSUNPTl9ERUZBVUxUO1xuXG4gIGlmIChpc1ZhbGlkSWNvbihpY29uKSkge1xuICAgIHJldHVybiB7XG4gICAgICBzcmM6IGljb25cbiAgICB9O1xuICB9XG5cbiAgaWYgKCdiYWNrZ3JvdW5kJyBpbiBpY29uKSB7XG4gICAgY29uc3QgY29sb3JkQmdDb2xvciA9IGNvbG9yZChpY29uLmJhY2tncm91bmQpO1xuXG4gICAgY29uc3QgZ2V0Q29sb3JDb250cmFzdCA9IGljb25Db2xvciA9PiBjb2xvcmRCZ0NvbG9yLmNvbnRyYXN0KGljb25Db2xvcik7XG5cbiAgICBjb25zdCBtYXhDb250cmFzdCA9IE1hdGgubWF4KC4uLklDT05fQ09MT1JTLm1hcChnZXRDb2xvckNvbnRyYXN0KSk7XG4gICAgcmV0dXJuIHsgLi4uaWNvbixcbiAgICAgIGZvcmVncm91bmQ6IGljb24uZm9yZWdyb3VuZCA/IGljb24uZm9yZWdyb3VuZCA6IElDT05fQ09MT1JTLmZpbmQoaWNvbkNvbG9yID0+IGdldENvbG9yQ29udHJhc3QoaWNvbkNvbG9yKSA9PT0gbWF4Q29udHJhc3QpLFxuICAgICAgc2hhZG93Q29sb3I6IGNvbG9yZEJnQ29sb3IuYWxwaGEoMC4zKS50b1JnYlN0cmluZygpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBpY29uO1xufVxuLyoqXG4gKiBOb3JtYWxpemVzIGJsb2NrIHR5cGUgcGFzc2VkIGFzIHBhcmFtLiBXaGVuIHN0cmluZyBpcyBwYXNzZWQgdGhlblxuICogaXQgY29udmVydHMgaXQgdG8gdGhlIG1hdGNoaW5nIGJsb2NrIHR5cGUgb2JqZWN0LlxuICogSXQgcGFzc2VzIHRoZSBvcmlnaW5hbCBvYmplY3Qgb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gYmxvY2tUeXBlT3JOYW1lIEJsb2NrIHR5cGUgb3IgbmFtZS5cbiAqXG4gKiBAcmV0dXJuIHs/T2JqZWN0fSBCbG9jayB0eXBlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVCbG9ja1R5cGUoYmxvY2tUeXBlT3JOYW1lKSB7XG4gIGlmICh0eXBlb2YgYmxvY2tUeXBlT3JOYW1lID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBnZXRCbG9ja1R5cGUoYmxvY2tUeXBlT3JOYW1lKTtcbiAgfVxuXG4gIHJldHVybiBibG9ja1R5cGVPck5hbWU7XG59XG4vKipcbiAqIEdldCB0aGUgbGFiZWwgZm9yIHRoZSBibG9jaywgdXN1YWxseSB0aGlzIGlzIGVpdGhlciB0aGUgYmxvY2sgdGl0bGUsXG4gKiBvciB0aGUgdmFsdWUgb2YgdGhlIGJsb2NrJ3MgYGxhYmVsYCBmdW5jdGlvbiB3aGVuIHRoYXQncyBzcGVjaWZpZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGJsb2NrVHlwZSAgVGhlIGJsb2NrIHR5cGUuXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBUaGUgdmFsdWVzIG9mIHRoZSBibG9jaydzIGF0dHJpYnV0ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCAgICBUaGUgaW50ZW5kZWQgdXNlIGZvciB0aGUgbGFiZWwuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgYmxvY2sgbGFiZWwuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2NrTGFiZWwoYmxvY2tUeXBlLCBhdHRyaWJ1dGVzKSB7XG4gIGxldCBjb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAndmlzdWFsJztcbiAgY29uc3Qge1xuICAgIF9fZXhwZXJpbWVudGFsTGFiZWw6IGdldExhYmVsLFxuICAgIHRpdGxlXG4gIH0gPSBibG9ja1R5cGU7XG4gIGNvbnN0IGxhYmVsID0gZ2V0TGFiZWwgJiYgZ2V0TGFiZWwoYXR0cmlidXRlcywge1xuICAgIGNvbnRleHRcbiAgfSk7XG5cbiAgaWYgKCFsYWJlbCkge1xuICAgIHJldHVybiB0aXRsZTtcbiAgfSAvLyBTdHJpcCBhbnkgSFRNTCAoaS5lLiBSaWNoVGV4dCBmb3JtYXR0aW5nKSBiZWZvcmUgcmV0dXJuaW5nLlxuXG5cbiAgcmV0dXJuIHN0cmlwSFRNTChsYWJlbCk7XG59XG4vKipcbiAqIEdldCBhIGxhYmVsIGZvciB0aGUgYmxvY2sgZm9yIHVzZSBieSBzY3JlZW5yZWFkZXJzLCB0aGlzIGlzIG1vcmUgZGVzY3JpcHRpdmVcbiAqIHRoYW4gdGhlIHZpc3VhbCBsYWJlbCBhbmQgaW5jbHVkZXMgdGhlIGJsb2NrIHRpdGxlIGFuZCB0aGUgdmFsdWUgb2YgdGhlXG4gKiBgZ2V0TGFiZWxgIGZ1bmN0aW9uIGlmIGl0J3Mgc3BlY2lmaWVkLlxuICpcbiAqIEBwYXJhbSB7P09iamVjdH0gYmxvY2tUeXBlICAgICAgICAgICAgICBUaGUgYmxvY2sgdHlwZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSAgYXR0cmlidXRlcyAgICAgICAgICAgICBUaGUgdmFsdWVzIG9mIHRoZSBibG9jaydzIGF0dHJpYnV0ZXMuXG4gKiBAcGFyYW0gez9udW1iZXJ9IHBvc2l0aW9uICAgICAgICAgICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBibG9jayBpbiB0aGUgYmxvY2sgbGlzdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgW2RpcmVjdGlvbj0ndmVydGljYWwnXSBUaGUgZGlyZWN0aW9uIG9mIHRoZSBibG9jayBsYXlvdXQuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgYmxvY2sgbGFiZWwuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjY2Vzc2libGVCbG9ja0xhYmVsKGJsb2NrVHlwZSwgYXR0cmlidXRlcywgcG9zaXRpb24pIHtcbiAgbGV0IGRpcmVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ3ZlcnRpY2FsJztcbiAgLy8gYHRpdGxlYCBpcyBhbHJlYWR5IGxvY2FsaXplZCwgYGxhYmVsYCBpcyBhIHVzZXItc3VwcGxpZWQgdmFsdWUuXG4gIGNvbnN0IHRpdGxlID0gYmxvY2tUeXBlID09PSBudWxsIHx8IGJsb2NrVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmxvY2tUeXBlLnRpdGxlO1xuICBjb25zdCBsYWJlbCA9IGJsb2NrVHlwZSA/IGdldEJsb2NrTGFiZWwoYmxvY2tUeXBlLCBhdHRyaWJ1dGVzLCAnYWNjZXNzaWJpbGl0eScpIDogJyc7XG4gIGNvbnN0IGhhc1Bvc2l0aW9uID0gcG9zaXRpb24gIT09IHVuZGVmaW5lZDsgLy8gZ2V0QmxvY2tMYWJlbCByZXR1cm5zIHRoZSBibG9jayB0aXRsZSBhcyBhIGZhbGxiYWNrIHdoZW4gdGhlcmUncyBubyBsYWJlbCxcbiAgLy8gaWYgaXQgZGlkIHJldHVybiB0aGUgdGl0bGUsIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYXZvaWQgYWRkaW5nIHRoZVxuICAvLyB0aXRsZSB0d2ljZSB3aXRoaW4gdGhlIGFjY2Vzc2libGUgbGFiZWwuIFVzZSB0aGlzIGBoYXNMYWJlbGAgYm9vbGVhbiB0b1xuICAvLyBoYW5kbGUgdGhhdC5cblxuICBjb25zdCBoYXNMYWJlbCA9IGxhYmVsICYmIGxhYmVsICE9PSB0aXRsZTtcblxuICBpZiAoaGFzUG9zaXRpb24gJiYgZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgaWYgKGhhc0xhYmVsKSB7XG4gICAgICByZXR1cm4gc3ByaW50ZihcbiAgICAgIC8qIHRyYW5zbGF0b3JzOiBhY2Nlc3NpYmlsaXR5IHRleHQuIDE6IFRoZSBibG9jayB0aXRsZS4gMjogVGhlIGJsb2NrIHJvdyBudW1iZXIuIDM6IFRoZSBibG9jayBsYWJlbC4uICovXG4gICAgICBfXygnJTEkcyBCbG9jay4gUm93ICUyJGQuICUzJHMnKSwgdGl0bGUsIHBvc2l0aW9uLCBsYWJlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwcmludGYoXG4gICAgLyogdHJhbnNsYXRvcnM6IGFjY2Vzc2liaWxpdHkgdGV4dC4gMTogVGhlIGJsb2NrIHRpdGxlLiAyOiBUaGUgYmxvY2sgcm93IG51bWJlci4gKi9cbiAgICBfXygnJTEkcyBCbG9jay4gUm93ICUyJGQnKSwgdGl0bGUsIHBvc2l0aW9uKTtcbiAgfSBlbHNlIGlmIChoYXNQb3NpdGlvbiAmJiBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgIGlmIChoYXNMYWJlbCkge1xuICAgICAgcmV0dXJuIHNwcmludGYoXG4gICAgICAvKiB0cmFuc2xhdG9yczogYWNjZXNzaWJpbGl0eSB0ZXh0LiAxOiBUaGUgYmxvY2sgdGl0bGUuIDI6IFRoZSBibG9jayBjb2x1bW4gbnVtYmVyLiAzOiBUaGUgYmxvY2sgbGFiZWwuLiAqL1xuICAgICAgX18oJyUxJHMgQmxvY2suIENvbHVtbiAlMiRkLiAlMyRzJyksIHRpdGxlLCBwb3NpdGlvbiwgbGFiZWwpO1xuICAgIH1cblxuICAgIHJldHVybiBzcHJpbnRmKFxuICAgIC8qIHRyYW5zbGF0b3JzOiBhY2Nlc3NpYmlsaXR5IHRleHQuIDE6IFRoZSBibG9jayB0aXRsZS4gMjogVGhlIGJsb2NrIGNvbHVtbiBudW1iZXIuICovXG4gICAgX18oJyUxJHMgQmxvY2suIENvbHVtbiAlMiRkJyksIHRpdGxlLCBwb3NpdGlvbik7XG4gIH1cblxuICBpZiAoaGFzTGFiZWwpIHtcbiAgICByZXR1cm4gc3ByaW50ZihcbiAgICAvKiB0cmFuc2xhdG9yczogYWNjZXNzaWJpbGl0eSB0ZXh0LiAlMTogVGhlIGJsb2NrIHRpdGxlLiAlMjogVGhlIGJsb2NrIGxhYmVsLiAqL1xuICAgIF9fKCclMSRzIEJsb2NrLiAlMiRzJyksIHRpdGxlLCBsYWJlbCk7XG4gIH1cblxuICByZXR1cm4gc3ByaW50ZihcbiAgLyogdHJhbnNsYXRvcnM6IGFjY2Vzc2liaWxpdHkgdGV4dC4gJXM6IFRoZSBibG9jayB0aXRsZS4gKi9cbiAgX18oJyVzIEJsb2NrJyksIHRpdGxlKTtcbn1cbi8qKlxuICogRW5zdXJlIGF0dHJpYnV0ZXMgY29udGFpbnMgb25seSB2YWx1ZXMgZGVmaW5lZCBieSBibG9jayB0eXBlLCBhbmQgbWVyZ2VcbiAqIGRlZmF1bHQgdmFsdWVzIGZvciBtaXNzaW5nIGF0dHJpYnV0ZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgICAgVGhlIGJsb2NrJ3MgbmFtZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzIFRoZSBibG9jaydzIGF0dHJpYnV0ZXMuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzYW5pdGl6ZWQgYXR0cmlidXRlcy5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBlcmltZW50YWxTYW5pdGl6ZUJsb2NrQXR0cmlidXRlcyhuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gIC8vIEdldCB0aGUgdHlwZSBkZWZpbml0aW9uIGFzc29jaWF0ZWQgd2l0aCBhIHJlZ2lzdGVyZWQgYmxvY2suXG4gIGNvbnN0IGJsb2NrVHlwZSA9IGdldEJsb2NrVHlwZShuYW1lKTtcblxuICBpZiAodW5kZWZpbmVkID09PSBibG9ja1R5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJsb2NrIHR5cGUgJyR7bmFtZX0nIGlzIG5vdCByZWdpc3RlcmVkLmApO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGJsb2NrVHlwZS5hdHRyaWJ1dGVzKS5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBfcmVmKSA9PiB7XG4gICAgbGV0IFtrZXksIHNjaGVtYV0gPSBfcmVmO1xuICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1trZXldO1xuXG4gICAgaWYgKHVuZGVmaW5lZCAhPT0gdmFsdWUpIHtcbiAgICAgIGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpKSB7XG4gICAgICBhY2N1bXVsYXRvcltrZXldID0gc2NoZW1hLmRlZmF1bHQ7XG4gICAgfVxuXG4gICAgaWYgKFsnbm9kZScsICdjaGlsZHJlbiddLmluZGV4T2Yoc2NoZW1hLnNvdXJjZSkgIT09IC0xKSB7XG4gICAgICAvLyBFbnN1cmUgdmFsdWUgcGFzc2VkIGlzIGFsd2F5cyBhbiBhcnJheSwgd2hpY2ggd2UncmUgZXhwZWN0aW5nIGluXG4gICAgICAvLyB0aGUgUmljaFRleHQgY29tcG9uZW50IHRvIGhhbmRsZSB0aGUgZGVwcmVjYXRlZCB2YWx1ZS5cbiAgICAgIGlmICh0eXBlb2YgYWNjdW11bGF0b3Jba2V5XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYWNjdW11bGF0b3Jba2V5XSA9IFthY2N1bXVsYXRvcltrZXldXTtcbiAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYWNjdW11bGF0b3Jba2V5XSkpIHtcbiAgICAgICAgYWNjdW11bGF0b3Jba2V5XSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfSwge30pO1xufVxuLyoqXG4gKiBGaWx0ZXIgYmxvY2sgYXR0cmlidXRlcyBieSBgcm9sZWAgYW5kIHJldHVybiB0aGVpciBuYW1lcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBCbG9jayBhdHRyaWJ1dGUncyBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmd9IHJvbGUgVGhlIHJvbGUgb2YgYSBibG9jayBhdHRyaWJ1dGUuXG4gKlxuICogQHJldHVybiB7c3RyaW5nW119IFRoZSBhdHRyaWJ1dGUgbmFtZXMgdGhhdCBoYXZlIHRoZSBwcm92aWRlZCByb2xlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4cGVyaW1lbnRhbEdldEJsb2NrQXR0cmlidXRlc05hbWVzQnlSb2xlKG5hbWUsIHJvbGUpIHtcbiAgdmFyIF9nZXRCbG9ja1R5cGU7XG5cbiAgY29uc3QgYXR0cmlidXRlcyA9IChfZ2V0QmxvY2tUeXBlID0gZ2V0QmxvY2tUeXBlKG5hbWUpKSA9PT0gbnVsbCB8fCBfZ2V0QmxvY2tUeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZ2V0QmxvY2tUeXBlLmF0dHJpYnV0ZXM7XG4gIGlmICghYXR0cmlidXRlcykgcmV0dXJuIFtdO1xuICBjb25zdCBhdHRyaWJ1dGVzTmFtZXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKTtcbiAgaWYgKCFyb2xlKSByZXR1cm4gYXR0cmlidXRlc05hbWVzO1xuICByZXR1cm4gYXR0cmlidXRlc05hbWVzLmZpbHRlcihhdHRyaWJ1dGVOYW1lID0+IHtcbiAgICB2YXIgX2F0dHJpYnV0ZXMkYXR0cmlidXRlO1xuXG4gICAgcmV0dXJuICgoX2F0dHJpYnV0ZXMkYXR0cmlidXRlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkgPT09IG51bGwgfHwgX2F0dHJpYnV0ZXMkYXR0cmlidXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYXR0cmlidXRlcyRhdHRyaWJ1dGUuX19leHBlcmltZW50YWxSb2xlKSA9PT0gcm9sZTtcbiAgfSk7XG59XG4vKipcbiAqIFJldHVybiBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIGtleXMgb21pdHRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9yaWdpbmFsIG9iamVjdC5cbiAqIEBwYXJhbSB7QXJyYXl9ICBrZXlzICAgS2V5cyB0byBiZSBvbWl0dGVkLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggb21pdHRlZCBrZXlzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvbWl0KG9iamVjdCwga2V5cykge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9iamVjdCkuZmlsdGVyKF9yZWYyID0+IHtcbiAgICBsZXQgW2tleV0gPSBfcmVmMjtcbiAgICByZXR1cm4gIWtleXMuaW5jbHVkZXMoa2V5KTtcbiAgfSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwiLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZ2V0LCBpc0VtcHR5LCBtYXBWYWx1ZXMgfSBmcm9tICdsb2Rhc2gnO1xuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cblxuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cblxuaW1wb3J0IHsgb21pdCB9IGZyb20gJy4uL2FwaS91dGlscyc7XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFdQQmxvY2tDYXRlZ29yeVxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzbHVnICBVbmlxdWUgY2F0ZWdvcnkgc2x1Zy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0aXRsZSBDYXRlZ29yeSBsYWJlbCwgZm9yIGRpc3BsYXkgaW4gdXNlciBpbnRlcmZhY2UuXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IHNldCBvZiBjYXRlZ29yaWVzLlxuICpcbiAqIEB0eXBlIHtXUEJsb2NrQ2F0ZWdvcnlbXX1cbiAqL1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9DQVRFR09SSUVTID0gW3tcbiAgc2x1ZzogJ3RleHQnLFxuICB0aXRsZTogX18oJ1RleHQnKVxufSwge1xuICBzbHVnOiAnbWVkaWEnLFxuICB0aXRsZTogX18oJ01lZGlhJylcbn0sIHtcbiAgc2x1ZzogJ2Rlc2lnbicsXG4gIHRpdGxlOiBfXygnRGVzaWduJylcbn0sIHtcbiAgc2x1ZzogJ3dpZGdldHMnLFxuICB0aXRsZTogX18oJ1dpZGdldHMnKVxufSwge1xuICBzbHVnOiAndGhlbWUnLFxuICB0aXRsZTogX18oJ1RoZW1lJylcbn0sIHtcbiAgc2x1ZzogJ2VtYmVkJyxcbiAgdGl0bGU6IF9fKCdFbWJlZHMnKVxufSwge1xuICBzbHVnOiAncmV1c2FibGUnLFxuICB0aXRsZTogX18oJ1JldXNhYmxlIGJsb2NrcycpXG59XTsgLy8gS2V5IGJsb2NrIHR5cGVzIGJ5IHRoZWlyIG5hbWUuXG5cbmZ1bmN0aW9uIGtleUJsb2NrVHlwZXNCeU5hbWUodHlwZXMpIHtcbiAgcmV0dXJuIHR5cGVzLnJlZHVjZSgobmV3QmxvY2tUeXBlcywgYmxvY2spID0+ICh7IC4uLm5ld0Jsb2NrVHlwZXMsXG4gICAgW2Jsb2NrLm5hbWVdOiBibG9ja1xuICB9KSwge30pO1xufSAvLyBGaWx0ZXIgaXRlbXMgdG8gZW5zdXJlIHRoZXkncmUgdW5pcXVlIGJ5IHRoZWlyIG5hbWUuXG5cblxuZnVuY3Rpb24gZ2V0VW5pcXVlSXRlbXNCeU5hbWUoaXRlbXMpIHtcbiAgcmV0dXJuIGl0ZW1zLnJlZHVjZSgoYWNjLCBjdXJyZW50SXRlbSkgPT4ge1xuICAgIGlmICghYWNjLnNvbWUoaXRlbSA9PiBpdGVtLm5hbWUgPT09IGN1cnJlbnRJdGVtLm5hbWUpKSB7XG4gICAgICBhY2MucHVzaChjdXJyZW50SXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xufVxuLyoqXG4gKiBSZWR1Y2VyIG1hbmFnaW5nIHRoZSB1bnByb2Nlc3NlZCBibG9jayB0eXBlcyBpbiBhIGZvcm0gcGFzc2VkIHdoZW4gcmVnaXN0ZXJpbmcgdGhlIGJ5IGJsb2NrLlxuICogSXQncyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkuIEl0IGFsbG93cyByZWNvbXB1dGluZyB0aGUgcHJvY2Vzc2VkIGJsb2NrIHR5cGVzIG9uLWRlbWFuZCBhZnRlciBibG9jayB0eXBlIGZpbHRlcnNcbiAqIGdldCBhZGRlZCBvciByZW1vdmVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSAgQ3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gRGlzcGF0Y2hlZCBhY3Rpb24uXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBVcGRhdGVkIHN0YXRlLlxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvY2Vzc2VkQmxvY2tUeXBlcygpIHtcbiAgbGV0IHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgbGV0IGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdBRERfVU5QUk9DRVNTRURfQkxPQ0tfVFlQRSc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgW2FjdGlvbi5ibG9ja1R5cGUubmFtZV06IGFjdGlvbi5ibG9ja1R5cGVcbiAgICAgIH07XG5cbiAgICBjYXNlICdSRU1PVkVfQkxPQ0tfVFlQRVMnOlxuICAgICAgcmV0dXJuIG9taXQoc3RhdGUsIGFjdGlvbi5uYW1lcyk7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG4vKipcbiAqIFJlZHVjZXIgbWFuYWdpbmcgdGhlIHByb2Nlc3NlZCBibG9jayB0eXBlcyB3aXRoIGFsbCBmaWx0ZXJzIGFwcGxpZWQuXG4gKiBUaGUgc3RhdGUgaXMgZGVyaXZlZCBmcm9tIHRoZSBgdW5wcm9jZXNzZWRCbG9ja1R5cGVzYCByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSAgQ3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gRGlzcGF0Y2hlZCBhY3Rpb24uXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBVcGRhdGVkIHN0YXRlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBibG9ja1R5cGVzKCkge1xuICBsZXQgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICBsZXQgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG5cbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ0FERF9CTE9DS19UWVBFUyc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgLi4ua2V5QmxvY2tUeXBlc0J5TmFtZShhY3Rpb24uYmxvY2tUeXBlcylcbiAgICAgIH07XG5cbiAgICBjYXNlICdSRU1PVkVfQkxPQ0tfVFlQRVMnOlxuICAgICAgcmV0dXJuIG9taXQoc3RhdGUsIGFjdGlvbi5uYW1lcyk7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG4vKipcbiAqIFJlZHVjZXIgbWFuYWdpbmcgdGhlIGJsb2NrIHN0eWxlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgIEN1cnJlbnQgc3RhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIERpc3BhdGNoZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gVXBkYXRlZCBzdGF0ZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmxvY2tTdHlsZXMoKSB7XG4gIGxldCBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIGxldCBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX0JMT0NLX1RZUEVTJzpcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAuLi5tYXBWYWx1ZXMoa2V5QmxvY2tUeXBlc0J5TmFtZShhY3Rpb24uYmxvY2tUeXBlcyksIGJsb2NrVHlwZSA9PiBnZXRVbmlxdWVJdGVtc0J5TmFtZShbLi4uZ2V0KGJsb2NrVHlwZSwgWydzdHlsZXMnXSwgW10pLm1hcChzdHlsZSA9PiAoeyAuLi5zdHlsZSxcbiAgICAgICAgICBzb3VyY2U6ICdibG9jaydcbiAgICAgICAgfSkpLCAuLi5nZXQoc3RhdGUsIFtibG9ja1R5cGUubmFtZV0sIFtdKS5maWx0ZXIoX3JlZiA9PiB7XG4gICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIHNvdXJjZVxuICAgICAgICAgIH0gPSBfcmVmO1xuICAgICAgICAgIHJldHVybiAnYmxvY2snICE9PSBzb3VyY2U7XG4gICAgICAgIH0pXSkpXG4gICAgICB9O1xuXG4gICAgY2FzZSAnQUREX0JMT0NLX1NUWUxFUyc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgW2FjdGlvbi5ibG9ja05hbWVdOiBnZXRVbmlxdWVJdGVtc0J5TmFtZShbLi4uZ2V0KHN0YXRlLCBbYWN0aW9uLmJsb2NrTmFtZV0sIFtdKSwgLi4uYWN0aW9uLnN0eWxlc10pXG4gICAgICB9O1xuXG4gICAgY2FzZSAnUkVNT1ZFX0JMT0NLX1NUWUxFUyc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgW2FjdGlvbi5ibG9ja05hbWVdOiBnZXQoc3RhdGUsIFthY3Rpb24uYmxvY2tOYW1lXSwgW10pLmZpbHRlcihzdHlsZSA9PiBhY3Rpb24uc3R5bGVOYW1lcy5pbmRleE9mKHN0eWxlLm5hbWUpID09PSAtMSlcbiAgICAgIH07XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG4vKipcbiAqIFJlZHVjZXIgbWFuYWdpbmcgdGhlIGJsb2NrIHZhcmlhdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlICBDdXJyZW50IHN0YXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBEaXNwYXRjaGVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IFVwZGF0ZWQgc3RhdGUuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrVmFyaWF0aW9ucygpIHtcbiAgbGV0IHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgbGV0IGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdBRERfQkxPQ0tfVFlQRVMnOlxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIC4uLm1hcFZhbHVlcyhrZXlCbG9ja1R5cGVzQnlOYW1lKGFjdGlvbi5ibG9ja1R5cGVzKSwgYmxvY2tUeXBlID0+IHtcbiAgICAgICAgICByZXR1cm4gZ2V0VW5pcXVlSXRlbXNCeU5hbWUoWy4uLmdldChibG9ja1R5cGUsIFsndmFyaWF0aW9ucyddLCBbXSkubWFwKHZhcmlhdGlvbiA9PiAoeyAuLi52YXJpYXRpb24sXG4gICAgICAgICAgICBzb3VyY2U6ICdibG9jaydcbiAgICAgICAgICB9KSksIC4uLmdldChzdGF0ZSwgW2Jsb2NrVHlwZS5uYW1lXSwgW10pLmZpbHRlcihfcmVmMiA9PiB7XG4gICAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgICBzb3VyY2VcbiAgICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICAgIHJldHVybiAnYmxvY2snICE9PSBzb3VyY2U7XG4gICAgICAgICAgfSldKTtcbiAgICAgICAgfSlcbiAgICAgIH07XG5cbiAgICBjYXNlICdBRERfQkxPQ0tfVkFSSUFUSU9OUyc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgW2FjdGlvbi5ibG9ja05hbWVdOiBnZXRVbmlxdWVJdGVtc0J5TmFtZShbLi4uZ2V0KHN0YXRlLCBbYWN0aW9uLmJsb2NrTmFtZV0sIFtdKSwgLi4uYWN0aW9uLnZhcmlhdGlvbnNdKVxuICAgICAgfTtcblxuICAgIGNhc2UgJ1JFTU9WRV9CTE9DS19WQVJJQVRJT05TJzpcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICBbYWN0aW9uLmJsb2NrTmFtZV06IGdldChzdGF0ZSwgW2FjdGlvbi5ibG9ja05hbWVdLCBbXSkuZmlsdGVyKHZhcmlhdGlvbiA9PiBhY3Rpb24udmFyaWF0aW9uTmFtZXMuaW5kZXhPZih2YXJpYXRpb24ubmFtZSkgPT09IC0xKVxuICAgICAgfTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cbi8qKlxuICogSGlnaGVyLW9yZGVyIFJlZHVjZXIgY3JlYXRpbmcgYSByZWR1Y2VyIGtlZXBpbmcgdHJhY2sgb2YgZ2l2ZW4gYmxvY2sgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2V0QWN0aW9uVHlwZSBBY3Rpb24gdHlwZS5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gUmVkdWNlci5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmxvY2tOYW1lU2V0dGVyUmVkdWNlcihzZXRBY3Rpb25UeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgIGxldCBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ1JFTU9WRV9CTE9DS19UWVBFUyc6XG4gICAgICAgIGlmIChhY3Rpb24ubmFtZXMuaW5kZXhPZihzdGF0ZSkgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICAgIGNhc2Ugc2V0QWN0aW9uVHlwZTpcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5uYW1lIHx8IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRCbG9ja05hbWUgPSBjcmVhdGVCbG9ja05hbWVTZXR0ZXJSZWR1Y2VyKCdTRVRfREVGQVVMVF9CTE9DS19OQU1FJyk7XG5leHBvcnQgY29uc3QgZnJlZWZvcm1GYWxsYmFja0Jsb2NrTmFtZSA9IGNyZWF0ZUJsb2NrTmFtZVNldHRlclJlZHVjZXIoJ1NFVF9GUkVFRk9STV9GQUxMQkFDS19CTE9DS19OQU1FJyk7XG5leHBvcnQgY29uc3QgdW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUgPSBjcmVhdGVCbG9ja05hbWVTZXR0ZXJSZWR1Y2VyKCdTRVRfVU5SRUdJU1RFUkVEX0ZBTExCQUNLX0JMT0NLX05BTUUnKTtcbmV4cG9ydCBjb25zdCBncm91cGluZ0Jsb2NrTmFtZSA9IGNyZWF0ZUJsb2NrTmFtZVNldHRlclJlZHVjZXIoJ1NFVF9HUk9VUElOR19CTE9DS19OQU1FJyk7XG4vKipcbiAqIFJlZHVjZXIgbWFuYWdpbmcgdGhlIGNhdGVnb3JpZXNcbiAqXG4gKiBAcGFyYW0ge1dQQmxvY2tDYXRlZ29yeVtdfSBzdGF0ZSAgQ3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgIGFjdGlvbiBEaXNwYXRjaGVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtXUEJsb2NrQ2F0ZWdvcnlbXX0gVXBkYXRlZCBzdGF0ZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2F0ZWdvcmllcygpIHtcbiAgbGV0IHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBERUZBVUxUX0NBVEVHT1JJRVM7XG4gIGxldCBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnU0VUX0NBVEVHT1JJRVMnOlxuICAgICAgcmV0dXJuIGFjdGlvbi5jYXRlZ29yaWVzIHx8IFtdO1xuXG4gICAgY2FzZSAnVVBEQVRFX0NBVEVHT1JZJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKCFhY3Rpb24uY2F0ZWdvcnkgfHwgaXNFbXB0eShhY3Rpb24uY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2F0ZWdvcnlUb0NoYW5nZSA9IHN0YXRlLmZpbmQoX3JlZjMgPT4ge1xuICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICBzbHVnXG4gICAgICAgICAgfSA9IF9yZWYzO1xuICAgICAgICAgIHJldHVybiBzbHVnID09PSBhY3Rpb24uc2x1ZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5VG9DaGFuZ2UpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeS5zbHVnID09PSBhY3Rpb24uc2x1Zykge1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAuLi5hY3Rpb24uY2F0ZWdvcnlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdGlvbnMoKSB7XG4gIGxldCBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIGxldCBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX0JMT0NLX0NPTExFQ1RJT04nOlxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgIFthY3Rpb24ubmFtZXNwYWNlXToge1xuICAgICAgICAgIHRpdGxlOiBhY3Rpb24udGl0bGUsXG4gICAgICAgICAgaWNvbjogYWN0aW9uLmljb25cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGNhc2UgJ1JFTU9WRV9CTE9DS19DT0xMRUNUSU9OJzpcbiAgICAgIHJldHVybiBvbWl0KHN0YXRlLCBhY3Rpb24ubmFtZXNwYWNlKTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIHVucHJvY2Vzc2VkQmxvY2tUeXBlcyxcbiAgYmxvY2tUeXBlcyxcbiAgYmxvY2tTdHlsZXMsXG4gIGJsb2NrVmFyaWF0aW9ucyxcbiAgZGVmYXVsdEJsb2NrTmFtZSxcbiAgZnJlZWZvcm1GYWxsYmFja0Jsb2NrTmFtZSxcbiAgdW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUsXG4gIGdyb3VwaW5nQmxvY2tOYW1lLFxuICBjYXRlZ29yaWVzLFxuICBjb2xsZWN0aW9uc1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWR1Y2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlZGVmIHsoLi4uYXJnczogYW55W10pID0+ICpbXX0gR2V0RGVwZW5kYW50cyAqL1xuXG4vKiogQHR5cGVkZWYgeygpID0+IHZvaWR9IENsZWFyICovXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgZ2V0RGVwZW5kYW50czogR2V0RGVwZW5kYW50cyxcbiAqICAgY2xlYXI6IENsZWFyXG4gKiB9fSBFbmhhbmNlZFNlbGVjdG9yXG4gKi9cblxuLyoqXG4gKiBJbnRlcm5hbCBjYWNoZSBlbnRyeS5cbiAqXG4gKiBAdHlwZWRlZiBDYWNoZU5vZGVcbiAqXG4gKiBAcHJvcGVydHkgez9DYWNoZU5vZGV8dW5kZWZpbmVkfSBbcHJldl0gUHJldmlvdXMgbm9kZS5cbiAqIEBwcm9wZXJ0eSB7P0NhY2hlTm9kZXx1bmRlZmluZWR9IFtuZXh0XSBOZXh0IG5vZGUuXG4gKiBAcHJvcGVydHkgeypbXX0gYXJncyBGdW5jdGlvbiBhcmd1bWVudHMgZm9yIGNhY2hlIGVudHJ5LlxuICogQHByb3BlcnR5IHsqfSB2YWwgRnVuY3Rpb24gcmVzdWx0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgQ2FjaGVcbiAqXG4gKiBAcHJvcGVydHkge0NsZWFyfSBjbGVhciBGdW5jdGlvbiB0byBjbGVhciBjYWNoZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzVW5pcXVlQnlEZXBlbmRhbnRzXSBXaGV0aGVyIGRlcGVuZGFudHMgYXJlIHZhbGlkIGluXG4gKiBjb25zaWRlcmluZyBjYWNoZSB1bmlxdWVuZXNzLiBBIGNhY2hlIGlzIHVuaXF1ZSBpZiBkZXBlbmRlbnRzIGFyZSBhbGwgYXJyYXlzXG4gKiBvciBvYmplY3RzLlxuICogQHByb3BlcnR5IHtDYWNoZU5vZGU/fSBbaGVhZF0gQ2FjaGUgaGVhZC5cbiAqIEBwcm9wZXJ0eSB7KltdfSBbbGFzdERlcGVuZGFudHNdIERlcGVuZGFudHMgZnJvbSBwcmV2aW91cyBpbnZvY2F0aW9uLlxuICovXG5cbi8qKlxuICogQXJiaXRyYXJ5IHZhbHVlIHVzZWQgYXMga2V5IGZvciByZWZlcmVuY2luZyBjYWNoZSBvYmplY3QgaW4gV2Vha01hcCB0cmVlLlxuICpcbiAqIEB0eXBlIHt7fX1cbiAqL1xudmFyIExFQUZfS0VZID0ge307XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgYXMgdGhlIHNvbGUgZW50cnkgaW4gYW4gYXJyYXkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1R9IHZhbHVlIFZhbHVlIHRvIHJldHVybi5cbiAqXG4gKiBAcmV0dXJuIHtbVF19IFZhbHVlIHJldHVybmVkIGFzIGVudHJ5IGluIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU9mKHZhbHVlKSB7XG5cdHJldHVybiBbdmFsdWVdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG9iamVjdC1saWtlLCBvciBmYWxzZSBvdGhlcndpc2UuIEEgdmFsdWVcbiAqIGlzIG9iamVjdC1saWtlIGlmIGl0IGNhbiBzdXBwb3J0IHByb3BlcnR5IGFzc2lnbm1lbnQsIGUuZy4gb2JqZWN0IG9yIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHZhbHVlIGlzIG9iamVjdC1saWtlLlxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcblx0cmV0dXJuICEhdmFsdWUgJiYgJ29iamVjdCcgPT09IHR5cGVvZiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtDYWNoZX0gQ2FjaGUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0LyoqIEB0eXBlIHtDYWNoZX0gKi9cblx0dmFyIGNhY2hlID0ge1xuXHRcdGNsZWFyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjYWNoZS5oZWFkID0gbnVsbDtcblx0XHR9LFxuXHR9O1xuXG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZW50cmllcyB3aXRoaW4gdGhlIHR3byBhcnJheXMgYXJlIHN0cmljdGx5IGVxdWFsIGJ5XG4gKiByZWZlcmVuY2UgZnJvbSBhIHN0YXJ0aW5nIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7KltdfSBhIEZpcnN0IGFycmF5LlxuICogQHBhcmFtIHsqW119IGIgU2Vjb25kIGFycmF5LlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBJbmRleCBmcm9tIHdoaWNoIHRvIHN0YXJ0IGNvbXBhcmlzb24uXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBhcnJheXMgYXJlIHNoYWxsb3dseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gaXNTaGFsbG93RXF1YWwoYSwgYiwgZnJvbUluZGV4KSB7XG5cdHZhciBpO1xuXG5cdGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmb3IgKGkgPSBmcm9tSW5kZXg7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKGFbaV0gIT09IGJbaV0pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbWVtb2l6ZWQgc2VsZWN0b3IgZnVuY3Rpb24uIFRoZSBnZXREZXBlbmRhbnRzIGZ1bmN0aW9uIGFyZ3VtZW50IGlzXG4gKiBjYWxsZWQgYmVmb3JlIHRoZSBtZW1vaXplZCBzZWxlY3RvciBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuIGltbXV0YWJsZVxuICogcmVmZXJlbmNlIG9yIGFycmF5IG9mIHJlZmVyZW5jZXMgb24gd2hpY2ggdGhlIHNlbGVjdG9yIGRlcGVuZHMgZm9yIGNvbXB1dGluZ1xuICogaXRzIG93biByZXR1cm4gdmFsdWUuIFRoZSBtZW1vaXplIGNhY2hlIGlzIHByZXNlcnZlZCBvbmx5IGFzIGxvbmcgYXMgdGhvc2VcbiAqIGRlcGVuZGFudCByZWZlcmVuY2VzIHJlbWFpbiB0aGUgc2FtZS4gSWYgZ2V0RGVwZW5kYW50cyByZXR1cm5zIGEgZGlmZmVyZW50XG4gKiByZWZlcmVuY2UocyksIHRoZSBjYWNoZSBpcyBjbGVhcmVkIGFuZCB0aGUgc2VsZWN0b3IgdmFsdWUgcmVnZW5lcmF0ZWQuXG4gKlxuICogQHRlbXBsYXRlIHsoLi4uYXJnczogKltdKSA9PiAqfSBTXG4gKlxuICogQHBhcmFtIHtTfSBzZWxlY3RvciBTZWxlY3RvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7R2V0RGVwZW5kYW50cz19IGdldERlcGVuZGFudHMgRGVwZW5kYW50IGdldHRlciByZXR1cm5pbmcgYW4gYXJyYXkgb2ZcbiAqIHJlZmVyZW5jZXMgdXNlZCBpbiBjYWNoZSBidXN0IGNvbnNpZGVyYXRpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzZWxlY3RvciwgZ2V0RGVwZW5kYW50cykge1xuXHQvKiogQHR5cGUge1dlYWtNYXA8KiwqPn0gKi9cblx0dmFyIHJvb3RDYWNoZTtcblxuXHQvKiogQHR5cGUge0dldERlcGVuZGFudHN9ICovXG5cdHZhciBub3JtYWxpemVkR2V0RGVwZW5kYW50cyA9IGdldERlcGVuZGFudHMgPyBnZXREZXBlbmRhbnRzIDogYXJyYXlPZjtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgY2FjaGUgZm9yIGEgZ2l2ZW4gZGVwZW5kYW50cyBhcnJheS4gV2hlbiBwb3NzaWJsZSwgYSBXZWFrTWFwXG5cdCAqIHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSB1bmlxdWUgY2FjaGUgZm9yIGVhY2ggc2V0IG9mIGRlcGVuZGFudHMuIFRoaXNcblx0ICogaXMgZmVhc2libGUgZHVlIHRvIHRoZSBuYXR1cmUgb2YgV2Vha01hcCBpbiBhbGxvd2luZyBnYXJiYWdlIGNvbGxlY3Rpb25cblx0ICogdG8gb2NjdXIgb24gZW50cmllcyB3aGVyZSB0aGUga2V5IG9iamVjdCBpcyBubyBsb25nZXIgcmVmZXJlbmNlZC4gU2luY2Vcblx0ICogV2Vha01hcCByZXF1aXJlcyB0aGUga2V5IHRvIGJlIGFuIG9iamVjdCwgdGhpcyBpcyBvbmx5IHBvc3NpYmxlIHdoZW4gdGhlXG5cdCAqIGRlcGVuZGFudCBpcyBvYmplY3QtbGlrZS4gVGhlIHJvb3QgY2FjaGUgaXMgY3JlYXRlZCBhcyBhIGhpZXJhcmNoeSB3aGVyZVxuXHQgKiBlYWNoIHRvcC1sZXZlbCBrZXkgaXMgdGhlIGZpcnN0IGVudHJ5IGluIGEgZGVwZW5kYW50cyBzZXQsIHRoZSB2YWx1ZSBhXG5cdCAqIFdlYWtNYXAgd2hlcmUgZWFjaCBrZXkgaXMgdGhlIG5leHQgZGVwZW5kYW50LCBhbmQgc28gb24uIFRoaXMgY29udGludWVzXG5cdCAqIHNvIGxvbmcgYXMgdGhlIGRlcGVuZGFudHMgYXJlIG9iamVjdC1saWtlLiBJZiBubyBkZXBlbmRhbnRzIGFyZSBvYmplY3QtXG5cdCAqIGxpa2UsIHRoZW4gdGhlIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgYWxsIGludm9jYXRpb25zLlxuXHQgKlxuXHQgKiBAc2VlIGlzT2JqZWN0TGlrZVxuXHQgKlxuXHQgKiBAcGFyYW0geypbXX0gZGVwZW5kYW50cyBTZWxlY3RvciBkZXBlbmRhbnRzLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtDYWNoZX0gQ2FjaGUgb2JqZWN0LlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0Q2FjaGUoZGVwZW5kYW50cykge1xuXHRcdHZhciBjYWNoZXMgPSByb290Q2FjaGUsXG5cdFx0XHRpc1VuaXF1ZUJ5RGVwZW5kYW50cyA9IHRydWUsXG5cdFx0XHRpLFxuXHRcdFx0ZGVwZW5kYW50LFxuXHRcdFx0bWFwLFxuXHRcdFx0Y2FjaGU7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgZGVwZW5kYW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0ZGVwZW5kYW50ID0gZGVwZW5kYW50c1tpXTtcblxuXHRcdFx0Ly8gQ2FuIG9ubHkgY29tcG9zZSBXZWFrTWFwIGZyb20gb2JqZWN0LWxpa2Uga2V5LlxuXHRcdFx0aWYgKCFpc09iamVjdExpa2UoZGVwZW5kYW50KSkge1xuXHRcdFx0XHRpc1VuaXF1ZUJ5RGVwZW5kYW50cyA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gRG9lcyBjdXJyZW50IHNlZ21lbnQgb2YgY2FjaGUgYWxyZWFkeSBoYXZlIGEgV2Vha01hcD9cblx0XHRcdGlmIChjYWNoZXMuaGFzKGRlcGVuZGFudCkpIHtcblx0XHRcdFx0Ly8gVHJhdmVyc2UgaW50byBuZXN0ZWQgV2Vha01hcC5cblx0XHRcdFx0Y2FjaGVzID0gY2FjaGVzLmdldChkZXBlbmRhbnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gQ3JlYXRlLCBzZXQsIGFuZCB0cmF2ZXJzZSBpbnRvIGEgbmV3IG9uZS5cblx0XHRcdFx0bWFwID0gbmV3IFdlYWtNYXAoKTtcblx0XHRcdFx0Y2FjaGVzLnNldChkZXBlbmRhbnQsIG1hcCk7XG5cdFx0XHRcdGNhY2hlcyA9IG1hcDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBXZSB1c2UgYW4gYXJiaXRyYXJ5IChidXQgY29uc2lzdGVudCkgb2JqZWN0IGFzIGtleSBmb3IgdGhlIGxhc3QgaXRlbVxuXHRcdC8vIGluIHRoZSBXZWFrTWFwIHRvIHNlcnZlIGFzIG91ciBydW5uaW5nIGNhY2hlLlxuXHRcdGlmICghY2FjaGVzLmhhcyhMRUFGX0tFWSkpIHtcblx0XHRcdGNhY2hlID0gY3JlYXRlQ2FjaGUoKTtcblx0XHRcdGNhY2hlLmlzVW5pcXVlQnlEZXBlbmRhbnRzID0gaXNVbmlxdWVCeURlcGVuZGFudHM7XG5cdFx0XHRjYWNoZXMuc2V0KExFQUZfS0VZLCBjYWNoZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNhY2hlcy5nZXQoTEVBRl9LRVkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlc2V0cyByb290IG1lbW9pemF0aW9uIGNhY2hlLlxuXHQgKi9cblx0ZnVuY3Rpb24gY2xlYXIoKSB7XG5cdFx0cm9vdENhY2hlID0gbmV3IFdlYWtNYXAoKTtcblx0fVxuXG5cdC8qIGVzbGludC1kaXNhYmxlIGpzZG9jL2NoZWNrLXBhcmFtLW5hbWVzICovXG5cdC8qKlxuXHQgKiBUaGUgYXVnbWVudGVkIHNlbGVjdG9yIGNhbGwsIGNvbnNpZGVyaW5nIGZpcnN0IHdoZXRoZXIgZGVwZW5kYW50cyBoYXZlXG5cdCAqIGNoYW5nZWQgYmVmb3JlIHBhc3NpbmcgaXQgdG8gdW5kZXJseWluZyBtZW1vaXplIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0geyp9ICAgIHNvdXJjZSAgICBTb3VyY2Ugb2JqZWN0IGZvciBkZXJpdmF0aW9uLlxuXHQgKiBAcGFyYW0gey4uLip9IGV4dHJhQXJncyBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBwYXNzIHRvIHNlbGVjdG9yLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHsqfSBTZWxlY3RvciByZXN1bHQuXG5cdCAqL1xuXHQvKiBlc2xpbnQtZW5hYmxlIGpzZG9jL2NoZWNrLXBhcmFtLW5hbWVzICovXG5cdGZ1bmN0aW9uIGNhbGxTZWxlY3RvcigvKiBzb3VyY2UsIC4uLmV4dHJhQXJncyAqLykge1xuXHRcdHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdFx0Y2FjaGUsXG5cdFx0XHRub2RlLFxuXHRcdFx0aSxcblx0XHRcdGFyZ3MsXG5cdFx0XHRkZXBlbmRhbnRzO1xuXG5cdFx0Ly8gQ3JlYXRlIGNvcHkgb2YgYXJndW1lbnRzIChhdm9pZCBsZWFraW5nIGRlb3B0aW1pemF0aW9uKS5cblx0XHRhcmdzID0gbmV3IEFycmF5KGxlbik7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuXHRcdH1cblxuXHRcdGRlcGVuZGFudHMgPSBub3JtYWxpemVkR2V0RGVwZW5kYW50cy5hcHBseShudWxsLCBhcmdzKTtcblx0XHRjYWNoZSA9IGdldENhY2hlKGRlcGVuZGFudHMpO1xuXG5cdFx0Ly8gSWYgbm90IGd1YXJhbnRlZWQgdW5pcXVlbmVzcyBieSBkZXBlbmRhbnRzIChwcmltaXRpdmUgdHlwZSksIHNoYWxsb3dcblx0XHQvLyBjb21wYXJlIGFnYWluc3QgbGFzdCBkZXBlbmRhbnRzIGFuZCwgaWYgcmVmZXJlbmNlcyBoYXZlIGNoYW5nZWQsXG5cdFx0Ly8gZGVzdHJveSBjYWNoZSB0byByZWNhbGN1bGF0ZSByZXN1bHQuXG5cdFx0aWYgKCFjYWNoZS5pc1VuaXF1ZUJ5RGVwZW5kYW50cykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRjYWNoZS5sYXN0RGVwZW5kYW50cyAmJlxuXHRcdFx0XHQhaXNTaGFsbG93RXF1YWwoZGVwZW5kYW50cywgY2FjaGUubGFzdERlcGVuZGFudHMsIDApXG5cdFx0XHQpIHtcblx0XHRcdFx0Y2FjaGUuY2xlYXIoKTtcblx0XHRcdH1cblxuXHRcdFx0Y2FjaGUubGFzdERlcGVuZGFudHMgPSBkZXBlbmRhbnRzO1xuXHRcdH1cblxuXHRcdG5vZGUgPSBjYWNoZS5oZWFkO1xuXHRcdHdoaWxlIChub2RlKSB7XG5cdFx0XHQvLyBDaGVjayB3aGV0aGVyIG5vZGUgYXJndW1lbnRzIG1hdGNoIGFyZ3VtZW50c1xuXHRcdFx0aWYgKCFpc1NoYWxsb3dFcXVhbChub2RlLmFyZ3MsIGFyZ3MsIDEpKSB7XG5cdFx0XHRcdG5vZGUgPSBub2RlLm5leHQ7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50IHdlIGNhbiBhc3N1bWUgd2UndmUgZm91bmQgYSBtYXRjaFxuXG5cdFx0XHQvLyBTdXJmYWNlIG1hdGNoZWQgbm9kZSB0byBoZWFkIGlmIG5vdCBhbHJlYWR5XG5cdFx0XHRpZiAobm9kZSAhPT0gY2FjaGUuaGVhZCkge1xuXHRcdFx0XHQvLyBBZGp1c3Qgc2libGluZ3MgdG8gcG9pbnQgdG8gZWFjaCBvdGhlci5cblx0XHRcdFx0LyoqIEB0eXBlIHtDYWNoZU5vZGV9ICovIChub2RlLnByZXYpLm5leHQgPSBub2RlLm5leHQ7XG5cdFx0XHRcdGlmIChub2RlLm5leHQpIHtcblx0XHRcdFx0XHRub2RlLm5leHQucHJldiA9IG5vZGUucHJldjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG5vZGUubmV4dCA9IGNhY2hlLmhlYWQ7XG5cdFx0XHRcdG5vZGUucHJldiA9IG51bGw7XG5cdFx0XHRcdC8qKiBAdHlwZSB7Q2FjaGVOb2RlfSAqLyAoY2FjaGUuaGVhZCkucHJldiA9IG5vZGU7XG5cdFx0XHRcdGNhY2hlLmhlYWQgPSBub2RlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXR1cm4gaW1tZWRpYXRlbHlcblx0XHRcdHJldHVybiBub2RlLnZhbDtcblx0XHR9XG5cblx0XHQvLyBObyBjYWNoZWQgdmFsdWUgZm91bmQuIENvbnRpbnVlIHRvIGluc2VydGlvbiBwaGFzZTpcblxuXHRcdG5vZGUgPSAvKiogQHR5cGUge0NhY2hlTm9kZX0gKi8gKHtcblx0XHRcdC8vIEdlbmVyYXRlIHRoZSByZXN1bHQgZnJvbSBvcmlnaW5hbCBmdW5jdGlvblxuXHRcdFx0dmFsOiBzZWxlY3Rvci5hcHBseShudWxsLCBhcmdzKSxcblx0XHR9KTtcblxuXHRcdC8vIEF2b2lkIGluY2x1ZGluZyB0aGUgc291cmNlIG9iamVjdCBpbiB0aGUgY2FjaGUuXG5cdFx0YXJnc1swXSA9IG51bGw7XG5cdFx0bm9kZS5hcmdzID0gYXJncztcblxuXHRcdC8vIERvbid0IG5lZWQgdG8gY2hlY2sgd2hldGhlciBub2RlIGlzIGFscmVhZHkgaGVhZCwgc2luY2UgaXQgd291bGRcblx0XHQvLyBoYXZlIGJlZW4gcmV0dXJuZWQgYWJvdmUgYWxyZWFkeSBpZiBpdCB3YXNcblxuXHRcdC8vIFNoaWZ0IGV4aXN0aW5nIGhlYWQgZG93biBsaXN0XG5cdFx0aWYgKGNhY2hlLmhlYWQpIHtcblx0XHRcdGNhY2hlLmhlYWQucHJldiA9IG5vZGU7XG5cdFx0XHRub2RlLm5leHQgPSBjYWNoZS5oZWFkO1xuXHRcdH1cblxuXHRcdGNhY2hlLmhlYWQgPSBub2RlO1xuXG5cdFx0cmV0dXJuIG5vZGUudmFsO1xuXHR9XG5cblx0Y2FsbFNlbGVjdG9yLmdldERlcGVuZGFudHMgPSBub3JtYWxpemVkR2V0RGVwZW5kYW50cztcblx0Y2FsbFNlbGVjdG9yLmNsZWFyID0gY2xlYXI7XG5cdGNsZWFyKCk7XG5cblx0cmV0dXJuIC8qKiBAdHlwZSB7UyAmIEVuaGFuY2VkU2VsZWN0b3J9ICovIChjYWxsU2VsZWN0b3IpO1xufVxuIiwidmFyIGNoYXJhY3Rlck1hcCA9IHtcblx0XCLDgFwiOiBcIkFcIixcblx0XCLDgVwiOiBcIkFcIixcblx0XCLDglwiOiBcIkFcIixcblx0XCLDg1wiOiBcIkFcIixcblx0XCLDhFwiOiBcIkFcIixcblx0XCLDhVwiOiBcIkFcIixcblx0XCLhuqRcIjogXCJBXCIsXG5cdFwi4bquXCI6IFwiQVwiLFxuXHRcIuG6slwiOiBcIkFcIixcblx0XCLhurRcIjogXCJBXCIsXG5cdFwi4bq2XCI6IFwiQVwiLFxuXHRcIsOGXCI6IFwiQUVcIixcblx0XCLhuqZcIjogXCJBXCIsXG5cdFwi4bqwXCI6IFwiQVwiLFxuXHRcIsiCXCI6IFwiQVwiLFxuXHRcIsOHXCI6IFwiQ1wiLFxuXHRcIuG4iFwiOiBcIkNcIixcblx0XCLDiFwiOiBcIkVcIixcblx0XCLDiVwiOiBcIkVcIixcblx0XCLDilwiOiBcIkVcIixcblx0XCLDi1wiOiBcIkVcIixcblx0XCLhur5cIjogXCJFXCIsXG5cdFwi4biWXCI6IFwiRVwiLFxuXHRcIuG7gFwiOiBcIkVcIixcblx0XCLhuJRcIjogXCJFXCIsXG5cdFwi4bicXCI6IFwiRVwiLFxuXHRcIsiGXCI6IFwiRVwiLFxuXHRcIsOMXCI6IFwiSVwiLFxuXHRcIsONXCI6IFwiSVwiLFxuXHRcIsOOXCI6IFwiSVwiLFxuXHRcIsOPXCI6IFwiSVwiLFxuXHRcIuG4rlwiOiBcIklcIixcblx0XCLIilwiOiBcIklcIixcblx0XCLDkFwiOiBcIkRcIixcblx0XCLDkVwiOiBcIk5cIixcblx0XCLDklwiOiBcIk9cIixcblx0XCLDk1wiOiBcIk9cIixcblx0XCLDlFwiOiBcIk9cIixcblx0XCLDlVwiOiBcIk9cIixcblx0XCLDllwiOiBcIk9cIixcblx0XCLDmFwiOiBcIk9cIixcblx0XCLhu5BcIjogXCJPXCIsXG5cdFwi4bmMXCI6IFwiT1wiLFxuXHRcIuG5klwiOiBcIk9cIixcblx0XCLIjlwiOiBcIk9cIixcblx0XCLDmVwiOiBcIlVcIixcblx0XCLDmlwiOiBcIlVcIixcblx0XCLDm1wiOiBcIlVcIixcblx0XCLDnFwiOiBcIlVcIixcblx0XCLDnVwiOiBcIllcIixcblx0XCLDoFwiOiBcImFcIixcblx0XCLDoVwiOiBcImFcIixcblx0XCLDolwiOiBcImFcIixcblx0XCLDo1wiOiBcImFcIixcblx0XCLDpFwiOiBcImFcIixcblx0XCLDpVwiOiBcImFcIixcblx0XCLhuqVcIjogXCJhXCIsXG5cdFwi4bqvXCI6IFwiYVwiLFxuXHRcIuG6s1wiOiBcImFcIixcblx0XCLhurVcIjogXCJhXCIsXG5cdFwi4bq3XCI6IFwiYVwiLFxuXHRcIsOmXCI6IFwiYWVcIixcblx0XCLhuqdcIjogXCJhXCIsXG5cdFwi4bqxXCI6IFwiYVwiLFxuXHRcIsiDXCI6IFwiYVwiLFxuXHRcIsOnXCI6IFwiY1wiLFxuXHRcIuG4iVwiOiBcImNcIixcblx0XCLDqFwiOiBcImVcIixcblx0XCLDqVwiOiBcImVcIixcblx0XCLDqlwiOiBcImVcIixcblx0XCLDq1wiOiBcImVcIixcblx0XCLhur9cIjogXCJlXCIsXG5cdFwi4biXXCI6IFwiZVwiLFxuXHRcIuG7gVwiOiBcImVcIixcblx0XCLhuJVcIjogXCJlXCIsXG5cdFwi4bidXCI6IFwiZVwiLFxuXHRcIsiHXCI6IFwiZVwiLFxuXHRcIsOsXCI6IFwiaVwiLFxuXHRcIsOtXCI6IFwiaVwiLFxuXHRcIsOuXCI6IFwiaVwiLFxuXHRcIsOvXCI6IFwiaVwiLFxuXHRcIuG4r1wiOiBcImlcIixcblx0XCLIi1wiOiBcImlcIixcblx0XCLDsFwiOiBcImRcIixcblx0XCLDsVwiOiBcIm5cIixcblx0XCLDslwiOiBcIm9cIixcblx0XCLDs1wiOiBcIm9cIixcblx0XCLDtFwiOiBcIm9cIixcblx0XCLDtVwiOiBcIm9cIixcblx0XCLDtlwiOiBcIm9cIixcblx0XCLDuFwiOiBcIm9cIixcblx0XCLhu5FcIjogXCJvXCIsXG5cdFwi4bmNXCI6IFwib1wiLFxuXHRcIuG5k1wiOiBcIm9cIixcblx0XCLIj1wiOiBcIm9cIixcblx0XCLDuVwiOiBcInVcIixcblx0XCLDulwiOiBcInVcIixcblx0XCLDu1wiOiBcInVcIixcblx0XCLDvFwiOiBcInVcIixcblx0XCLDvVwiOiBcInlcIixcblx0XCLDv1wiOiBcInlcIixcblx0XCLEgFwiOiBcIkFcIixcblx0XCLEgVwiOiBcImFcIixcblx0XCLEglwiOiBcIkFcIixcblx0XCLEg1wiOiBcImFcIixcblx0XCLEhFwiOiBcIkFcIixcblx0XCLEhVwiOiBcImFcIixcblx0XCLEhlwiOiBcIkNcIixcblx0XCLEh1wiOiBcImNcIixcblx0XCLEiFwiOiBcIkNcIixcblx0XCLEiVwiOiBcImNcIixcblx0XCLEilwiOiBcIkNcIixcblx0XCLEi1wiOiBcImNcIixcblx0XCLEjFwiOiBcIkNcIixcblx0XCLEjVwiOiBcImNcIixcblx0XCJDzIZcIjogXCJDXCIsXG5cdFwiY8yGXCI6IFwiY1wiLFxuXHRcIsSOXCI6IFwiRFwiLFxuXHRcIsSPXCI6IFwiZFwiLFxuXHRcIsSQXCI6IFwiRFwiLFxuXHRcIsSRXCI6IFwiZFwiLFxuXHRcIsSSXCI6IFwiRVwiLFxuXHRcIsSTXCI6IFwiZVwiLFxuXHRcIsSUXCI6IFwiRVwiLFxuXHRcIsSVXCI6IFwiZVwiLFxuXHRcIsSWXCI6IFwiRVwiLFxuXHRcIsSXXCI6IFwiZVwiLFxuXHRcIsSYXCI6IFwiRVwiLFxuXHRcIsSZXCI6IFwiZVwiLFxuXHRcIsSaXCI6IFwiRVwiLFxuXHRcIsSbXCI6IFwiZVwiLFxuXHRcIsScXCI6IFwiR1wiLFxuXHRcIse0XCI6IFwiR1wiLFxuXHRcIsSdXCI6IFwiZ1wiLFxuXHRcIse1XCI6IFwiZ1wiLFxuXHRcIsSeXCI6IFwiR1wiLFxuXHRcIsSfXCI6IFwiZ1wiLFxuXHRcIsSgXCI6IFwiR1wiLFxuXHRcIsShXCI6IFwiZ1wiLFxuXHRcIsSiXCI6IFwiR1wiLFxuXHRcIsSjXCI6IFwiZ1wiLFxuXHRcIsSkXCI6IFwiSFwiLFxuXHRcIsSlXCI6IFwiaFwiLFxuXHRcIsSmXCI6IFwiSFwiLFxuXHRcIsSnXCI6IFwiaFwiLFxuXHRcIuG4qlwiOiBcIkhcIixcblx0XCLhuKtcIjogXCJoXCIsXG5cdFwixKhcIjogXCJJXCIsXG5cdFwixKlcIjogXCJpXCIsXG5cdFwixKpcIjogXCJJXCIsXG5cdFwixKtcIjogXCJpXCIsXG5cdFwixKxcIjogXCJJXCIsXG5cdFwixK1cIjogXCJpXCIsXG5cdFwixK5cIjogXCJJXCIsXG5cdFwixK9cIjogXCJpXCIsXG5cdFwixLBcIjogXCJJXCIsXG5cdFwixLFcIjogXCJpXCIsXG5cdFwixLJcIjogXCJJSlwiLFxuXHRcIsSzXCI6IFwiaWpcIixcblx0XCLEtFwiOiBcIkpcIixcblx0XCLEtVwiOiBcImpcIixcblx0XCLEtlwiOiBcIktcIixcblx0XCLEt1wiOiBcImtcIixcblx0XCLhuLBcIjogXCJLXCIsXG5cdFwi4bixXCI6IFwia1wiLFxuXHRcIkvMhlwiOiBcIktcIixcblx0XCJrzIZcIjogXCJrXCIsXG5cdFwixLlcIjogXCJMXCIsXG5cdFwixLpcIjogXCJsXCIsXG5cdFwixLtcIjogXCJMXCIsXG5cdFwixLxcIjogXCJsXCIsXG5cdFwixL1cIjogXCJMXCIsXG5cdFwixL5cIjogXCJsXCIsXG5cdFwixL9cIjogXCJMXCIsXG5cdFwixYBcIjogXCJsXCIsXG5cdFwixYFcIjogXCJsXCIsXG5cdFwixYJcIjogXCJsXCIsXG5cdFwi4bi+XCI6IFwiTVwiLFxuXHRcIuG4v1wiOiBcIm1cIixcblx0XCJNzIZcIjogXCJNXCIsXG5cdFwibcyGXCI6IFwibVwiLFxuXHRcIsWDXCI6IFwiTlwiLFxuXHRcIsWEXCI6IFwiblwiLFxuXHRcIsWFXCI6IFwiTlwiLFxuXHRcIsWGXCI6IFwiblwiLFxuXHRcIsWHXCI6IFwiTlwiLFxuXHRcIsWIXCI6IFwiblwiLFxuXHRcIsWJXCI6IFwiblwiLFxuXHRcIk7MhlwiOiBcIk5cIixcblx0XCJuzIZcIjogXCJuXCIsXG5cdFwixYxcIjogXCJPXCIsXG5cdFwixY1cIjogXCJvXCIsXG5cdFwixY5cIjogXCJPXCIsXG5cdFwixY9cIjogXCJvXCIsXG5cdFwixZBcIjogXCJPXCIsXG5cdFwixZFcIjogXCJvXCIsXG5cdFwixZJcIjogXCJPRVwiLFxuXHRcIsWTXCI6IFwib2VcIixcblx0XCJQzIZcIjogXCJQXCIsXG5cdFwicMyGXCI6IFwicFwiLFxuXHRcIsWUXCI6IFwiUlwiLFxuXHRcIsWVXCI6IFwiclwiLFxuXHRcIsWWXCI6IFwiUlwiLFxuXHRcIsWXXCI6IFwiclwiLFxuXHRcIsWYXCI6IFwiUlwiLFxuXHRcIsWZXCI6IFwiclwiLFxuXHRcIlLMhlwiOiBcIlJcIixcblx0XCJyzIZcIjogXCJyXCIsXG5cdFwiyJJcIjogXCJSXCIsXG5cdFwiyJNcIjogXCJyXCIsXG5cdFwixZpcIjogXCJTXCIsXG5cdFwixZtcIjogXCJzXCIsXG5cdFwixZxcIjogXCJTXCIsXG5cdFwixZ1cIjogXCJzXCIsXG5cdFwixZ5cIjogXCJTXCIsXG5cdFwiyJhcIjogXCJTXCIsXG5cdFwiyJlcIjogXCJzXCIsXG5cdFwixZ9cIjogXCJzXCIsXG5cdFwixaBcIjogXCJTXCIsXG5cdFwixaFcIjogXCJzXCIsXG5cdFwiw59cIjogXCJzc1wiLFxuXHRcIsWiXCI6IFwiVFwiLFxuXHRcIsWjXCI6IFwidFwiLFxuXHRcIsibXCI6IFwidFwiLFxuXHRcIsiaXCI6IFwiVFwiLFxuXHRcIsWkXCI6IFwiVFwiLFxuXHRcIsWlXCI6IFwidFwiLFxuXHRcIsWmXCI6IFwiVFwiLFxuXHRcIsWnXCI6IFwidFwiLFxuXHRcIlTMhlwiOiBcIlRcIixcblx0XCJ0zIZcIjogXCJ0XCIsXG5cdFwixahcIjogXCJVXCIsXG5cdFwixalcIjogXCJ1XCIsXG5cdFwixapcIjogXCJVXCIsXG5cdFwixatcIjogXCJ1XCIsXG5cdFwixaxcIjogXCJVXCIsXG5cdFwixa1cIjogXCJ1XCIsXG5cdFwixa5cIjogXCJVXCIsXG5cdFwixa9cIjogXCJ1XCIsXG5cdFwixbBcIjogXCJVXCIsXG5cdFwixbFcIjogXCJ1XCIsXG5cdFwixbJcIjogXCJVXCIsXG5cdFwixbNcIjogXCJ1XCIsXG5cdFwiyJZcIjogXCJVXCIsXG5cdFwiyJdcIjogXCJ1XCIsXG5cdFwiVsyGXCI6IFwiVlwiLFxuXHRcInbMhlwiOiBcInZcIixcblx0XCLFtFwiOiBcIldcIixcblx0XCLFtVwiOiBcIndcIixcblx0XCLhuoJcIjogXCJXXCIsXG5cdFwi4bqDXCI6IFwid1wiLFxuXHRcIljMhlwiOiBcIlhcIixcblx0XCJ4zIZcIjogXCJ4XCIsXG5cdFwixbZcIjogXCJZXCIsXG5cdFwixbdcIjogXCJ5XCIsXG5cdFwixbhcIjogXCJZXCIsXG5cdFwiWcyGXCI6IFwiWVwiLFxuXHRcInnMhlwiOiBcInlcIixcblx0XCLFuVwiOiBcIlpcIixcblx0XCLFulwiOiBcInpcIixcblx0XCLFu1wiOiBcIlpcIixcblx0XCLFvFwiOiBcInpcIixcblx0XCLFvVwiOiBcIlpcIixcblx0XCLFvlwiOiBcInpcIixcblx0XCLFv1wiOiBcInNcIixcblx0XCLGklwiOiBcImZcIixcblx0XCLGoFwiOiBcIk9cIixcblx0XCLGoVwiOiBcIm9cIixcblx0XCLGr1wiOiBcIlVcIixcblx0XCLGsFwiOiBcInVcIixcblx0XCLHjVwiOiBcIkFcIixcblx0XCLHjlwiOiBcImFcIixcblx0XCLHj1wiOiBcIklcIixcblx0XCLHkFwiOiBcImlcIixcblx0XCLHkVwiOiBcIk9cIixcblx0XCLHklwiOiBcIm9cIixcblx0XCLHk1wiOiBcIlVcIixcblx0XCLHlFwiOiBcInVcIixcblx0XCLHlVwiOiBcIlVcIixcblx0XCLHllwiOiBcInVcIixcblx0XCLHl1wiOiBcIlVcIixcblx0XCLHmFwiOiBcInVcIixcblx0XCLHmVwiOiBcIlVcIixcblx0XCLHmlwiOiBcInVcIixcblx0XCLHm1wiOiBcIlVcIixcblx0XCLHnFwiOiBcInVcIixcblx0XCLhu6hcIjogXCJVXCIsXG5cdFwi4bupXCI6IFwidVwiLFxuXHRcIuG5uFwiOiBcIlVcIixcblx0XCLhublcIjogXCJ1XCIsXG5cdFwix7pcIjogXCJBXCIsXG5cdFwix7tcIjogXCJhXCIsXG5cdFwix7xcIjogXCJBRVwiLFxuXHRcIse9XCI6IFwiYWVcIixcblx0XCLHvlwiOiBcIk9cIixcblx0XCLHv1wiOiBcIm9cIixcblx0XCLDnlwiOiBcIlRIXCIsXG5cdFwiw75cIjogXCJ0aFwiLFxuXHRcIuG5lFwiOiBcIlBcIixcblx0XCLhuZVcIjogXCJwXCIsXG5cdFwi4bmkXCI6IFwiU1wiLFxuXHRcIuG5pVwiOiBcInNcIixcblx0XCJYzIFcIjogXCJYXCIsXG5cdFwieMyBXCI6IFwieFwiLFxuXHRcItCDXCI6IFwi0JNcIixcblx0XCLRk1wiOiBcItCzXCIsXG5cdFwi0IxcIjogXCLQmlwiLFxuXHRcItGcXCI6IFwi0LpcIixcblx0XCJBzItcIjogXCJBXCIsXG5cdFwiYcyLXCI6IFwiYVwiLFxuXHRcIkXMi1wiOiBcIkVcIixcblx0XCJlzItcIjogXCJlXCIsXG5cdFwiScyLXCI6IFwiSVwiLFxuXHRcImnMi1wiOiBcImlcIixcblx0XCLHuFwiOiBcIk5cIixcblx0XCLHuVwiOiBcIm5cIixcblx0XCLhu5JcIjogXCJPXCIsXG5cdFwi4buTXCI6IFwib1wiLFxuXHRcIuG5kFwiOiBcIk9cIixcblx0XCLhuZFcIjogXCJvXCIsXG5cdFwi4buqXCI6IFwiVVwiLFxuXHRcIuG7q1wiOiBcInVcIixcblx0XCLhuoBcIjogXCJXXCIsXG5cdFwi4bqBXCI6IFwid1wiLFxuXHRcIuG7slwiOiBcIllcIixcblx0XCLhu7NcIjogXCJ5XCIsXG5cdFwiyIBcIjogXCJBXCIsXG5cdFwiyIFcIjogXCJhXCIsXG5cdFwiyIRcIjogXCJFXCIsXG5cdFwiyIVcIjogXCJlXCIsXG5cdFwiyIhcIjogXCJJXCIsXG5cdFwiyIlcIjogXCJpXCIsXG5cdFwiyIxcIjogXCJPXCIsXG5cdFwiyI1cIjogXCJvXCIsXG5cdFwiyJBcIjogXCJSXCIsXG5cdFwiyJFcIjogXCJyXCIsXG5cdFwiyJRcIjogXCJVXCIsXG5cdFwiyJVcIjogXCJ1XCIsXG5cdFwiQsyMXCI6IFwiQlwiLFxuXHRcImLMjFwiOiBcImJcIixcblx0XCLEjMyjXCI6IFwiQ1wiLFxuXHRcIsSNzKNcIjogXCJjXCIsXG5cdFwiw4rMjFwiOiBcIkVcIixcblx0XCLDqsyMXCI6IFwiZVwiLFxuXHRcIkbMjFwiOiBcIkZcIixcblx0XCJmzIxcIjogXCJmXCIsXG5cdFwix6ZcIjogXCJHXCIsXG5cdFwix6dcIjogXCJnXCIsXG5cdFwiyJ5cIjogXCJIXCIsXG5cdFwiyJ9cIjogXCJoXCIsXG5cdFwiSsyMXCI6IFwiSlwiLFxuXHRcIsewXCI6IFwialwiLFxuXHRcIseoXCI6IFwiS1wiLFxuXHRcIsepXCI6IFwia1wiLFxuXHRcIk3MjFwiOiBcIk1cIixcblx0XCJtzIxcIjogXCJtXCIsXG5cdFwiUMyMXCI6IFwiUFwiLFxuXHRcInDMjFwiOiBcInBcIixcblx0XCJRzIxcIjogXCJRXCIsXG5cdFwiccyMXCI6IFwicVwiLFxuXHRcIsWYzKlcIjogXCJSXCIsXG5cdFwixZnMqVwiOiBcInJcIixcblx0XCLhuaZcIjogXCJTXCIsXG5cdFwi4bmnXCI6IFwic1wiLFxuXHRcIlbMjFwiOiBcIlZcIixcblx0XCJ2zIxcIjogXCJ2XCIsXG5cdFwiV8yMXCI6IFwiV1wiLFxuXHRcInfMjFwiOiBcIndcIixcblx0XCJYzIxcIjogXCJYXCIsXG5cdFwieMyMXCI6IFwieFwiLFxuXHRcIlnMjFwiOiBcIllcIixcblx0XCJ5zIxcIjogXCJ5XCIsXG5cdFwiQcynXCI6IFwiQVwiLFxuXHRcImHMp1wiOiBcImFcIixcblx0XCJCzKdcIjogXCJCXCIsXG5cdFwiYsynXCI6IFwiYlwiLFxuXHRcIuG4kFwiOiBcIkRcIixcblx0XCLhuJFcIjogXCJkXCIsXG5cdFwiyKhcIjogXCJFXCIsXG5cdFwiyKlcIjogXCJlXCIsXG5cdFwixpDMp1wiOiBcIkVcIixcblx0XCLJm8ynXCI6IFwiZVwiLFxuXHRcIuG4qFwiOiBcIkhcIixcblx0XCLhuKlcIjogXCJoXCIsXG5cdFwiScynXCI6IFwiSVwiLFxuXHRcImnMp1wiOiBcImlcIixcblx0XCLGl8ynXCI6IFwiSVwiLFxuXHRcIsmozKdcIjogXCJpXCIsXG5cdFwiTcynXCI6IFwiTVwiLFxuXHRcIm3Mp1wiOiBcIm1cIixcblx0XCJPzKdcIjogXCJPXCIsXG5cdFwib8ynXCI6IFwib1wiLFxuXHRcIlHMp1wiOiBcIlFcIixcblx0XCJxzKdcIjogXCJxXCIsXG5cdFwiVcynXCI6IFwiVVwiLFxuXHRcInXMp1wiOiBcInVcIixcblx0XCJYzKdcIjogXCJYXCIsXG5cdFwieMynXCI6IFwieFwiLFxuXHRcIlrMp1wiOiBcIlpcIixcblx0XCJ6zKdcIjogXCJ6XCIsXG5cdFwi0LlcIjpcItC4XCIsXG5cdFwi0JlcIjpcItCYXCIsXG5cdFwi0ZFcIjpcItC1XCIsXG5cdFwi0IFcIjpcItCVXCIsXG59O1xuXG52YXIgY2hhcnMgPSBPYmplY3Qua2V5cyhjaGFyYWN0ZXJNYXApLmpvaW4oJ3wnKTtcbnZhciBhbGxBY2NlbnRzID0gbmV3IFJlZ0V4cChjaGFycywgJ2cnKTtcbnZhciBmaXJzdEFjY2VudCA9IG5ldyBSZWdFeHAoY2hhcnMsICcnKTtcblxuZnVuY3Rpb24gbWF0Y2hlcihtYXRjaCkge1xuXHRyZXR1cm4gY2hhcmFjdGVyTWFwW21hdGNoXTtcbn1cblxudmFyIHJlbW92ZUFjY2VudHMgPSBmdW5jdGlvbihzdHJpbmcpIHtcdFxuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoYWxsQWNjZW50cywgbWF0Y2hlcik7XG59O1xuXG52YXIgaGFzQWNjZW50cyA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHRyZXR1cm4gISFzdHJpbmcubWF0Y2goZmlyc3RBY2NlbnQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVBY2NlbnRzO1xubW9kdWxlLmV4cG9ydHMuaGFzID0gaGFzQWNjZW50cztcbm1vZHVsZS5leHBvcnRzLnJlbW92ZSA9IHJlbW92ZUFjY2VudHM7XG4iLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgY3JlYXRlU2VsZWN0b3IgZnJvbSAncmVtZW1vJztcbmltcG9ydCByZW1vdmVBY2NlbnRzIGZyb20gJ3JlbW92ZS1hY2NlbnRzJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaCc7XG4vKipcbiAqIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcbiAqL1xuXG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnQHdvcmRwcmVzcy9jb21wb3NlJztcbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9hcGkvcmVnaXN0cmF0aW9uJykuV1BCbG9ja1ZhcmlhdGlvbn0gV1BCbG9ja1ZhcmlhdGlvbiAqL1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vYXBpL3JlZ2lzdHJhdGlvbicpLldQQmxvY2tWYXJpYXRpb25TY29wZX0gV1BCbG9ja1ZhcmlhdGlvblNjb3BlICovXG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL3JlZHVjZXInKS5XUEJsb2NrQ2F0ZWdvcnl9IFdQQmxvY2tDYXRlZ29yeSAqL1xuXG4vKipcbiAqIEdpdmVuIGEgYmxvY2sgbmFtZSBvciBibG9jayB0eXBlIG9iamVjdCwgcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZ1xuICogbm9ybWFsaXplZCBibG9jayB0eXBlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgc3RhdGUgICAgICBCbG9ja3Mgc3RhdGUuXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gbmFtZU9yVHlwZSBCbG9jayBuYW1lIG9yIHR5cGUgb2JqZWN0XG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBCbG9jayB0eXBlIG9iamVjdC5cbiAqL1xuXG5jb25zdCBnZXROb3JtYWxpemVkQmxvY2tUeXBlID0gKHN0YXRlLCBuYW1lT3JUeXBlKSA9PiAnc3RyaW5nJyA9PT0gdHlwZW9mIG5hbWVPclR5cGUgPyBnZXRCbG9ja1R5cGUoc3RhdGUsIG5hbWVPclR5cGUpIDogbmFtZU9yVHlwZTtcbi8qKlxuICogUmV0dXJucyBhbGwgdGhlIHVucHJvY2Vzc2VkIGJsb2NrIHR5cGVzIGFzIHBhc3NlZCBkdXJpbmcgdGhlIHJlZ2lzdHJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgRGF0YSBzdGF0ZS5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gVW5wcm9jZXNzZWQgYmxvY2sgdHlwZXMuXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gX19leHBlcmltZW50YWxHZXRVbnByb2Nlc3NlZEJsb2NrVHlwZXMoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnVucHJvY2Vzc2VkQmxvY2tUeXBlcztcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgdGhlIGF2YWlsYWJsZSBibG9jayB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgRGF0YSBzdGF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGJsb2NrVHlwZXMgPSB1c2VTZWxlY3QoXG4gKiAgICAgICAgICggc2VsZWN0ICkgPT4gc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldEJsb2NrVHlwZXMoKSxcbiAqICAgICAgICAgW11cbiAqICAgICApO1xuICpcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICA8dWw+XG4gKiAgICAgICAgICAgICB7IGJsb2NrVHlwZXMubWFwKCAoIGJsb2NrICkgPT4gKFxuICogICAgICAgICAgICAgICAgIDxsaSBrZXk9eyBibG9jay5uYW1lIH0+eyBibG9jay50aXRsZSB9PC9saT5cbiAqICAgICAgICAgICAgICkgKSB9XG4gKiAgICAgICAgIDwvdWw+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gQmxvY2sgVHlwZXMuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGdldEJsb2NrVHlwZXMgPSBjcmVhdGVTZWxlY3RvcihzdGF0ZSA9PiBPYmplY3QudmFsdWVzKHN0YXRlLmJsb2NrVHlwZXMpLCBzdGF0ZSA9PiBbc3RhdGUuYmxvY2tUeXBlc10pO1xuLyoqXG4gKiBSZXR1cm5zIGEgYmxvY2sgdHlwZSBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBEYXRhIHN0YXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgIEJsb2NrIHR5cGUgbmFtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IHBhcmFncmFwaEJsb2NrID0gdXNlU2VsZWN0KCAoIHNlbGVjdCApID0+XG4gKiAgICAgICAgICggc2VsZWN0ICkgPT4gc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldEJsb2NrVHlwZSggJ2NvcmUvcGFyYWdyYXBoJyApLFxuICogICAgICAgICBbXVxuICogICAgICk7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDx1bD5cbiAqICAgICAgICAgICAgIHsgcGFyYWdyYXBoQmxvY2sgJiZcbiAqICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyggcGFyYWdyYXBoQmxvY2suc3VwcG9ydHMgKS5tYXAoXG4gKiAgICAgICAgICAgICAgICAgICAgICggYmxvY2tTdXBwb3J0c0VudHJ5ICkgPT4ge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgWyBwcm9wZXJ0eU5hbWUsIHZhbHVlIF0gPSBibG9ja1N1cHBvcnRzRW50cnk7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eyBwcm9wZXJ0eU5hbWUgfVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgID57IGAkeyBwcm9wZXJ0eU5hbWUgfSA6ICR7IHZhbHVlIH1gIH08L2xpPlxuICogICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAqICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICkgfVxuICogICAgICAgICA8L3VsPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7T2JqZWN0P30gQmxvY2sgVHlwZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tUeXBlKHN0YXRlLCBuYW1lKSB7XG4gIHJldHVybiBzdGF0ZS5ibG9ja1R5cGVzW25hbWVdO1xufVxuLyoqXG4gKiBSZXR1cm5zIGJsb2NrIHN0eWxlcyBieSBibG9jayBuYW1lLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBEYXRhIHN0YXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgIEJsb2NrIHR5cGUgbmFtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGJ1dHRvbkJsb2NrU3R5bGVzID0gdXNlU2VsZWN0KCAoIHNlbGVjdCApID0+XG4gKiAgICAgICAgIHNlbGVjdCggYmxvY2tzU3RvcmUgKS5nZXRCbG9ja1N0eWxlcyggJ2NvcmUvYnV0dG9uJyApLFxuICogICAgICAgICBbXVxuICogICAgICk7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDx1bD5cbiAqICAgICAgICAgICAgIHsgYnV0dG9uQmxvY2tTdHlsZXMgJiZcbiAqICAgICAgICAgICAgICAgICBidXR0b25CbG9ja1N0eWxlcy5tYXAoICggc3R5bGUgKSA9PiAoXG4gKiAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9eyBzdHlsZS5uYW1lIH0+eyBzdHlsZS5sYWJlbCB9PC9saT5cbiAqICAgICAgICAgICAgICAgICApICkgfVxuICogICAgICAgICA8L3VsPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7QXJyYXk/fSBCbG9jayBTdHlsZXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2NrU3R5bGVzKHN0YXRlLCBuYW1lKSB7XG4gIHJldHVybiBzdGF0ZS5ibG9ja1N0eWxlc1tuYW1lXTtcbn1cbi8qKlxuICogUmV0dXJucyBibG9jayB2YXJpYXRpb25zIGJ5IGJsb2NrIG5hbWUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgIHN0YXRlICAgICBEYXRhIHN0YXRlLlxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgIGJsb2NrTmFtZSBCbG9jayB0eXBlIG5hbWUuXG4gKiBAcGFyYW0ge1dQQmxvY2tWYXJpYXRpb25TY29wZX0gW3Njb3BlXSAgIEJsb2NrIHZhcmlhdGlvbiBzY29wZSBuYW1lLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgc3RvcmUgYXMgYmxvY2tzU3RvcmUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyB1c2VTZWxlY3QgfSBmcm9tICdAd29yZHByZXNzL2RhdGEnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgY29uc3Qgc29jaWFsTGlua1ZhcmlhdGlvbnMgPSB1c2VTZWxlY3QoICggc2VsZWN0ICkgPT5cbiAqICAgICAgICAgc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldEJsb2NrVmFyaWF0aW9ucyggJ2NvcmUvc29jaWFsLWxpbmsnICksXG4gKiAgICAgICAgIFtdXG4gKiAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPHVsPlxuICogICAgICAgICAgICAgeyBzb2NpYWxMaW5rVmFyaWF0aW9ucyAmJlxuICogICAgICAgICAgICAgICAgIHNvY2lhbExpbmtWYXJpYXRpb25zLm1hcCggKCB2YXJpYXRpb24gKSA9PiAoXG4gKiAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9eyB2YXJpYXRpb24ubmFtZSB9PnsgdmFyaWF0aW9uLnRpdGxlIH08L2xpPlxuICogICAgICAgICAgICAgKSApIH1cbiAqICAgICA8L3VsPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7KFdQQmxvY2tWYXJpYXRpb25bXXx2b2lkKX0gQmxvY2sgdmFyaWF0aW9ucy5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0QmxvY2tWYXJpYXRpb25zID0gY3JlYXRlU2VsZWN0b3IoKHN0YXRlLCBibG9ja05hbWUsIHNjb3BlKSA9PiB7XG4gIGNvbnN0IHZhcmlhdGlvbnMgPSBzdGF0ZS5ibG9ja1ZhcmlhdGlvbnNbYmxvY2tOYW1lXTtcblxuICBpZiAoIXZhcmlhdGlvbnMgfHwgIXNjb3BlKSB7XG4gICAgcmV0dXJuIHZhcmlhdGlvbnM7XG4gIH1cblxuICByZXR1cm4gdmFyaWF0aW9ucy5maWx0ZXIodmFyaWF0aW9uID0+IHtcbiAgICAvLyBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSByZWFzb25zLCB2YXJpYXRpb24ncyBzY29wZSBkZWZhdWx0cyB0b1xuICAgIC8vIGBibG9ja2AgYW5kIGBpbnNlcnRlcmAgd2hlbiBub3Qgc2V0LlxuICAgIHJldHVybiAodmFyaWF0aW9uLnNjb3BlIHx8IFsnYmxvY2snLCAnaW5zZXJ0ZXInXSkuaW5jbHVkZXMoc2NvcGUpO1xuICB9KTtcbn0sIChzdGF0ZSwgYmxvY2tOYW1lKSA9PiBbc3RhdGUuYmxvY2tWYXJpYXRpb25zW2Jsb2NrTmFtZV1dKTtcbi8qKlxuICogUmV0dXJucyB0aGUgYWN0aXZlIGJsb2NrIHZhcmlhdGlvbiBmb3IgYSBnaXZlbiBibG9jayBiYXNlZCBvbiBpdHMgYXR0cmlidXRlcy5cbiAqIFZhcmlhdGlvbnMgYXJlIGRldGVybWluZWQgYnkgdGhlaXIgYGlzQWN0aXZlYCBwcm9wZXJ0eS5cbiAqIFdoaWNoIGlzIGVpdGhlciBhbiBhcnJheSBvZiBibG9jayBhdHRyaWJ1dGUga2V5cyBvciBhIGZ1bmN0aW9uLlxuICpcbiAqIEluIGNhc2Ugb2YgYW4gYXJyYXkgb2YgYmxvY2sgYXR0cmlidXRlIGtleXMsIHRoZSBgYXR0cmlidXRlc2AgYXJlIGNvbXBhcmVkXG4gKiB0byB0aGUgdmFyaWF0aW9uJ3MgYXR0cmlidXRlcyB1c2luZyBzdHJpY3QgZXF1YWxpdHkgY2hlY2suXG4gKlxuICogSW4gY2FzZSBvZiBmdW5jdGlvbiB0eXBlLCB0aGUgZnVuY3Rpb24gc2hvdWxkIGFjY2VwdCBhIGJsb2NrJ3MgYXR0cmlidXRlc1xuICogYW5kIHRoZSB2YXJpYXRpb24ncyBhdHRyaWJ1dGVzIGFuZCBkZXRlcm1pbmVzIGlmIGEgdmFyaWF0aW9uIGlzIGFjdGl2ZS5cbiAqIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgYmxvY2sncyBhdHRyaWJ1dGVzIGFuZCB0aGUgdmFyaWF0aW9uJ3MgYXR0cmlidXRlcyBhbmQgZGV0ZXJtaW5lcyBpZiBhIHZhcmlhdGlvbiBpcyBhY3RpdmUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICAgIHN0YXRlICAgICAgRGF0YSBzdGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICBibG9ja05hbWUgIE5hbWUgb2YgYmxvY2sgKGV4YW1wbGU6IOKAnGNvcmUvY29sdW1uc+KAnSkuXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgICAgYXR0cmlidXRlcyBCbG9jayBhdHRyaWJ1dGVzIHVzZWQgdG8gZGV0ZXJtaW5lIGFjdGl2ZSB2YXJpYXRpb24uXG4gKiBAcGFyYW0ge1dQQmxvY2tWYXJpYXRpb25TY29wZX0gW3Njb3BlXSAgICBCbG9jayB2YXJpYXRpb24gc2NvcGUgbmFtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgc3RvcmUgYXMgYmxvY2tFZGl0b3JTdG9yZSB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2stZWRpdG9yJztcbiAqIGltcG9ydCB7IHVzZVNlbGVjdCB9IGZyb20gJ0B3b3JkcHJlc3MvZGF0YSc7XG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICAvLyBUaGlzIGV4YW1wbGUgYXNzdW1lcyB0aGF0IGEgY29yZS9lbWJlZCBibG9jayBpcyB0aGUgZmlyc3QgYmxvY2sgaW4gdGhlIEJsb2NrIEVkaXRvci5cbiAqICAgICBjb25zdCBhY3RpdmVCbG9ja1ZhcmlhdGlvbiA9IHVzZVNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XG4gKiAgICAgICAgIC8vIFJldHJpZXZlIHRoZSBsaXN0IG9mIGJsb2Nrcy5cbiAqICAgICAgICAgY29uc3QgWyBmaXJzdEJsb2NrIF0gPSBzZWxlY3QoIGJsb2NrRWRpdG9yU3RvcmUgKS5nZXRCbG9ja3MoKVxuICpcbiAqICAgICAgICAgLy8gUmV0dXJuIHRoZSBhY3RpdmUgYmxvY2sgdmFyaWF0aW9uIGZvciB0aGUgZmlyc3QgYmxvY2suXG4gKiAgICAgICAgIHJldHVybiBzZWxlY3QoIGJsb2Nrc1N0b3JlICkuZ2V0QWN0aXZlQmxvY2tWYXJpYXRpb24oXG4gKiAgICAgICAgICAgICBmaXJzdEJsb2NrLm5hbWUsXG4gKiAgICAgICAgICAgICBmaXJzdEJsb2NrLmF0dHJpYnV0ZXNcbiAqICAgICAgICAgKTtcbiAqICAgICB9LCBbXSApO1xuICpcbiAqICAgICByZXR1cm4gYWN0aXZlQmxvY2tWYXJpYXRpb24gJiYgYWN0aXZlQmxvY2tWYXJpYXRpb24ubmFtZSA9PT0gJ3Nwb3RpZnknID8gKFxuICogICAgICAgICA8cD57IF9fKCAnU3BvdGlmeSB2YXJpYXRpb24nICkgfTwvcD5cbiAqICAgICAgICAgKSA6IChcbiAqICAgICAgICAgPHA+eyBfXyggJ090aGVyIHZhcmlhdGlvbicgKSB9PC9wPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7KFdQQmxvY2tWYXJpYXRpb258dW5kZWZpbmVkKX0gQWN0aXZlIGJsb2NrIHZhcmlhdGlvbi5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlQmxvY2tWYXJpYXRpb24oc3RhdGUsIGJsb2NrTmFtZSwgYXR0cmlidXRlcywgc2NvcGUpIHtcbiAgY29uc3QgdmFyaWF0aW9ucyA9IGdldEJsb2NrVmFyaWF0aW9ucyhzdGF0ZSwgYmxvY2tOYW1lLCBzY29wZSk7XG4gIGNvbnN0IG1hdGNoID0gdmFyaWF0aW9ucyA9PT0gbnVsbCB8fCB2YXJpYXRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YXJpYXRpb25zLmZpbmQodmFyaWF0aW9uID0+IHtcbiAgICB2YXIgX3ZhcmlhdGlvbiRpc0FjdGl2ZTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhcmlhdGlvbi5pc0FjdGl2ZSkpIHtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZSA9IGdldEJsb2NrVHlwZShzdGF0ZSwgYmxvY2tOYW1lKTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUtleXMgPSBPYmplY3Qua2V5cygoYmxvY2tUeXBlID09PSBudWxsIHx8IGJsb2NrVHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmxvY2tUeXBlLmF0dHJpYnV0ZXMpIHx8IHt9KTtcbiAgICAgIGNvbnN0IGRlZmluZWRBdHRyaWJ1dGVzID0gdmFyaWF0aW9uLmlzQWN0aXZlLmZpbHRlcihhdHRyaWJ1dGUgPT4gYXR0cmlidXRlS2V5cy5pbmNsdWRlcyhhdHRyaWJ1dGUpKTtcblxuICAgICAgaWYgKGRlZmluZWRBdHRyaWJ1dGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZpbmVkQXR0cmlidXRlcy5ldmVyeShhdHRyaWJ1dGUgPT4gYXR0cmlidXRlc1thdHRyaWJ1dGVdID09PSB2YXJpYXRpb24uYXR0cmlidXRlc1thdHRyaWJ1dGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKF92YXJpYXRpb24kaXNBY3RpdmUgPSB2YXJpYXRpb24uaXNBY3RpdmUpID09PSBudWxsIHx8IF92YXJpYXRpb24kaXNBY3RpdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YXJpYXRpb24kaXNBY3RpdmUuY2FsbCh2YXJpYXRpb24sIGF0dHJpYnV0ZXMsIHZhcmlhdGlvbi5hdHRyaWJ1dGVzKTtcbiAgfSk7XG4gIHJldHVybiBtYXRjaDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBibG9jayB2YXJpYXRpb24gZm9yIHRoZSBnaXZlbiBibG9jayB0eXBlLlxuICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgdmFyaWF0aW9ucyBhbm5vdGF0ZWQgYXMgdGhlIGRlZmF1bHQgb25lLFxuICogdGhlIGxhc3QgYWRkZWQgaXRlbSBpcyBwaWNrZWQuIFRoaXMgc2ltcGxpZmllcyByZWdpc3RlcmluZyBvdmVycmlkZXMuXG4gKiBXaGVuIHRoZXJlIGlzIG5vIGRlZmF1bHQgdmFyaWF0aW9uIHNldCwgaXQgcmV0dXJucyB0aGUgZmlyc3QgaXRlbS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICAgICAgc3RhdGUgICAgIERhdGEgc3RhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgYmxvY2tOYW1lIEJsb2NrIHR5cGUgbmFtZS5cbiAqIEBwYXJhbSB7V1BCbG9ja1ZhcmlhdGlvblNjb3BlfSBbc2NvcGVdICAgQmxvY2sgdmFyaWF0aW9uIHNjb3BlIG5hbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG4gKiBpbXBvcnQgeyBzdG9yZSBhcyBibG9ja3NTdG9yZSB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2tzJztcbiAqIGltcG9ydCB7IHVzZVNlbGVjdCB9IGZyb20gJ0B3b3JkcHJlc3MvZGF0YSc7XG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICBjb25zdCBkZWZhdWx0RW1iZWRCbG9ja1ZhcmlhdGlvbiA9IHVzZVNlbGVjdCggKCBzZWxlY3QgKSA9PlxuICogICAgICAgICBzZWxlY3QoIGJsb2Nrc1N0b3JlICkuZ2V0RGVmYXVsdEJsb2NrVmFyaWF0aW9uKCAnY29yZS9lbWJlZCcgKSxcbiAqICAgICAgICAgW11cbiAqICAgICApO1xuICpcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICBkZWZhdWx0RW1iZWRCbG9ja1ZhcmlhdGlvbiAmJiAoXG4gKiAgICAgICAgICAgICA8cD5cbiAqICAgICAgICAgICAgICAgICB7IHNwcmludGYoXG4gKiAgICAgICAgICAgICAgICAgICAgIF9fKCAnY29yZS9lbWJlZCBkZWZhdWx0IHZhcmlhdGlvbjogJXMnICksXG4gKiAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRFbWJlZEJsb2NrVmFyaWF0aW9uLnRpdGxlXG4gKiAgICAgICAgICAgICAgICAgKSB9XG4gKiAgICAgICAgICAgICA8L3A+XG4gKiAgICAgICAgIClcbiAqICAgICApO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEByZXR1cm4gez9XUEJsb2NrVmFyaWF0aW9ufSBUaGUgZGVmYXVsdCBibG9jayB2YXJpYXRpb24uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRCbG9ja1ZhcmlhdGlvbihzdGF0ZSwgYmxvY2tOYW1lLCBzY29wZSkge1xuICBjb25zdCB2YXJpYXRpb25zID0gZ2V0QmxvY2tWYXJpYXRpb25zKHN0YXRlLCBibG9ja05hbWUsIHNjb3BlKTtcbiAgY29uc3QgZGVmYXVsdFZhcmlhdGlvbiA9IFsuLi52YXJpYXRpb25zXS5yZXZlcnNlKCkuZmluZChfcmVmID0+IHtcbiAgICBsZXQge1xuICAgICAgaXNEZWZhdWx0XG4gICAgfSA9IF9yZWY7XG4gICAgcmV0dXJuICEhaXNEZWZhdWx0O1xuICB9KTtcbiAgcmV0dXJuIGRlZmF1bHRWYXJpYXRpb24gfHwgdmFyaWF0aW9uc1swXTtcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgdGhlIGF2YWlsYWJsZSBibG9jayBjYXRlZ29yaWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBEYXRhIHN0YXRlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgc3RvcmUgYXMgYmxvY2tzU3RvcmUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyB1c2VTZWxlY3QsIH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGJsb2NrQ2F0ZWdvcmllcyA9IHVzZVNlbGVjdCggKCBzZWxlY3QgKSA9PlxuICogICAgICAgICBzZWxlY3QoIGJsb2Nrc1N0b3JlICkuZ2V0Q2F0ZWdvcmllcygpLFxuICogICAgICAgICBbXVxuICogICAgICk7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDx1bD5cbiAqICAgICAgICAgICAgIHsgYmxvY2tDYXRlZ29yaWVzLm1hcCggKCBjYXRlZ29yeSApID0+IChcbiAqICAgICAgICAgICAgICAgICA8bGkga2V5PXsgY2F0ZWdvcnkuc2x1ZyB9PnsgY2F0ZWdvcnkudGl0bGUgfTwvbGk+XG4gKiAgICAgICAgICAgICApICkgfVxuICogICAgICAgICA8L3VsPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7V1BCbG9ja0NhdGVnb3J5W119IENhdGVnb3JpZXMgbGlzdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcyhzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuY2F0ZWdvcmllcztcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgdGhlIGF2YWlsYWJsZSBjb2xsZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgRGF0YSBzdGF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGJsb2NrQ29sbGVjdGlvbnMgPSB1c2VTZWxlY3QoICggc2VsZWN0ICkgPT5cbiAqICAgICAgICAgc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldENvbGxlY3Rpb25zKCksXG4gKiAgICAgICAgIFtdXG4gKiAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPHVsPlxuICogICAgICAgICAgICAgeyBPYmplY3QudmFsdWVzKCBibG9ja0NvbGxlY3Rpb25zICkubGVuZ3RoID4gMCAmJlxuICogICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoIGJsb2NrQ29sbGVjdGlvbnMgKS5tYXAoICggY29sbGVjdGlvbiApID0+IChcbiAqICAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17IGNvbGxlY3Rpb24udGl0bGUgfT57IGNvbGxlY3Rpb24udGl0bGUgfTwvbGk+XG4gKiAgICAgICAgICAgICApICkgfVxuICogICAgICAgICA8L3VsPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBDb2xsZWN0aW9ucyBsaXN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xsZWN0aW9ucyhzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuY29sbGVjdGlvbnM7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGRlZmF1bHQgYmxvY2sgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgRGF0YSBzdGF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IF9fLCBzcHJpbnRmIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGRlZmF1bHRCbG9ja05hbWUgPSB1c2VTZWxlY3QoICggc2VsZWN0ICkgPT5cbiAqICAgICAgICAgc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldERlZmF1bHRCbG9ja05hbWUoKSxcbiAqICAgICAgICAgW11cbiAqICAgICApO1xuICpcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICBkZWZhdWx0QmxvY2tOYW1lICYmIChcbiAqICAgICAgICAgICAgIDxwPlxuICogICAgICAgICAgICAgICAgIHsgc3ByaW50ZiggX18oICdEZWZhdWx0IGJsb2NrIG5hbWU6ICVzJyApLCBkZWZhdWx0QmxvY2tOYW1lICkgfVxuICogICAgICAgICAgICAgPC9wPlxuICogICAgICAgICApXG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmc/fSBEZWZhdWx0IGJsb2NrIG5hbWUuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRCbG9ja05hbWUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmRlZmF1bHRCbG9ja05hbWU7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGJsb2NrIGZvciBoYW5kbGluZyBub24tYmxvY2sgY29udGVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgRGF0YSBzdGF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IF9fLCBzcHJpbnRmIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGZyZWVmb3JtRmFsbGJhY2tCbG9ja05hbWUgPSB1c2VTZWxlY3QoICggc2VsZWN0ICkgPT5cbiAqICAgICAgICAgc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldEZyZWVmb3JtRmFsbGJhY2tCbG9ja05hbWUoKSxcbiAqICAgICAgICAgW11cbiAqICAgICApO1xuICpcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICBmcmVlZm9ybUZhbGxiYWNrQmxvY2tOYW1lICYmIChcbiAqICAgICAgICAgICAgIDxwPlxuICogICAgICAgICAgICAgICAgIHsgc3ByaW50ZiggX18oXG4gKiAgICAgICAgICAgICAgICAgICAgICdGcmVlZm9ybSBmYWxsYmFjayBibG9jayBuYW1lOiAlcycgKSxcbiAqICAgICAgICAgICAgICAgICAgICAgZnJlZWZvcm1GYWxsYmFja0Jsb2NrTmFtZVxuICogICAgICAgICAgICAgICAgICkgfVxuICogICAgICAgICAgICAgPC9wPlxuICogICAgICAgICApXG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmc/fSBOYW1lIG9mIHRoZSBibG9jayBmb3IgaGFuZGxpbmcgbm9uLWJsb2NrIGNvbnRlbnQuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZyZWVmb3JtRmFsbGJhY2tCbG9ja05hbWUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmZyZWVmb3JtRmFsbGJhY2tCbG9ja05hbWU7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGJsb2NrIGZvciBoYW5kbGluZyB1bnJlZ2lzdGVyZWQgYmxvY2tzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBEYXRhIHN0YXRlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgX18sIHNwcmludGYgfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuICogaW1wb3J0IHsgc3RvcmUgYXMgYmxvY2tzU3RvcmUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyB1c2VTZWxlY3QgfSBmcm9tICdAd29yZHByZXNzL2RhdGEnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgY29uc3QgdW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUgPSB1c2VTZWxlY3QoICggc2VsZWN0ICkgPT5cbiAqICAgICAgICAgc2VsZWN0KCBibG9ja3NTdG9yZSApLmdldFVucmVnaXN0ZXJlZEZhbGxiYWNrQmxvY2tOYW1lKCksXG4gKiAgICAgICAgIFtdXG4gKiAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgdW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUgJiYgKFxuICogICAgICAgICAgICAgPHA+XG4gKiAgICAgICAgICAgICAgICAgeyBzcHJpbnRmKCBfXyhcbiAqICAgICAgICAgICAgICAgICAgICAgJ1VucmVnaXN0ZXJlZCBmYWxsYmFjayBibG9jayBuYW1lOiAlcycgKSxcbiAqICAgICAgICAgICAgICAgICAgICAgdW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWVcbiAqICAgICAgICAgICAgICAgICApIH1cbiAqICAgICAgICAgICAgIDwvcD5cbiAqICAgICAgICAgKVxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7c3RyaW5nP30gTmFtZSBvZiB0aGUgYmxvY2sgZm9yIGhhbmRsaW5nIHVucmVnaXN0ZXJlZCBibG9ja3MuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVucmVnaXN0ZXJlZEZhbGxiYWNrQmxvY2tOYW1lKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS51bnJlZ2lzdGVyZWRGYWxsYmFja0Jsb2NrTmFtZTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgYmxvY2sgZm9yIGhhbmRsaW5nIHRoZSBncm91cGluZyBvZiBibG9ja3MuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIERhdGEgc3RhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG4gKiBpbXBvcnQgeyBzdG9yZSBhcyBibG9ja3NTdG9yZSB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2tzJztcbiAqIGltcG9ydCB7IHVzZVNlbGVjdCB9IGZyb20gJ0B3b3JkcHJlc3MvZGF0YSc7XG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICBjb25zdCBncm91cGluZ0Jsb2NrTmFtZSA9IHVzZVNlbGVjdCggKCBzZWxlY3QgKSA9PlxuICogICAgICAgICBzZWxlY3QoIGJsb2Nrc1N0b3JlICkuZ2V0R3JvdXBpbmdCbG9ja05hbWUoKSxcbiAqICAgICAgICAgW11cbiAqICAgICApO1xuICpcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICBncm91cGluZ0Jsb2NrTmFtZSAmJiAoXG4gKiAgICAgICAgICAgICA8cD5cbiAqICAgICAgICAgICAgICAgICB7IHNwcmludGYoXG4gKiAgICAgICAgICAgICAgICAgICAgIF9fKCAnRGVmYXVsdCBncm91cGluZyBibG9jayBuYW1lOiAlcycgKSxcbiAqICAgICAgICAgICAgICAgICAgICAgZ3JvdXBpbmdCbG9ja05hbWVcbiAqICAgICAgICAgICAgICAgICApIH1cbiAqICAgICAgICAgICAgIDwvcD5cbiAqICAgICAgICAgKVxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7c3RyaW5nP30gTmFtZSBvZiB0aGUgYmxvY2sgZm9yIGhhbmRsaW5nIHRoZSBncm91cGluZyBvZiBibG9ja3MuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyb3VwaW5nQmxvY2tOYW1lKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5ncm91cGluZ0Jsb2NrTmFtZTtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSBjaGlsZCBibG9ja3Mgb2YgYSBnaXZlbiBibG9jay5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgICAgIERhdGEgc3RhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmxvY2tOYW1lIEJsb2NrIHR5cGUgbmFtZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IGNoaWxkQmxvY2tOYW1lcyA9IHVzZVNlbGVjdCggKCBzZWxlY3QgKSA9PlxuICogICAgICAgICBzZWxlY3QoIGJsb2Nrc1N0b3JlICkuZ2V0Q2hpbGRCbG9ja05hbWVzKCAnY29yZS9uYXZpZ2F0aW9uJyApLFxuICogICAgICAgICBbXVxuICogICAgICk7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDx1bD5cbiAqICAgICAgICAgICAgIHsgY2hpbGRCbG9ja05hbWVzICYmXG4gKiAgICAgICAgICAgICAgICAgY2hpbGRCbG9ja05hbWVzLm1hcCggKCBjaGlsZCApID0+IChcbiAqICAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17IGNoaWxkIH0+eyBjaGlsZCB9PC9saT5cbiAqICAgICAgICAgICAgICkgKSB9XG4gKiAgICAgICAgIDwvdWw+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgY2hpbGQgYmxvY2sgbmFtZXMuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGdldENoaWxkQmxvY2tOYW1lcyA9IGNyZWF0ZVNlbGVjdG9yKChzdGF0ZSwgYmxvY2tOYW1lKSA9PiB7XG4gIHJldHVybiBnZXRCbG9ja1R5cGVzKHN0YXRlKS5maWx0ZXIoYmxvY2tUeXBlID0+IHtcbiAgICB2YXIgX2Jsb2NrVHlwZSRwYXJlbnQ7XG5cbiAgICByZXR1cm4gKF9ibG9ja1R5cGUkcGFyZW50ID0gYmxvY2tUeXBlLnBhcmVudCkgPT09IG51bGwgfHwgX2Jsb2NrVHlwZSRwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ibG9ja1R5cGUkcGFyZW50LmluY2x1ZGVzKGJsb2NrTmFtZSk7XG4gIH0pLm1hcChfcmVmMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIG5hbWVcbiAgICB9ID0gX3JlZjI7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH0pO1xufSwgc3RhdGUgPT4gW3N0YXRlLmJsb2NrVHlwZXNdKTtcbi8qKlxuICogUmV0dXJucyB0aGUgYmxvY2sgc3VwcG9ydCB2YWx1ZSBmb3IgYSBmZWF0dXJlLCBpZiBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICBzdGF0ZSAgICAgICAgICAgRGF0YSBzdGF0ZS5cbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBuYW1lT3JUeXBlICAgICAgQmxvY2sgbmFtZSBvciB0eXBlIG9iamVjdFxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9ICAgIGZlYXR1cmUgICAgICAgICBGZWF0dXJlIHRvIHJldHJpZXZlXG4gKiBAcGFyYW0geyp9ICAgICAgICAgICAgICAgZGVmYXVsdFN1cHBvcnRzIERlZmF1bHQgdmFsdWUgdG8gcmV0dXJuIGlmIG5vdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBsaWNpdGx5IGRlZmluZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IF9fLCBzcHJpbnRmIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbiAqIGltcG9ydCB7IHN0b3JlIGFzIGJsb2Nrc1N0b3JlIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9ja3MnO1xuICogaW1wb3J0IHsgdXNlU2VsZWN0IH0gZnJvbSAnQHdvcmRwcmVzcy9kYXRhJztcbiAqXG4gKiBjb25zdCBFeGFtcGxlQ29tcG9uZW50ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IHBhcmFncmFwaEJsb2NrU3VwcG9ydFZhbHVlID0gdXNlU2VsZWN0KCAoIHNlbGVjdCApID0+XG4gKiAgICAgICAgIHNlbGVjdCggYmxvY2tzU3RvcmUgKS5nZXRCbG9ja1N1cHBvcnQoICdjb3JlL3BhcmFncmFwaCcsICdhbmNob3InICksXG4gKiAgICAgICAgIFtdXG4gKiAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgICAgICB7IHNwcmludGYoXG4gKiAgICAgICAgICAgICAgICAgX18oICdjb3JlL3BhcmFncmFwaCBzdXBwb3J0cy5hbmNob3IgdmFsdWU6ICVzJyApLFxuICogICAgICAgICAgICAgICAgIHBhcmFncmFwaEJsb2NrU3VwcG9ydFZhbHVlXG4gKiAgICAgICAgICAgICApIH1cbiAqICAgICAgICAgPC9wPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7Pyp9IEJsb2NrIHN1cHBvcnQgdmFsdWVcbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0QmxvY2tTdXBwb3J0ID0gKHN0YXRlLCBuYW1lT3JUeXBlLCBmZWF0dXJlLCBkZWZhdWx0U3VwcG9ydHMpID0+IHtcbiAgY29uc3QgYmxvY2tUeXBlID0gZ2V0Tm9ybWFsaXplZEJsb2NrVHlwZShzdGF0ZSwgbmFtZU9yVHlwZSk7XG5cbiAgaWYgKCEoYmxvY2tUeXBlICE9PSBudWxsICYmIGJsb2NrVHlwZSAhPT0gdm9pZCAwICYmIGJsb2NrVHlwZS5zdXBwb3J0cykpIHtcbiAgICByZXR1cm4gZGVmYXVsdFN1cHBvcnRzO1xuICB9XG5cbiAgcmV0dXJuIGdldChibG9ja1R5cGUuc3VwcG9ydHMsIGZlYXR1cmUsIGRlZmF1bHRTdXBwb3J0cyk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJsb2NrIGRlZmluZXMgc3VwcG9ydCBmb3IgYSBmZWF0dXJlLCBvciBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgIHN0YXRlICAgICAgICAgICBEYXRhIHN0YXRlLlxuICogQHBhcmFtIHsoc3RyaW5nfE9iamVjdCl9IG5hbWVPclR5cGUgICAgICBCbG9jayBuYW1lIG9yIHR5cGUgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgIGZlYXR1cmUgICAgICAgICBGZWF0dXJlIHRvIHRlc3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICAgICAgICAgZGVmYXVsdFN1cHBvcnRzIFdoZXRoZXIgZmVhdHVyZSBpcyBzdXBwb3J0ZWQgYnlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpZiBub3QgZXhwbGljaXRseSBkZWZpbmVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgX18sIHNwcmludGYgfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuICogaW1wb3J0IHsgc3RvcmUgYXMgYmxvY2tzU3RvcmUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyB1c2VTZWxlY3QgfSBmcm9tICdAd29yZHByZXNzL2RhdGEnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgY29uc3QgcGFyYWdyYXBoQmxvY2tTdXBwb3J0Q2xhc3NOYW1lID0gdXNlU2VsZWN0KCAoIHNlbGVjdCApID0+XG4gKiAgICAgICAgIHNlbGVjdCggYmxvY2tzU3RvcmUgKS5oYXNCbG9ja1N1cHBvcnQoICdjb3JlL3BhcmFncmFwaCcsICdjbGFzc05hbWUnICksXG4gKiAgICAgICAgIFtdXG4gKiAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgICAgICB7IHNwcmludGYoXG4gKiAgICAgICAgICAgICAgICAgX18oICdjb3JlL3BhcmFncmFwaCBzdXBwb3J0cyBjdXN0b20gY2xhc3MgbmFtZT86ICVzJyApLFxuICogICAgICAgICAgICAgICAgIHBhcmFncmFwaEJsb2NrU3VwcG9ydENsYXNzTmFtZVxuICogICAgICAgICAgICAgKSB9XG4gKiAgICAgICAgIC9wPlxuICogICAgICk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBibG9jayBzdXBwb3J0cyBmZWF0dXJlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNCbG9ja1N1cHBvcnQoc3RhdGUsIG5hbWVPclR5cGUsIGZlYXR1cmUsIGRlZmF1bHRTdXBwb3J0cykge1xuICByZXR1cm4gISFnZXRCbG9ja1N1cHBvcnQoc3RhdGUsIG5hbWVPclR5cGUsIGZlYXR1cmUsIGRlZmF1bHRTdXBwb3J0cyk7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYmxvY2sgdHlwZSBieSB0aGUgZ2l2ZW4gbmFtZSBvciBvYmplY3QgdmFsdWUgbWF0Y2hlcyBhXG4gKiBzZWFyY2ggdGVybSwgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICBzdGF0ZSAgICAgIEJsb2NrcyBzdGF0ZS5cbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBuYW1lT3JUeXBlIEJsb2NrIG5hbWUgb3IgdHlwZSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgc2VhcmNoVGVybSBTZWFyY2ggdGVybSBieSB3aGljaCB0byBmaWx0ZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG4gKiBpbXBvcnQgeyBzdG9yZSBhcyBibG9ja3NTdG9yZSB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2tzJztcbiAqIGltcG9ydCB7IHVzZVNlbGVjdCB9IGZyb20gJ0B3b3JkcHJlc3MvZGF0YSc7XG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICBjb25zdCB0ZXJtRm91bmQgPSB1c2VTZWxlY3QoXG4gKiAgICAgICAgICggc2VsZWN0ICkgPT5cbiAqICAgICAgICAgICAgIHNlbGVjdCggYmxvY2tzU3RvcmUgKS5pc01hdGNoaW5nU2VhcmNoVGVybShcbiAqICAgICAgICAgICAgICAgICAnY29yZS9uYXZpZ2F0aW9uJyxcbiAqICAgICAgICAgICAgICAgICAndGhlbWUnXG4gKiAgICAgICAgICAgICApLFxuICogICAgICAgICAgICAgW11cbiAqICAgICAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgICAgICB7IHNwcmludGYoXG4gKiAgICAgICAgICAgICAgICAgX18oXG4gKiAgICAgICAgICAgICAgICAgICAgICdTZWFyY2ggdGVybSB3YXMgZm91bmQgaW4gdGhlIHRpdGxlLCBrZXl3b3JkcywgY2F0ZWdvcnkgb3IgZGVzY3JpcHRpb24gaW4gYmxvY2suanNvbjogJXMnXG4gKiAgICAgICAgICAgICAgICAgKSxcbiAqICAgICAgICAgICAgICAgICB0ZXJtRm91bmRcbiAqICAgICAgICAgICAgICkgfVxuICogICAgICAgICA8L3A+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3RbXX0gV2hldGhlciBibG9jayB0eXBlIG1hdGNoZXMgc2VhcmNoIHRlcm0uXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF0Y2hpbmdTZWFyY2hUZXJtKHN0YXRlLCBuYW1lT3JUeXBlLCBzZWFyY2hUZXJtKSB7XG4gIHZhciBfYmxvY2tUeXBlJGtleXdvcmRzO1xuXG4gIGNvbnN0IGJsb2NrVHlwZSA9IGdldE5vcm1hbGl6ZWRCbG9ja1R5cGUoc3RhdGUsIG5hbWVPclR5cGUpO1xuICBjb25zdCBnZXROb3JtYWxpemVkU2VhcmNoVGVybSA9IHBpcGUoWy8vIERpc3JlZ2FyZCBkaWFjcml0aWNzLlxuICAvLyAgSW5wdXQ6IFwibcOpZGlhXCJcbiAgdGVybSA9PiByZW1vdmVBY2NlbnRzKHRlcm0gIT09IG51bGwgJiYgdGVybSAhPT0gdm9pZCAwID8gdGVybSA6ICcnKSwgLy8gTG93ZXJjYXNlLlxuICAvLyAgSW5wdXQ6IFwiTUVESUFcIlxuICB0ZXJtID0+IHRlcm0udG9Mb3dlckNhc2UoKSwgLy8gU3RyaXAgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAgLy8gIElucHV0OiBcIiBtZWRpYSBcIlxuICB0ZXJtID0+IHRlcm0udHJpbSgpXSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTZWFyY2hUZXJtID0gZ2V0Tm9ybWFsaXplZFNlYXJjaFRlcm0oc2VhcmNoVGVybSk7XG4gIGNvbnN0IGlzU2VhcmNoTWF0Y2ggPSBwaXBlKFtnZXROb3JtYWxpemVkU2VhcmNoVGVybSwgbm9ybWFsaXplZENhbmRpZGF0ZSA9PiBub3JtYWxpemVkQ2FuZGlkYXRlLmluY2x1ZGVzKG5vcm1hbGl6ZWRTZWFyY2hUZXJtKV0pO1xuICByZXR1cm4gaXNTZWFyY2hNYXRjaChibG9ja1R5cGUudGl0bGUpIHx8ICgoX2Jsb2NrVHlwZSRrZXl3b3JkcyA9IGJsb2NrVHlwZS5rZXl3b3JkcykgPT09IG51bGwgfHwgX2Jsb2NrVHlwZSRrZXl3b3JkcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Jsb2NrVHlwZSRrZXl3b3Jkcy5zb21lKGlzU2VhcmNoTWF0Y2gpKSB8fCBpc1NlYXJjaE1hdGNoKGJsb2NrVHlwZS5jYXRlZ29yeSkgfHwgdHlwZW9mIGJsb2NrVHlwZS5kZXNjcmlwdGlvbiA9PT0gJ3N0cmluZycgJiYgaXNTZWFyY2hNYXRjaChibG9ja1R5cGUuZGVzY3JpcHRpb24pO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGEgYmxvY2sgaGFzIGNoaWxkIGJsb2NrcyBvciBub3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlICAgICBEYXRhIHN0YXRlLlxuICogQHBhcmFtIHtzdHJpbmd9IGJsb2NrTmFtZSBCbG9jayB0eXBlIG5hbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG4gKiBpbXBvcnQgeyBzdG9yZSBhcyBibG9ja3NTdG9yZSB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2tzJztcbiAqIGltcG9ydCB7IHVzZVNlbGVjdCB9IGZyb20gJ0B3b3JkcHJlc3MvZGF0YSc7XG4gKlxuICogY29uc3QgRXhhbXBsZUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgICBjb25zdCBuYXZpZ2F0aW9uQmxvY2tIYXNDaGlsZEJsb2NrcyA9IHVzZVNlbGVjdCggKCBzZWxlY3QgKSA9PlxuICogICAgICAgICBzZWxlY3QoIGJsb2Nrc1N0b3JlICkuaGFzQ2hpbGRCbG9ja3MoICdjb3JlL25hdmlnYXRpb24nICksXG4gKiAgICAgICAgIFtdXG4gKiAgICAgKTtcbiAqXG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPHA+XG4gKiAgICAgICAgICAgICB7IHNwcmludGYoXG4gKiAgICAgICAgICAgICAgICAgX18oICdjb3JlL25hdmlnYXRpb24gaGFzIGNoaWxkIGJsb2NrczogJXMnICksXG4gKiAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbkJsb2NrSGFzQ2hpbGRCbG9ja3NcbiAqICAgICAgICAgICAgICkgfVxuICogICAgICAgICA8L3A+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGEgYmxvY2sgY29udGFpbnMgY2hpbGQgYmxvY2tzIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGhhc0NoaWxkQmxvY2tzID0gKHN0YXRlLCBibG9ja05hbWUpID0+IHtcbiAgcmV0dXJuIGdldENoaWxkQmxvY2tOYW1lcyhzdGF0ZSwgYmxvY2tOYW1lKS5sZW5ndGggPiAwO1xufTtcbi8qKlxuICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiBhIGJsb2NrIGhhcyBhdCBsZWFzdCBvbmUgY2hpbGQgYmxvY2sgd2l0aCBpbnNlcnRlciBzdXBwb3J0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSAgICAgRGF0YSBzdGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBibG9ja05hbWUgQmxvY2sgdHlwZSBuYW1lLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgX18sIHNwcmludGYgfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuICogaW1wb3J0IHsgc3RvcmUgYXMgYmxvY2tzU3RvcmUgfSBmcm9tICdAd29yZHByZXNzL2Jsb2Nrcyc7XG4gKiBpbXBvcnQgeyB1c2VTZWxlY3QgfSBmcm9tICdAd29yZHByZXNzL2RhdGEnO1xuICpcbiAqIGNvbnN0IEV4YW1wbGVDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgICAgY29uc3QgbmF2aWdhdGlvbkJsb2NrSGFzQ2hpbGRCbG9ja3NXaXRoSW5zZXJ0ZXJTdXBwb3J0ID0gdXNlU2VsZWN0KCAoIHNlbGVjdCApID0+XG4gKiAgICAgICAgIHNlbGVjdCggYmxvY2tzU3RvcmUgKS5oYXNDaGlsZEJsb2Nrc1dpdGhJbnNlcnRlclN1cHBvcnQoXG4gKiAgICAgICAgICAgICAnY29yZS9uYXZpZ2F0aW9uJ1xuICogICAgICAgICApLFxuICogICAgICAgICBbXVxuICogICAgICk7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDxwPlxuICogICAgICAgICAgICAgeyBzcHJpbnRmKFxuICogICAgICAgICAgICAgICAgIF9fKCAnY29yZS9uYXZpZ2F0aW9uIGhhcyBjaGlsZCBibG9ja3Mgd2l0aCBpbnNlcnRlciBzdXBwb3J0OiAlcycgKSxcbiAqICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uQmxvY2tIYXNDaGlsZEJsb2Nrc1dpdGhJbnNlcnRlclN1cHBvcnRcbiAqICAgICAgICAgICAgICkgfVxuICogICAgICAgICA8L3A+XG4gKiAgICAgKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGEgYmxvY2sgY29udGFpbnMgYXQgbGVhc3Qgb25lIGNoaWxkIGJsb2NrcyB3aXRoIGluc2VydGVyIHN1cHBvcnRcbiAqICAgICAgICAgICAgICAgICAgIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGhhc0NoaWxkQmxvY2tzV2l0aEluc2VydGVyU3VwcG9ydCA9IChzdGF0ZSwgYmxvY2tOYW1lKSA9PiB7XG4gIHJldHVybiBnZXRDaGlsZEJsb2NrTmFtZXMoc3RhdGUsIGJsb2NrTmFtZSkuc29tZShjaGlsZEJsb2NrTmFtZSA9PiB7XG4gICAgcmV0dXJuIGhhc0Jsb2NrU3VwcG9ydChzdGF0ZSwgY2hpbGRCbG9ja05hbWUsICdpbnNlcnRlcicsIHRydWUpO1xuICB9KTtcbn07XG4vKipcbiAqIERPLU5PVC1VU0UgaW4gcHJvZHVjdGlvbi5cbiAqIFRoaXMgc2VsZWN0b3IgaXMgY3JlYXRlZCBmb3IgaW50ZXJuYWwvZXhwZXJpbWVudGFsIG9ubHkgdXNhZ2UgYW5kIG1heSBiZVxuICogcmVtb3ZlZCBhbnl0aW1lIHdpdGhvdXQgYW55IHdhcm5pbmcsIGNhdXNpbmcgYnJlYWthZ2Ugb24gYW55IHBsdWdpbiBvciB0aGVtZSBpbnZva2luZyBpdC5cbiAqL1xuXG5leHBvcnQgY29uc3QgX19leHBlcmltZW50YWxIYXNDb250ZW50Um9sZUF0dHJpYnV0ZSA9IGNyZWF0ZVNlbGVjdG9yKChzdGF0ZSwgYmxvY2tUeXBlTmFtZSkgPT4ge1xuICBjb25zdCBibG9ja1R5cGUgPSBnZXRCbG9ja1R5cGUoc3RhdGUsIGJsb2NrVHlwZU5hbWUpO1xuXG4gIGlmICghYmxvY2tUeXBlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGJsb2NrVHlwZS5hdHRyaWJ1dGVzKS5zb21lKF9yZWYzID0+IHtcbiAgICBsZXQgWywge1xuICAgICAgX19leHBlcmltZW50YWxSb2xlXG4gICAgfV0gPSBfcmVmMztcbiAgICByZXR1cm4gX19leHBlcmltZW50YWxSb2xlID09PSAnY29udGVudCc7XG4gIH0pO1xufSwgKHN0YXRlLCBibG9ja1R5cGVOYW1lKSA9PiB7XG4gIHZhciBfc3RhdGUkYmxvY2tUeXBlcyRibG87XG5cbiAgcmV0dXJuIFsoX3N0YXRlJGJsb2NrVHlwZXMkYmxvID0gc3RhdGUuYmxvY2tUeXBlc1tibG9ja1R5cGVOYW1lXSkgPT09IG51bGwgfHwgX3N0YXRlJGJsb2NrVHlwZXMkYmxvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkYmxvY2tUeXBlcyRibG8uYXR0cmlidXRlc107XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbGVjdG9ycy5qcy5tYXAiLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgY3JlYXRlU2VsZWN0b3IgZnJvbSAncmVtZW1vJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaCc7XG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCB7IGdldEJsb2NrVHlwZSB9IGZyb20gJy4vc2VsZWN0b3JzJztcbmltcG9ydCB7IF9fRVhQRVJJTUVOVEFMX1NUWUxFX1BST1BFUlRZIGFzIFNUWUxFX1BST1BFUlRZIH0gZnJvbSAnLi4vYXBpL2NvbnN0YW50cyc7XG5jb25zdCBST09UX0JMT0NLX1NVUFBPUlRTID0gWydiYWNrZ3JvdW5kJywgJ2JhY2tncm91bmRDb2xvcicsICdjb2xvcicsICdsaW5rQ29sb3InLCAnYnV0dG9uQ29sb3InLCAnZm9udEZhbWlseScsICdmb250U2l6ZScsICdmb250U3R5bGUnLCAnZm9udFdlaWdodCcsICdsaW5lSGVpZ2h0JywgJ3BhZGRpbmcnLCAnY29udGVudFNpemUnLCAnd2lkZVNpemUnLCAnYmxvY2tHYXAnLCAndGV4dERlY29yYXRpb24nLCAndGV4dFRyYW5zZm9ybScsICdsZXR0ZXJTcGFjaW5nJ107XG4vKipcbiAqIEZpbHRlcnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHN0eWxlcyBmb3IgYSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nW119ICAgICAgICAgYmxvY2tTdXBwb3J0cyBsaXN0IG9mIHN1cHBvcnRlZCBzdHlsZXMuXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IG5hbWUgICAgICAgICAgYmxvY2sgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gZWxlbWVudCAgICAgICBlbGVtZW50IG5hbWUuXG4gKlxuICogQHJldHVybiB7c3RyaW5nW119IGZpbHRlcmVkIGxpc3Qgb2Ygc3VwcG9ydGVkIHN0eWxlcy5cbiAqL1xuXG5mdW5jdGlvbiBmaWx0ZXJFbGVtZW50QmxvY2tTdXBwb3J0cyhibG9ja1N1cHBvcnRzLCBuYW1lLCBlbGVtZW50KSB7XG4gIHJldHVybiBibG9ja1N1cHBvcnRzLmZpbHRlcihzdXBwb3J0ID0+IHtcbiAgICBpZiAoc3VwcG9ydCA9PT0gJ2ZvbnRTaXplJyAmJiBlbGVtZW50ID09PSAnaGVhZGluZycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIFRoaXMgaXMgb25seSBhdmFpbGFibGUgZm9yIGxpbmtzXG5cblxuICAgIGlmIChzdXBwb3J0ID09PSAndGV4dERlY29yYXRpb24nICYmICFuYW1lICYmIGVsZW1lbnQgIT09ICdsaW5rJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gVGhpcyBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgaGVhZGluZ1xuXG5cbiAgICBpZiAoc3VwcG9ydCA9PT0gJ3RleHRUcmFuc2Zvcm0nICYmICFuYW1lICYmICFbJ2hlYWRpbmcnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnXS5pbmNsdWRlcyhlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gVGhpcyBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgaGVhZGluZ3NcblxuXG4gICAgaWYgKHN1cHBvcnQgPT09ICdsZXR0ZXJTcGFjaW5nJyAmJiAhbmFtZSAmJiAhWydoZWFkaW5nJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2J10uaW5jbHVkZXMoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHN0eWxlcyBmb3IgYSBnaXZlbiBibG9jayBuYW1lIGFuZCBlbGVtZW50LlxuICovXG5cblxuZXhwb3J0IGNvbnN0IGdldFN1cHBvcnRlZFN0eWxlcyA9IGNyZWF0ZVNlbGVjdG9yKChzdGF0ZSwgbmFtZSwgZWxlbWVudCkgPT4ge1xuICB2YXIgX2Jsb2NrVHlwZSRzdXBwb3J0cywgX2Jsb2NrVHlwZSRzdXBwb3J0cyRzLCBfYmxvY2tUeXBlJHN1cHBvcnRzMiwgX2Jsb2NrVHlwZSRzdXBwb3J0czIkLCBfYmxvY2tUeXBlJHN1cHBvcnRzMywgX2Jsb2NrVHlwZSRzdXBwb3J0czMkLCBfYmxvY2tUeXBlJHN1cHBvcnRzMyQyLCBfYmxvY2tUeXBlJHN1cHBvcnRzMyQzLCBfYmxvY2tUeXBlJHN1cHBvcnRzNDtcblxuICBpZiAoIW5hbWUpIHtcbiAgICByZXR1cm4gZmlsdGVyRWxlbWVudEJsb2NrU3VwcG9ydHMoUk9PVF9CTE9DS19TVVBQT1JUUywgbmFtZSwgZWxlbWVudCk7XG4gIH1cblxuICBjb25zdCBibG9ja1R5cGUgPSBnZXRCbG9ja1R5cGUoc3RhdGUsIG5hbWUpO1xuXG4gIGlmICghYmxvY2tUeXBlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3Qgc3VwcG9ydEtleXMgPSBbXTsgLy8gQ2hlY2sgZm9yIGJsb2NrR2FwIHN1cHBvcnQuXG4gIC8vIEJsb2NrIHNwYWNpbmcgc3VwcG9ydCBkb2Vzbid0IG1hcCBkaXJlY3RseSB0byBhIHNpbmdsZSBzdHlsZSBwcm9wZXJ0eSwgc28gbmVlZHMgdG8gYmUgaGFuZGxlZCBzZXBhcmF0ZWx5LlxuICAvLyBBbHNvLCBvbmx5IGFsbG93IGBibG9ja0dhcGAgc3VwcG9ydCBpZiBzZXJpYWxpemF0aW9uIGhhcyBub3QgYmVlbiBza2lwcGVkLCB0byBiZSBzdXJlIGdsb2JhbCBzcGFjaW5nIGNhbiBiZSBhcHBsaWVkLlxuXG4gIGlmIChibG9ja1R5cGUgIT09IG51bGwgJiYgYmxvY2tUeXBlICE9PSB2b2lkIDAgJiYgKF9ibG9ja1R5cGUkc3VwcG9ydHMgPSBibG9ja1R5cGUuc3VwcG9ydHMpICE9PSBudWxsICYmIF9ibG9ja1R5cGUkc3VwcG9ydHMgIT09IHZvaWQgMCAmJiAoX2Jsb2NrVHlwZSRzdXBwb3J0cyRzID0gX2Jsb2NrVHlwZSRzdXBwb3J0cy5zcGFjaW5nKSAhPT0gbnVsbCAmJiBfYmxvY2tUeXBlJHN1cHBvcnRzJHMgIT09IHZvaWQgMCAmJiBfYmxvY2tUeXBlJHN1cHBvcnRzJHMuYmxvY2tHYXAgJiYgKGJsb2NrVHlwZSA9PT0gbnVsbCB8fCBibG9ja1R5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfYmxvY2tUeXBlJHN1cHBvcnRzMiA9IGJsb2NrVHlwZS5zdXBwb3J0cykgPT09IG51bGwgfHwgX2Jsb2NrVHlwZSRzdXBwb3J0czIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfYmxvY2tUeXBlJHN1cHBvcnRzMiQgPSBfYmxvY2tUeXBlJHN1cHBvcnRzMi5zcGFjaW5nKSA9PT0gbnVsbCB8fCBfYmxvY2tUeXBlJHN1cHBvcnRzMiQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ibG9ja1R5cGUkc3VwcG9ydHMyJC5fX2V4cGVyaW1lbnRhbFNraXBTZXJpYWxpemF0aW9uKSAhPT0gdHJ1ZSAmJiAhKGJsb2NrVHlwZSAhPT0gbnVsbCAmJiBibG9ja1R5cGUgIT09IHZvaWQgMCAmJiAoX2Jsb2NrVHlwZSRzdXBwb3J0czMgPSBibG9ja1R5cGUuc3VwcG9ydHMpICE9PSBudWxsICYmIF9ibG9ja1R5cGUkc3VwcG9ydHMzICE9PSB2b2lkIDAgJiYgKF9ibG9ja1R5cGUkc3VwcG9ydHMzJCA9IF9ibG9ja1R5cGUkc3VwcG9ydHMzLnNwYWNpbmcpICE9PSBudWxsICYmIF9ibG9ja1R5cGUkc3VwcG9ydHMzJCAhPT0gdm9pZCAwICYmIChfYmxvY2tUeXBlJHN1cHBvcnRzMyQyID0gX2Jsb2NrVHlwZSRzdXBwb3J0czMkLl9fZXhwZXJpbWVudGFsU2tpcFNlcmlhbGl6YXRpb24pICE9PSBudWxsICYmIF9ibG9ja1R5cGUkc3VwcG9ydHMzJDIgIT09IHZvaWQgMCAmJiAoX2Jsb2NrVHlwZSRzdXBwb3J0czMkMyA9IF9ibG9ja1R5cGUkc3VwcG9ydHMzJDIuc29tZSkgIT09IG51bGwgJiYgX2Jsb2NrVHlwZSRzdXBwb3J0czMkMyAhPT0gdm9pZCAwICYmIF9ibG9ja1R5cGUkc3VwcG9ydHMzJDMuY2FsbChfYmxvY2tUeXBlJHN1cHBvcnRzMyQyLCBzcGFjaW5nVHlwZSA9PiBzcGFjaW5nVHlwZSA9PT0gJ2Jsb2NrR2FwJykpKSB7XG4gICAgc3VwcG9ydEtleXMucHVzaCgnYmxvY2tHYXAnKTtcbiAgfSAvLyBjaGVjayBmb3Igc2hhZG93IHN1cHBvcnRcblxuXG4gIGlmIChibG9ja1R5cGUgIT09IG51bGwgJiYgYmxvY2tUeXBlICE9PSB2b2lkIDAgJiYgKF9ibG9ja1R5cGUkc3VwcG9ydHM0ID0gYmxvY2tUeXBlLnN1cHBvcnRzKSAhPT0gbnVsbCAmJiBfYmxvY2tUeXBlJHN1cHBvcnRzNCAhPT0gdm9pZCAwICYmIF9ibG9ja1R5cGUkc3VwcG9ydHM0LnNoYWRvdykge1xuICAgIHN1cHBvcnRLZXlzLnB1c2goJ3NoYWRvdycpO1xuICB9XG5cbiAgT2JqZWN0LmtleXMoU1RZTEVfUFJPUEVSVFkpLmZvckVhY2goc3R5bGVOYW1lID0+IHtcbiAgICBpZiAoIVNUWUxFX1BST1BFUlRZW3N0eWxlTmFtZV0uc3VwcG9ydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gT3B0aW5nIG91dCBtZWFucyB0aGF0LCBmb3IgY2VydGFpbiBzdXBwb3J0IGtleXMgbGlrZSBiYWNrZ3JvdW5kIGNvbG9yLFxuICAgIC8vIGJsb2NrcyBoYXZlIHRvIGV4cGxpY2l0bHkgc2V0IHRoZSBzdXBwb3J0IHZhbHVlIGZhbHNlLiBJZiB0aGUga2V5IGlzXG4gICAgLy8gdW5zZXQsIHdlIHN0aWxsIGVuYWJsZSBpdC5cblxuXG4gICAgaWYgKFNUWUxFX1BST1BFUlRZW3N0eWxlTmFtZV0ucmVxdWlyZXNPcHRPdXQpIHtcbiAgICAgIGlmIChTVFlMRV9QUk9QRVJUWVtzdHlsZU5hbWVdLnN1cHBvcnRbMF0gaW4gYmxvY2tUeXBlLnN1cHBvcnRzICYmIGdldChibG9ja1R5cGUuc3VwcG9ydHMsIFNUWUxFX1BST1BFUlRZW3N0eWxlTmFtZV0uc3VwcG9ydCkgIT09IGZhbHNlKSB7XG4gICAgICAgIHN1cHBvcnRLZXlzLnB1c2goc3R5bGVOYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChnZXQoYmxvY2tUeXBlLnN1cHBvcnRzLCBTVFlMRV9QUk9QRVJUWVtzdHlsZU5hbWVdLnN1cHBvcnQsIGZhbHNlKSkge1xuICAgICAgc3VwcG9ydEtleXMucHVzaChzdHlsZU5hbWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJFbGVtZW50QmxvY2tTdXBwb3J0cyhzdXBwb3J0S2V5cywgbmFtZSwgZWxlbWVudCk7XG59LCAoc3RhdGUsIG5hbWUpID0+IFtzdGF0ZS5ibG9ja1R5cGVzW25hbWVdXSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcml2YXRlLXNlbGVjdG9ycy5qcy5tYXAiLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBpc1BsYWluT2JqZWN0IH0gZnJvbSAnaXMtcGxhaW4tb2JqZWN0Jztcbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCBkZXByZWNhdGVkIGZyb20gJ0B3b3JkcHJlc3MvZGVwcmVjYXRlZCc7XG5pbXBvcnQgeyBhcHBseUZpbHRlcnMgfSBmcm9tICdAd29yZHByZXNzL2hvb2tzJztcbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cblxuaW1wb3J0IHsgaXNWYWxpZEljb24sIG5vcm1hbGl6ZUljb25PYmplY3QsIG9taXQgfSBmcm9tICcuLi9hcGkvdXRpbHMnO1xuaW1wb3J0IHsgREVQUkVDQVRFRF9FTlRSWV9LRVlTIH0gZnJvbSAnLi4vYXBpL2NvbnN0YW50cyc7XG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vYXBpL3JlZ2lzdHJhdGlvbicpLldQQmxvY2tWYXJpYXRpb259IFdQQmxvY2tWYXJpYXRpb24gKi9cblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2FwaS9yZWdpc3RyYXRpb24nKS5XUEJsb2NrVHlwZX0gV1BCbG9ja1R5cGUgKi9cblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vcmVkdWNlcicpLldQQmxvY2tDYXRlZ29yeX0gV1BCbG9ja0NhdGVnb3J5ICovXG5cbmNvbnN0IHtcbiAgZXJyb3IsXG4gIHdhcm5cbn0gPSB3aW5kb3cuY29uc29sZTtcbi8qKlxuICogTWFwcGluZyBvZiBsZWdhY3kgY2F0ZWdvcnkgc2x1Z3MgdG8gdGhlaXIgbGF0ZXN0IG5vcm1hbCB2YWx1ZXMsIHVzZWQgdG9cbiAqIGFjY29tbW9kYXRlIHVwZGF0ZXMgb2YgdGhlIGRlZmF1bHQgc2V0IG9mIGJsb2NrIGNhdGVnb3JpZXMuXG4gKlxuICogQHR5cGUge1JlY29yZDxzdHJpbmcsc3RyaW5nPn1cbiAqL1xuXG5jb25zdCBMRUdBQ1lfQ0FURUdPUllfTUFQUElORyA9IHtcbiAgY29tbW9uOiAndGV4dCcsXG4gIGZvcm1hdHRpbmc6ICd0ZXh0JyxcbiAgbGF5b3V0OiAnZGVzaWduJ1xufTtcbi8qKlxuICogV2hldGhlciB0aGUgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0geyp9IG1heWJlRnVuYyBUaGUgYXJndW1lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZnVuY3Rpb24gaXNGdW5jdGlvbihtYXliZUZ1bmMpIHtcbiAgcmV0dXJuIHR5cGVvZiBtYXliZUZ1bmMgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIFRha2VzIHRoZSB1bnByb2Nlc3NlZCBibG9jayB0eXBlIGRhdGEgYW5kIGFwcGxpZXMgYWxsIHRoZSBleGlzdGluZyBmaWx0ZXJzIGZvciB0aGUgcmVnaXN0ZXJlZCBibG9jayB0eXBlLlxuICogTmV4dCwgaXQgdmFsaWRhdGVzIGFsbCB0aGUgc2V0dGluZ3MgYW5kIHBlcmZvcm1zIGFkZGl0aW9uYWwgcHJvY2Vzc2luZyB0byB0aGUgYmxvY2sgdHlwZSBkZWZpbml0aW9uLlxuICpcbiAqIEBwYXJhbSB7V1BCbG9ja1R5cGV9IGJsb2NrVHlwZSAgICAgICAgVW5wcm9jZXNzZWQgYmxvY2sgdHlwZSBzZXR0aW5ncy5cbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHRodW5rQXJncyAgICAgICAgQXJndW1lbnQgb2JqZWN0IGZvciB0aGUgdGh1bmsgbWlkZGxld2FyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIHRodW5rQXJncy5zZWxlY3QgRnVuY3Rpb24gdG8gc2VsZWN0IGZyb20gdGhlIHN0b3JlLlxuICpcbiAqIEByZXR1cm4ge1dQQmxvY2tUeXBlIHwgdW5kZWZpbmVkfSBUaGUgYmxvY2ssIGlmIGl0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkOyBvdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gKi9cblxuXG5jb25zdCBwcm9jZXNzQmxvY2tUeXBlID0gKGJsb2NrVHlwZSwgX3JlZikgPT4ge1xuICBsZXQge1xuICAgIHNlbGVjdFxuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIG5hbWVcbiAgfSA9IGJsb2NrVHlwZTtcbiAgY29uc3Qgc2V0dGluZ3MgPSBhcHBseUZpbHRlcnMoJ2Jsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZScsIHsgLi4uYmxvY2tUeXBlXG4gIH0sIG5hbWUsIG51bGwpO1xuXG4gIGlmIChzZXR0aW5ncy5kZXNjcmlwdGlvbiAmJiB0eXBlb2Ygc2V0dGluZ3MuZGVzY3JpcHRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgZGVwcmVjYXRlZCgnRGVjbGFyaW5nIG5vbi1zdHJpbmcgYmxvY2sgZGVzY3JpcHRpb25zJywge1xuICAgICAgc2luY2U6ICc2LjInXG4gICAgfSk7XG4gIH1cblxuICBpZiAoc2V0dGluZ3MuZGVwcmVjYXRlZCkge1xuICAgIHNldHRpbmdzLmRlcHJlY2F0ZWQgPSBzZXR0aW5ncy5kZXByZWNhdGVkLm1hcChkZXByZWNhdGlvbiA9PiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoIC8vIE9ubHkga2VlcCB2YWxpZCBkZXByZWNhdGlvbiBrZXlzLlxuICAgIGFwcGx5RmlsdGVycygnYmxvY2tzLnJlZ2lzdGVyQmxvY2tUeXBlJywgLy8gTWVyZ2UgZGVwcmVjYXRpb24ga2V5cyB3aXRoIHByZS1maWx0ZXIgc2V0dGluZ3NcbiAgICAvLyBzbyB0aGF0IGZpbHRlcnMgdGhhdCBkZXBlbmQgb24gc3BlY2lmaWMga2V5cyBiZWluZ1xuICAgIC8vIHByZXNlbnQgZG9uJ3QgZmFpbC5cbiAgICB7IC8vIE9taXQgZGVwcmVjYXRpb24ga2V5cyBoZXJlIHNvIHRoYXQgZGVwcmVjYXRpb25zXG4gICAgICAvLyBjYW4gb3B0IG91dCBvZiBzcGVjaWZpYyBrZXlzIGxpa2UgXCJzdXBwb3J0c1wiLlxuICAgICAgLi4ub21pdChibG9ja1R5cGUsIERFUFJFQ0FURURfRU5UUllfS0VZUyksXG4gICAgICAuLi5kZXByZWNhdGlvblxuICAgIH0sIG5hbWUsIGRlcHJlY2F0aW9uKSkuZmlsdGVyKF9yZWYyID0+IHtcbiAgICAgIGxldCBba2V5XSA9IF9yZWYyO1xuICAgICAgcmV0dXJuIERFUFJFQ0FURURfRU5UUllfS0VZUy5pbmNsdWRlcyhrZXkpO1xuICAgIH0pKSk7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3Qoc2V0dGluZ3MpKSB7XG4gICAgZXJyb3IoJ0Jsb2NrIHNldHRpbmdzIG11c3QgYmUgYSB2YWxpZCBvYmplY3QuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKHNldHRpbmdzLnNhdmUpKSB7XG4gICAgZXJyb3IoJ1RoZSBcInNhdmVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCdlZGl0JyBpbiBzZXR0aW5ncyAmJiAhaXNGdW5jdGlvbihzZXR0aW5ncy5lZGl0KSkge1xuICAgIGVycm9yKCdUaGUgXCJlZGl0XCIgcHJvcGVydHkgbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLicpO1xuICAgIHJldHVybjtcbiAgfSAvLyBDYW5vbmljYWxpemUgbGVnYWN5IGNhdGVnb3JpZXMgdG8gZXF1aXZhbGVudCBmYWxsYmFjay5cblxuXG4gIGlmIChMRUdBQ1lfQ0FURUdPUllfTUFQUElORy5oYXNPd25Qcm9wZXJ0eShzZXR0aW5ncy5jYXRlZ29yeSkpIHtcbiAgICBzZXR0aW5ncy5jYXRlZ29yeSA9IExFR0FDWV9DQVRFR09SWV9NQVBQSU5HW3NldHRpbmdzLmNhdGVnb3J5XTtcbiAgfVxuXG4gIGlmICgnY2F0ZWdvcnknIGluIHNldHRpbmdzICYmICFzZWxlY3QuZ2V0Q2F0ZWdvcmllcygpLnNvbWUoX3JlZjMgPT4ge1xuICAgIGxldCB7XG4gICAgICBzbHVnXG4gICAgfSA9IF9yZWYzO1xuICAgIHJldHVybiBzbHVnID09PSBzZXR0aW5ncy5jYXRlZ29yeTtcbiAgfSkpIHtcbiAgICB3YXJuKCdUaGUgYmxvY2sgXCInICsgbmFtZSArICdcIiBpcyByZWdpc3RlcmVkIHdpdGggYW4gaW52YWxpZCBjYXRlZ29yeSBcIicgKyBzZXR0aW5ncy5jYXRlZ29yeSArICdcIi4nKTtcbiAgICBkZWxldGUgc2V0dGluZ3MuY2F0ZWdvcnk7XG4gIH1cblxuICBpZiAoISgndGl0bGUnIGluIHNldHRpbmdzKSB8fCBzZXR0aW5ncy50aXRsZSA9PT0gJycpIHtcbiAgICBlcnJvcignVGhlIGJsb2NrIFwiJyArIG5hbWUgKyAnXCIgbXVzdCBoYXZlIGEgdGl0bGUuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzZXR0aW5ncy50aXRsZSAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcignQmxvY2sgdGl0bGVzIG11c3QgYmUgc3RyaW5ncy4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzZXR0aW5ncy5pY29uID0gbm9ybWFsaXplSWNvbk9iamVjdChzZXR0aW5ncy5pY29uKTtcblxuICBpZiAoIWlzVmFsaWRJY29uKHNldHRpbmdzLmljb24uc3JjKSkge1xuICAgIGVycm9yKCdUaGUgaWNvbiBwYXNzZWQgaXMgaW52YWxpZC4gJyArICdUaGUgaWNvbiBzaG91bGQgYmUgYSBzdHJpbmcsIGFuIGVsZW1lbnQsIGEgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCBmb2xsb3dpbmcgdGhlIHNwZWNpZmljYXRpb25zIGRvY3VtZW50ZWQgaW4gaHR0cHM6Ly9kZXZlbG9wZXIud29yZHByZXNzLm9yZy9ibG9jay1lZGl0b3IvZGV2ZWxvcGVycy9ibG9jay1hcGkvYmxvY2stcmVnaXN0cmF0aW9uLyNpY29uLW9wdGlvbmFsJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIHNldHRpbmdzO1xufTtcbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gb2JqZWN0IHVzZWQgaW4gc2lnbmFsbGluZyB0aGF0IGJsb2NrIHR5cGVzIGhhdmUgYmVlbiBhZGRlZC5cbiAqIElnbm9yZWQgZnJvbSBkb2N1bWVudGF0aW9uIGFzIHRoZSByZWNvbW1lbmRlZCB1c2FnZSBmb3IgdGhpcyBhY3Rpb24gdGhyb3VnaCByZWdpc3RlckJsb2NrVHlwZSBmcm9tIEB3b3JkcHJlc3MvYmxvY2tzLlxuICpcbiAqIEBpZ25vcmVcbiAqXG4gKiBAcGFyYW0ge1dQQmxvY2tUeXBlfFdQQmxvY2tUeXBlW119IGJsb2NrVHlwZXMgT2JqZWN0IG9yIGFycmF5IG9mIG9iamVjdHMgcmVwcmVzZW50aW5nIGJsb2NrcyB0byBhZGRlZC5cbiAqXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJsb2NrVHlwZXMoYmxvY2tUeXBlcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdBRERfQkxPQ0tfVFlQRVMnLFxuICAgIGJsb2NrVHlwZXM6IEFycmF5LmlzQXJyYXkoYmxvY2tUeXBlcykgPyBibG9ja1R5cGVzIDogW2Jsb2NrVHlwZXNdXG4gIH07XG59XG4vKipcbiAqIFNpZ25hbHMgdGhhdCB0aGUgcGFzc2VkIGJsb2NrIHR5cGUncyBzZXR0aW5ncyBzaG91bGQgYmUgc3RvcmVkIGluIHRoZSBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge1dQQmxvY2tUeXBlfSBibG9ja1R5cGUgVW5wcm9jZXNzZWQgYmxvY2sgdHlwZSBzZXR0aW5ncy5cbiAqL1xuXG5leHBvcnQgY29uc3QgX19leHBlcmltZW50YWxSZWdpc3RlckJsb2NrVHlwZSA9IGJsb2NrVHlwZSA9PiBfcmVmNCA9PiB7XG4gIGxldCB7XG4gICAgZGlzcGF0Y2gsXG4gICAgc2VsZWN0XG4gIH0gPSBfcmVmNDtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdBRERfVU5QUk9DRVNTRURfQkxPQ0tfVFlQRScsXG4gICAgYmxvY2tUeXBlXG4gIH0pO1xuICBjb25zdCBwcm9jZXNzZWRCbG9ja1R5cGUgPSBwcm9jZXNzQmxvY2tUeXBlKGJsb2NrVHlwZSwge1xuICAgIHNlbGVjdFxuICB9KTtcblxuICBpZiAoIXByb2Nlc3NlZEJsb2NrVHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRpc3BhdGNoLmFkZEJsb2NrVHlwZXMocHJvY2Vzc2VkQmxvY2tUeXBlKTtcbn07XG4vKipcbiAqIFNpZ25hbHMgdGhhdCBhbGwgYmxvY2sgdHlwZXMgc2hvdWxkIGJlIGNvbXB1dGVkIGFnYWluLlxuICogSXQgdXNlcyBzdG9yZWQgdW5wcm9jZXNzZWQgYmxvY2sgdHlwZXMgYW5kIGFsbCB0aGUgbW9zdCByZWNlbnQgbGlzdCBvZiByZWdpc3RlcmVkIGZpbHRlcnMuXG4gKlxuICogSXQgYWRkcmVzc2VzIHRoZSBpc3N1ZSB3aGVyZSB0aGlyZCBwYXJ0eSBibG9jayBmaWx0ZXJzIGdldCByZWdpc3RlcmVkIGFmdGVyIHRoaXJkIHBhcnR5IGJsb2Nrcy4gQSBzYW1wbGUgc2VxdWVuY2U6XG4gKiAgIDEuIEZpbHRlciBBLlxuICogICAyLiBCbG9jayBCLlxuICogICAzLiBCbG9jayBDLlxuICogICA0LiBGaWx0ZXIgRC5cbiAqICAgNS4gRmlsdGVyIEUuXG4gKiAgIDYuIEJsb2NrIEYuXG4gKiAgIDcuIEZpbHRlciBHLlxuICogSW4gdGhpcyBzY2VuYXJpbyBzb21lIGZpbHRlcnMgd291bGQgbm90IGdldCBhcHBsaWVkIGZvciBhbGwgYmxvY2tzIGJlY2F1c2UgdGhleSBhcmUgcmVnaXN0ZXJlZCB0b28gbGF0ZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgX19leHBlcmltZW50YWxSZWFwcGx5QmxvY2tUeXBlRmlsdGVycyA9ICgpID0+IF9yZWY1ID0+IHtcbiAgbGV0IHtcbiAgICBkaXNwYXRjaCxcbiAgICBzZWxlY3RcbiAgfSA9IF9yZWY1O1xuXG4gIGNvbnN0IHVucHJvY2Vzc2VkQmxvY2tUeXBlcyA9IHNlbGVjdC5fX2V4cGVyaW1lbnRhbEdldFVucHJvY2Vzc2VkQmxvY2tUeXBlcygpO1xuXG4gIGNvbnN0IHByb2Nlc3NlZEJsb2NrVHlwZXMgPSBPYmplY3Qua2V5cyh1bnByb2Nlc3NlZEJsb2NrVHlwZXMpLnJlZHVjZSgoYWNjdW11bGF0b3IsIGJsb2NrTmFtZSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHByb2Nlc3NCbG9ja1R5cGUodW5wcm9jZXNzZWRCbG9ja1R5cGVzW2Jsb2NrTmFtZV0sIHtcbiAgICAgIHNlbGVjdFxuICAgIH0pO1xuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgYWNjdW11bGF0b3IucHVzaChyZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfSwgW10pO1xuXG4gIGlmICghcHJvY2Vzc2VkQmxvY2tUeXBlcy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkaXNwYXRjaC5hZGRCbG9ja1R5cGVzKHByb2Nlc3NlZEJsb2NrVHlwZXMpO1xufTtcbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gb2JqZWN0IHVzZWQgdG8gcmVtb3ZlIGEgcmVnaXN0ZXJlZCBibG9jayB0eXBlLlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHVucmVnaXN0ZXJCbG9ja1R5cGUgZnJvbSBAd29yZHByZXNzL2Jsb2Nrcy5cbiAqXG4gKiBAaWdub3JlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IG5hbWVzIEJsb2NrIG5hbWUgb3IgYXJyYXkgb2YgYmxvY2sgbmFtZXMgdG8gYmUgcmVtb3ZlZC5cbiAqXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVCbG9ja1R5cGVzKG5hbWVzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ1JFTU9WRV9CTE9DS19UWVBFUycsXG4gICAgbmFtZXM6IEFycmF5LmlzQXJyYXkobmFtZXMpID8gbmFtZXMgOiBbbmFtZXNdXG4gIH07XG59XG4vKipcbiAqIFJldHVybnMgYW4gYWN0aW9uIG9iamVjdCB1c2VkIGluIHNpZ25hbGxpbmcgdGhhdCBuZXcgYmxvY2sgc3R5bGVzIGhhdmUgYmVlbiBhZGRlZC5cbiAqIElnbm9yZWQgZnJvbSBkb2N1bWVudGF0aW9uIGFzIHRoZSByZWNvbW1lbmRlZCB1c2FnZSBmb3IgdGhpcyBhY3Rpb24gdGhyb3VnaCByZWdpc3RlckJsb2NrU3R5bGUgZnJvbSBAd29yZHByZXNzL2Jsb2Nrcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgYmxvY2tOYW1lIEJsb2NrIG5hbWUuXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gc3R5bGVzICAgIEJsb2NrIHN0eWxlIG9iamVjdCBvciBhcnJheSBvZiBibG9jayBzdHlsZSBvYmplY3RzLlxuICpcbiAqIEBpZ25vcmVcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IEFjdGlvbiBvYmplY3QuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJsb2NrU3R5bGVzKGJsb2NrTmFtZSwgc3R5bGVzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0FERF9CTE9DS19TVFlMRVMnLFxuICAgIHN0eWxlczogQXJyYXkuaXNBcnJheShzdHlsZXMpID8gc3R5bGVzIDogW3N0eWxlc10sXG4gICAgYmxvY2tOYW1lXG4gIH07XG59XG4vKipcbiAqIFJldHVybnMgYW4gYWN0aW9uIG9iamVjdCB1c2VkIGluIHNpZ25hbGxpbmcgdGhhdCBibG9jayBzdHlsZXMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gKiBJZ25vcmVkIGZyb20gZG9jdW1lbnRhdGlvbiBhcyB0aGUgcmVjb21tZW5kZWQgdXNhZ2UgZm9yIHRoaXMgYWN0aW9uIHRocm91Z2ggdW5yZWdpc3RlckJsb2NrU3R5bGUgZnJvbSBAd29yZHByZXNzL2Jsb2Nrcy5cbiAqXG4gKiBAaWdub3JlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgIGJsb2NrTmFtZSAgQmxvY2sgbmFtZS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBzdHlsZU5hbWVzIEJsb2NrIHN0eWxlIG5hbWVzIG9yIGFycmF5IG9mIGJsb2NrIHN0eWxlIG5hbWVzLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gQWN0aW9uIG9iamVjdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQmxvY2tTdHlsZXMoYmxvY2tOYW1lLCBzdHlsZU5hbWVzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ1JFTU9WRV9CTE9DS19TVFlMRVMnLFxuICAgIHN0eWxlTmFtZXM6IEFycmF5LmlzQXJyYXkoc3R5bGVOYW1lcykgPyBzdHlsZU5hbWVzIDogW3N0eWxlTmFtZXNdLFxuICAgIGJsb2NrTmFtZVxuICB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFjdGlvbiBvYmplY3QgdXNlZCBpbiBzaWduYWxsaW5nIHRoYXQgbmV3IGJsb2NrIHZhcmlhdGlvbnMgaGF2ZSBiZWVuIGFkZGVkLlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHJlZ2lzdGVyQmxvY2tWYXJpYXRpb24gZnJvbSBAd29yZHByZXNzL2Jsb2Nrcy5cbiAqXG4gKiBAaWdub3JlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tOYW1lICBCbG9jayBuYW1lLlxuICogQHBhcmFtIHtXUEJsb2NrVmFyaWF0aW9ufFdQQmxvY2tWYXJpYXRpb25bXX0gdmFyaWF0aW9ucyBCbG9jayB2YXJpYXRpb25zLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gQWN0aW9uIG9iamVjdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmxvY2tWYXJpYXRpb25zKGJsb2NrTmFtZSwgdmFyaWF0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdBRERfQkxPQ0tfVkFSSUFUSU9OUycsXG4gICAgdmFyaWF0aW9uczogQXJyYXkuaXNBcnJheSh2YXJpYXRpb25zKSA/IHZhcmlhdGlvbnMgOiBbdmFyaWF0aW9uc10sXG4gICAgYmxvY2tOYW1lXG4gIH07XG59XG4vKipcbiAqIFJldHVybnMgYW4gYWN0aW9uIG9iamVjdCB1c2VkIGluIHNpZ25hbGxpbmcgdGhhdCBibG9jayB2YXJpYXRpb25zIGhhdmUgYmVlbiByZW1vdmVkLlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHVucmVnaXN0ZXJCbG9ja1ZhcmlhdGlvbiBmcm9tIEB3b3JkcHJlc3MvYmxvY2tzLlxuICpcbiAqIEBpZ25vcmVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgYmxvY2tOYW1lICAgICAgQmxvY2sgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB2YXJpYXRpb25OYW1lcyBCbG9jayB2YXJpYXRpb24gbmFtZXMuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVCbG9ja1ZhcmlhdGlvbnMoYmxvY2tOYW1lLCB2YXJpYXRpb25OYW1lcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdSRU1PVkVfQkxPQ0tfVkFSSUFUSU9OUycsXG4gICAgdmFyaWF0aW9uTmFtZXM6IEFycmF5LmlzQXJyYXkodmFyaWF0aW9uTmFtZXMpID8gdmFyaWF0aW9uTmFtZXMgOiBbdmFyaWF0aW9uTmFtZXNdLFxuICAgIGJsb2NrTmFtZVxuICB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFjdGlvbiBvYmplY3QgdXNlZCB0byBzZXQgdGhlIGRlZmF1bHQgYmxvY2sgbmFtZS5cbiAqIElnbm9yZWQgZnJvbSBkb2N1bWVudGF0aW9uIGFzIHRoZSByZWNvbW1lbmRlZCB1c2FnZSBmb3IgdGhpcyBhY3Rpb24gdGhyb3VnaCBzZXREZWZhdWx0QmxvY2tOYW1lIGZyb20gQHdvcmRwcmVzcy9ibG9ja3MuXG4gKlxuICogQGlnbm9yZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEJsb2NrIG5hbWUuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0QmxvY2tOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnU0VUX0RFRkFVTFRfQkxPQ0tfTkFNRScsXG4gICAgbmFtZVxuICB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFjdGlvbiBvYmplY3QgdXNlZCB0byBzZXQgdGhlIG5hbWUgb2YgdGhlIGJsb2NrIHVzZWQgYXMgYSBmYWxsYmFja1xuICogZm9yIG5vbi1ibG9jayBjb250ZW50LlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHNldEZyZWVmb3JtQ29udGVudEhhbmRsZXJOYW1lIGZyb20gQHdvcmRwcmVzcy9ibG9ja3MuXG4gKlxuICogQGlnbm9yZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEJsb2NrIG5hbWUuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRGcmVlZm9ybUZhbGxiYWNrQmxvY2tOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnU0VUX0ZSRUVGT1JNX0ZBTExCQUNLX0JMT0NLX05BTUUnLFxuICAgIG5hbWVcbiAgfTtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gb2JqZWN0IHVzZWQgdG8gc2V0IHRoZSBuYW1lIG9mIHRoZSBibG9jayB1c2VkIGFzIGEgZmFsbGJhY2tcbiAqIGZvciB1bnJlZ2lzdGVyZWQgYmxvY2tzLlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHNldFVucmVnaXN0ZXJlZFR5cGVIYW5kbGVyTmFtZSBmcm9tIEB3b3JkcHJlc3MvYmxvY2tzLlxuICpcbiAqIEBpZ25vcmVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBCbG9jayBuYW1lLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gQWN0aW9uIG9iamVjdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0VW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUobmFtZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdTRVRfVU5SRUdJU1RFUkVEX0ZBTExCQUNLX0JMT0NLX05BTUUnLFxuICAgIG5hbWVcbiAgfTtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gb2JqZWN0IHVzZWQgdG8gc2V0IHRoZSBuYW1lIG9mIHRoZSBibG9jayB1c2VkXG4gKiB3aGVuIGdyb3VwaW5nIG90aGVyIGJsb2Nrc1xuICogZWc6IGluIFwiR3JvdXAvVW5ncm91cFwiIGludGVyYWN0aW9uc1xuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHNldEdyb3VwaW5nQmxvY2tOYW1lIGZyb20gQHdvcmRwcmVzcy9ibG9ja3MuXG4gKlxuICogQGlnbm9yZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEJsb2NrIG5hbWUuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcm91cGluZ0Jsb2NrTmFtZShuYW1lKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ1NFVF9HUk9VUElOR19CTE9DS19OQU1FJyxcbiAgICBuYW1lXG4gIH07XG59XG4vKipcbiAqIFJldHVybnMgYW4gYWN0aW9uIG9iamVjdCB1c2VkIHRvIHNldCBibG9jayBjYXRlZ29yaWVzLlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHNldENhdGVnb3JpZXMgZnJvbSBAd29yZHByZXNzL2Jsb2Nrcy5cbiAqXG4gKiBAaWdub3JlXG4gKlxuICogQHBhcmFtIHtXUEJsb2NrQ2F0ZWdvcnlbXX0gY2F0ZWdvcmllcyBCbG9jayBjYXRlZ29yaWVzLlxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gQWN0aW9uIG9iamVjdC5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2F0ZWdvcmllcyhjYXRlZ29yaWVzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ1NFVF9DQVRFR09SSUVTJyxcbiAgICBjYXRlZ29yaWVzXG4gIH07XG59XG4vKipcbiAqIFJldHVybnMgYW4gYWN0aW9uIG9iamVjdCB1c2VkIHRvIHVwZGF0ZSBhIGNhdGVnb3J5LlxuICogSWdub3JlZCBmcm9tIGRvY3VtZW50YXRpb24gYXMgdGhlIHJlY29tbWVuZGVkIHVzYWdlIGZvciB0aGlzIGFjdGlvbiB0aHJvdWdoIHVwZGF0ZUNhdGVnb3J5IGZyb20gQHdvcmRwcmVzcy9ibG9ja3MuXG4gKlxuICogQGlnbm9yZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzbHVnICAgICBCbG9jayBjYXRlZ29yeSBzbHVnLlxuICogQHBhcmFtIHtPYmplY3R9IGNhdGVnb3J5IE9iamVjdCBjb250YWluaW5nIHRoZSBjYXRlZ29yeSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWQuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShzbHVnLCBjYXRlZ29yeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdVUERBVEVfQ0FURUdPUlknLFxuICAgIHNsdWcsXG4gICAgY2F0ZWdvcnlcbiAgfTtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gb2JqZWN0IHVzZWQgdG8gYWRkIGJsb2NrIGNvbGxlY3Rpb25zXG4gKiBJZ25vcmVkIGZyb20gZG9jdW1lbnRhdGlvbiBhcyB0aGUgcmVjb21tZW5kZWQgdXNhZ2UgZm9yIHRoaXMgYWN0aW9uIHRocm91Z2ggcmVnaXN0ZXJCbG9ja0NvbGxlY3Rpb24gZnJvbSBAd29yZHByZXNzL2Jsb2Nrcy5cbiAqXG4gKiBAaWdub3JlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIG9mIHRoZSBibG9ja3MgdG8gcHV0IGluIHRoZSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgICAgIFRoZSB0aXRsZSB0byBkaXNwbGF5IGluIHRoZSBibG9jayBpbnNlcnRlclxuICogQHBhcmFtIHtPYmplY3R9IGljb24gICAgICAob3B0aW9uYWwpIFRoZSBpY29uIHRvIGRpc3BsYXkgaW4gdGhlIGJsb2NrIGluc2VydGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBBY3Rpb24gb2JqZWN0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRCbG9ja0NvbGxlY3Rpb24obmFtZXNwYWNlLCB0aXRsZSwgaWNvbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdBRERfQkxPQ0tfQ09MTEVDVElPTicsXG4gICAgbmFtZXNwYWNlLFxuICAgIHRpdGxlLFxuICAgIGljb25cbiAgfTtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhY3Rpb24gb2JqZWN0IHVzZWQgdG8gcmVtb3ZlIGJsb2NrIGNvbGxlY3Rpb25zXG4gKiBJZ25vcmVkIGZyb20gZG9jdW1lbnRhdGlvbiBhcyB0aGUgcmVjb21tZW5kZWQgdXNhZ2UgZm9yIHRoaXMgYWN0aW9uIHRocm91Z2ggdW5yZWdpc3RlckJsb2NrQ29sbGVjdGlvbiBmcm9tIEB3b3JkcHJlc3MvYmxvY2tzLlxuICpcbiAqIEBpZ25vcmVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugb2YgdGhlIGJsb2NrcyB0byBwdXQgaW4gdGhlIGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IEFjdGlvbiBvYmplY3QuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUJsb2NrQ29sbGVjdGlvbihuYW1lc3BhY2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUkVNT1ZFX0JMT0NLX0NPTExFQ1RJT04nLFxuICAgIG5hbWVzcGFjZVxuICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWN0aW9ucy5qcy5tYXAiLCJleHBvcnQgY29uc3QgU1RPUkVfTkFNRSA9ICdjb3JlL2Jsb2Nrcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gKiB3b3JkcHJlc3MvcHJpdmF0ZS1hcGlzIOKAkyB0aGUgdXRpbGl0aWVzIHRvIGVuYWJsZSBwcml2YXRlIGNyb3NzLXBhY2thZ2VcbiAqIGV4cG9ydHMgb2YgcHJpdmF0ZSBBUElzLlxuICpcbiAqIFRoaXMgXCJpbXBsZW1lbnRhdGlvbi5qc1wiIGZpbGUgaXMgbmVlZGVkIGZvciB0aGUgc2FrZSBvZiB0aGUgdW5pdCB0ZXN0cy4gSXRcbiAqIGV4cG9ydHMgbW9yZSB0aGFuIHRoZSBwdWJsaWMgQVBJIG9mIHRoZSBwYWNrYWdlIHRvIGFpZCBpbiB0ZXN0aW5nLlxuICovXG5cbi8qKlxuICogVGhlIGxpc3Qgb2YgY29yZSBtb2R1bGVzIGFsbG93ZWQgdG8gb3B0LWluIHRvIHRoZSBwcml2YXRlIEFQSXMuXG4gKi9cbmNvbnN0IENPUkVfTU9EVUxFU19VU0lOR19QUklWQVRFX0FQSVMgPSBbJ0B3b3JkcHJlc3MvYmxvY2stZWRpdG9yJywgJ0B3b3JkcHJlc3MvYmxvY2stbGlicmFyeScsICdAd29yZHByZXNzL2Jsb2NrcycsICdAd29yZHByZXNzL2NvbXBvbmVudHMnLCAnQHdvcmRwcmVzcy9jdXN0b21pemUtd2lkZ2V0cycsICdAd29yZHByZXNzL2RhdGEnLCAnQHdvcmRwcmVzcy9lZGl0LXBvc3QnLCAnQHdvcmRwcmVzcy9lZGl0LXNpdGUnLCAnQHdvcmRwcmVzcy9lZGl0LXdpZGdldHMnLCAnQHdvcmRwcmVzcy9lZGl0b3InXTtcbi8qKlxuICogQSBsaXN0IG9mIGNvcmUgbW9kdWxlcyB0aGF0IGFscmVhZHkgb3B0ZWQtaW4gdG9cbiAqIHRoZSBwcml2YXRlQXBpcyBwYWNrYWdlLlxuICpcbiAqIEB0eXBlIHtzdHJpbmdbXX1cbiAqL1xuXG5jb25zdCByZWdpc3RlcmVkUHJpdmF0ZUFwaXMgPSBbXTtcbi8qXG4gKiBXYXJuaW5nIGZvciB0aGVtZSBhbmQgcGx1Z2luIGRldmVsb3BlcnMuXG4gKlxuICogVGhlIHVzZSBvZiBwcml2YXRlIGRldmVsb3BlciBBUElzIGlzIGludGVuZGVkIGZvciB1c2UgYnkgV29yZFByZXNzIENvcmVcbiAqIGFuZCB0aGUgR3V0ZW5iZXJnIHBsdWdpbiBleGNsdXNpdmVseS5cbiAqXG4gKiBEYW5nZXJvdXNseSBvcHRpbmcgaW4gdG8gdXNpbmcgdGhlc2UgQVBJcyBpcyBOT1QgUkVDT01NRU5ERUQuIEZ1cnRoZXJtb3JlLFxuICogdGhlIFdvcmRQcmVzcyBDb3JlIHBoaWxvc29waHkgdG8gc3RyaXZlIHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAqIGZvciB0aGlyZC1wYXJ0eSBkZXZlbG9wZXJzIERPRVMgTk9UIEFQUExZIHRvIHByaXZhdGUgQVBJcy5cbiAqXG4gKiBUSEUgQ09OU0VOVCBTVFJJTkcgRk9SIE9QVElORyBJTiBUTyBUSEVTRSBBUElTIE1BWSBDSEFOR0UgQVQgQU5ZIFRJTUUgQU5EXG4gKiBXSVRIT1VUIE5PVElDRS4gVEhJUyBDSEFOR0UgV0lMTCBCUkVBSyBFWElTVElORyBUSElSRC1QQVJUWSBDT0RFLiBTVUNIIEFcbiAqIENIQU5HRSBNQVkgT0NDVVIgSU4gRUlUSEVSIEEgTUFKT1IgT1IgTUlOT1IgUkVMRUFTRS5cbiAqL1xuXG5jb25zdCByZXF1aXJlZENvbnNlbnQgPSAnSSBrbm93IHVzaW5nIHVuc3RhYmxlIGZlYXR1cmVzIG1lYW5zIG15IHBsdWdpbiBvciB0aGVtZSB3aWxsIGluZXZpdGFibHkgYnJlYWsgb24gdGhlIG5leHQgV29yZFByZXNzIHJlbGVhc2UuJztcbi8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblxubGV0IGFsbG93UmVSZWdpc3RyYXRpb247IC8vIFRoZSBzYWZldHkgbWVhc3VyZSBpcyBtZWFudCBmb3IgV29yZFByZXNzIGNvcmUgd2hlcmUgSVNfV09SRFBSRVNTX0NPUkVcbi8vIGlzIHNldCB0byB0cnVlLlxuLy8gRm9yIHRoZSBnZW5lcmFsIHVzZS1jYXNlLCB0aGUgcmUtcmVnaXN0cmF0aW9uIHNob3VsZCBiZSBhbGxvd2VkIGJ5IGRlZmF1bHRcbi8vIExldCdzIGRlZmF1bHQgdG8gdHJ1ZSwgdGhlbi4gVHJ5L2NhdGNoIHdpbGwgZmFsbCBiYWNrIHRvIFwidHJ1ZVwiIGV2ZW4gaWYgdGhlXG4vLyBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgZXhwbGljaXRseSBkZWZpbmVkLlxuXG50cnkge1xuICBhbGxvd1JlUmVnaXN0cmF0aW9uID0gcHJvY2Vzcy5lbnYuSVNfV09SRFBSRVNTX0NPUkUgPyBmYWxzZSA6IHRydWU7XG59IGNhdGNoIChlcnJvcikge1xuICBhbGxvd1JlUmVnaXN0cmF0aW9uID0gdHJ1ZTtcbn1cbi8qKlxuICogQ2FsbGVkIGJ5IGEgQHdvcmRwcmVzcyBwYWNrYWdlIHdpc2hpbmcgdG8gb3B0LWluIHRvIGFjY2Vzc2luZyBvciBleHBvc2luZ1xuICogcHJpdmF0ZSBwcml2YXRlIEFQSXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnNlbnQgICAgVGhlIGNvbnNlbnQgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZU5hbWUgVGhlIG5hbWUgb2YgdGhlIG1vZHVsZSB0aGF0IGlzIG9wdGluZyBpbi5cbiAqIEByZXR1cm4ge3tsb2NrOiB0eXBlb2YgbG9jaywgdW5sb2NrOiB0eXBlb2YgdW5sb2NrfX0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGxvY2sgYW5kIHVubG9jayBmdW5jdGlvbnMuXG4gKi9cblxuXG5leHBvcnQgY29uc3QgX19kYW5nZXJvdXNPcHRJblRvVW5zdGFibGVBUElzT25seUZvckNvcmVNb2R1bGVzID0gKGNvbnNlbnQsIG1vZHVsZU5hbWUpID0+IHtcbiAgaWYgKCFDT1JFX01PRFVMRVNfVVNJTkdfUFJJVkFURV9BUElTLmluY2x1ZGVzKG1vZHVsZU5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBZb3UgdHJpZWQgdG8gb3B0LWluIHRvIHVuc3RhYmxlIEFQSXMgYXMgbW9kdWxlIFwiJHttb2R1bGVOYW1lfVwiLiBgICsgJ1RoaXMgZmVhdHVyZSBpcyBvbmx5IGZvciBKYXZhU2NyaXB0IG1vZHVsZXMgc2hpcHBlZCB3aXRoIFdvcmRQcmVzcyBjb3JlLiAnICsgJ1BsZWFzZSBkbyBub3QgdXNlIGl0IGluIHBsdWdpbnMgYW5kIHRoZW1lcyBhcyB0aGUgdW5zdGFibGUgQVBJcyB3aWxsIGJlIHJlbW92ZWQgJyArICd3aXRob3V0IGEgd2FybmluZy4gSWYgeW91IGlnbm9yZSB0aGlzIGVycm9yIGFuZCBkZXBlbmQgb24gdW5zdGFibGUgZmVhdHVyZXMsICcgKyAneW91ciBwcm9kdWN0IHdpbGwgaW5ldml0YWJseSBicmVhayBvbiBvbmUgb2YgdGhlIG5leHQgV29yZFByZXNzIHJlbGVhc2VzLicpO1xuICB9XG5cbiAgaWYgKCFhbGxvd1JlUmVnaXN0cmF0aW9uICYmIHJlZ2lzdGVyZWRQcml2YXRlQXBpcy5pbmNsdWRlcyhtb2R1bGVOYW1lKSkge1xuICAgIC8vIFRoaXMgY2hlY2sgZG9lc24ndCBwbGF5IHdlbGwgd2l0aCBTdG9yeSBCb29rcyAvIEhvdCBNb2R1bGUgUmVsb2FkaW5nXG4gICAgLy8gYW5kIGlzbid0IGluY2x1ZGVkIGluIHRoZSBHdXRlbmJlcmcgcGx1Z2luLiBJdCBvbmx5IG1hdHRlcnMgaW4gdGhlXG4gICAgLy8gV29yZFByZXNzIGNvcmUgcmVsZWFzZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFlvdSB0cmllZCB0byBvcHQtaW4gdG8gdW5zdGFibGUgQVBJcyBhcyBtb2R1bGUgXCIke21vZHVsZU5hbWV9XCIgd2hpY2ggaXMgYWxyZWFkeSByZWdpc3RlcmVkLiBgICsgJ1RoaXMgZmVhdHVyZSBpcyBvbmx5IGZvciBKYXZhU2NyaXB0IG1vZHVsZXMgc2hpcHBlZCB3aXRoIFdvcmRQcmVzcyBjb3JlLiAnICsgJ1BsZWFzZSBkbyBub3QgdXNlIGl0IGluIHBsdWdpbnMgYW5kIHRoZW1lcyBhcyB0aGUgdW5zdGFibGUgQVBJcyB3aWxsIGJlIHJlbW92ZWQgJyArICd3aXRob3V0IGEgd2FybmluZy4gSWYgeW91IGlnbm9yZSB0aGlzIGVycm9yIGFuZCBkZXBlbmQgb24gdW5zdGFibGUgZmVhdHVyZXMsICcgKyAneW91ciBwcm9kdWN0IHdpbGwgaW5ldml0YWJseSBicmVhayBvbiBvbmUgb2YgdGhlIG5leHQgV29yZFByZXNzIHJlbGVhc2VzLicpO1xuICB9XG5cbiAgaWYgKGNvbnNlbnQgIT09IHJlcXVpcmVkQ29uc2VudCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgWW91IHRyaWVkIHRvIG9wdC1pbiB0byB1bnN0YWJsZSBBUElzIHdpdGhvdXQgY29uZmlybWluZyB5b3Uga25vdyB0aGUgY29uc2VxdWVuY2VzLiBgICsgJ1RoaXMgZmVhdHVyZSBpcyBvbmx5IGZvciBKYXZhU2NyaXB0IG1vZHVsZXMgc2hpcHBlZCB3aXRoIFdvcmRQcmVzcyBjb3JlLiAnICsgJ1BsZWFzZSBkbyBub3QgdXNlIGl0IGluIHBsdWdpbnMgYW5kIHRoZW1lcyBhcyB0aGUgdW5zdGFibGUgQVBJcyB3aWxsIHJlbW92ZWQgJyArICd3aXRob3V0IGEgd2FybmluZy4gSWYgeW91IGlnbm9yZSB0aGlzIGVycm9yIGFuZCBkZXBlbmQgb24gdW5zdGFibGUgZmVhdHVyZXMsICcgKyAneW91ciBwcm9kdWN0IHdpbGwgaW5ldml0YWJseSBicmVhayBvbiB0aGUgbmV4dCBXb3JkUHJlc3MgcmVsZWFzZS4nKTtcbiAgfVxuXG4gIHJlZ2lzdGVyZWRQcml2YXRlQXBpcy5wdXNoKG1vZHVsZU5hbWUpO1xuICByZXR1cm4ge1xuICAgIGxvY2ssXG4gICAgdW5sb2NrXG4gIH07XG59O1xuLyoqXG4gKiBCaW5kcyBwcml2YXRlIGRhdGEgdG8gYW4gb2JqZWN0LlxuICogSXQgZG9lcyBub3QgYWx0ZXIgdGhlIHBhc3NlZCBvYmplY3QgaW4gYW55IHdheSwgb25seVxuICogcmVnaXN0ZXJzIGl0IGluIGFuIGludGVybmFsIG1hcCBvZiBwcml2YXRlIGRhdGEuXG4gKlxuICogVGhlIHByaXZhdGUgZGF0YSBjYW4ndCBiZSBhY2Nlc3NlZCBieSBhbnkgb3RoZXIgbWVhbnNcbiAqIHRoYW4gdGhlIGB1bmxvY2tgIGZ1bmN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogY29uc3Qgb2JqZWN0ID0ge307XG4gKiBjb25zdCBwcml2YXRlRGF0YSA9IHsgYTogMSB9O1xuICogbG9jayggb2JqZWN0LCBwcml2YXRlRGF0YSApO1xuICpcbiAqIG9iamVjdFxuICogLy8ge31cbiAqXG4gKiB1bmxvY2soIG9iamVjdCApO1xuICogLy8geyBhOiAxIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7YW55fSBvYmplY3QgICAgICBUaGUgb2JqZWN0IHRvIGJpbmQgdGhlIHByaXZhdGUgZGF0YSB0by5cbiAqIEBwYXJhbSB7YW55fSBwcml2YXRlRGF0YSBUaGUgcHJpdmF0ZSBkYXRhIHRvIGJpbmQgdG8gdGhlIG9iamVjdC5cbiAqL1xuXG5mdW5jdGlvbiBsb2NrKG9iamVjdCwgcHJpdmF0ZURhdGEpIHtcbiAgaWYgKCFvYmplY3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBsb2NrIGFuIHVuZGVmaW5lZCBvYmplY3QuJyk7XG4gIH1cblxuICBpZiAoIShfX3ByaXZhdGUgaW4gb2JqZWN0KSkge1xuICAgIG9iamVjdFtfX3ByaXZhdGVdID0ge307XG4gIH1cblxuICBsb2NrZWREYXRhLnNldChvYmplY3RbX19wcml2YXRlXSwgcHJpdmF0ZURhdGEpO1xufVxuLyoqXG4gKiBVbmxvY2tzIHRoZSBwcml2YXRlIGRhdGEgYm91bmQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEl0IGRvZXMgbm90IGFsdGVyIHRoZSBwYXNzZWQgb2JqZWN0IGluIGFueSB3YXksIG9ubHlcbiAqIHJldHVybnMgdGhlIHByaXZhdGUgZGF0YSBwYWlyZWQgd2l0aCBpdCB1c2luZyB0aGUgYGxvY2soKWBcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogY29uc3Qgb2JqZWN0ID0ge307XG4gKiBjb25zdCBwcml2YXRlRGF0YSA9IHsgYTogMSB9O1xuICogbG9jayggb2JqZWN0LCBwcml2YXRlRGF0YSApO1xuICpcbiAqIG9iamVjdFxuICogLy8ge31cbiAqXG4gKiB1bmxvY2soIG9iamVjdCApO1xuICogLy8geyBhOiAxIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7YW55fSBvYmplY3QgVGhlIG9iamVjdCB0byB1bmxvY2sgdGhlIHByaXZhdGUgZGF0YSBmcm9tLlxuICogQHJldHVybiB7YW55fSBUaGUgcHJpdmF0ZSBkYXRhIGJvdW5kIHRvIHRoZSBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiB1bmxvY2sob2JqZWN0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdW5sb2NrIGFuIHVuZGVmaW5lZCBvYmplY3QuJyk7XG4gIH1cblxuICBpZiAoIShfX3ByaXZhdGUgaW4gb2JqZWN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVubG9jayBhbiBvYmplY3QgdGhhdCB3YXMgbm90IGxvY2tlZCBiZWZvcmUuICcpO1xuICB9XG5cbiAgcmV0dXJuIGxvY2tlZERhdGEuZ2V0KG9iamVjdFtfX3ByaXZhdGVdKTtcbn1cblxuY29uc3QgbG9ja2VkRGF0YSA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFVzZWQgYnkgbG9jaygpIGFuZCB1bmxvY2soKSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGUgcHJpdmF0ZSBkYXRhXG4gKiByZWxhdGVkIHRvIGEgY29udGFpbmluZyBvYmplY3QuXG4gKi9cblxuY29uc3QgX19wcml2YXRlID0gU3ltYm9sKCdQcml2YXRlIEFQSSBJRCcpOyAvLyBVbml0IHRlc3RzIHV0aWxpdGllczpcblxuLyoqXG4gKiBQcml2YXRlIGZ1bmN0aW9uIHRvIGFsbG93IHRoZSB1bml0IHRlc3RzIHRvIGFsbG93XG4gKiBhIG1vY2sgbW9kdWxlIHRvIGFjY2VzcyB0aGUgcHJpdmF0ZSBBUElzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGUuXG4gKi9cblxuXG5leHBvcnQgZnVuY3Rpb24gYWxsb3dDb3JlTW9kdWxlKG5hbWUpIHtcbiAgQ09SRV9NT0RVTEVTX1VTSU5HX1BSSVZBVEVfQVBJUy5wdXNoKG5hbWUpO1xufVxuLyoqXG4gKiBQcml2YXRlIGZ1bmN0aW9uIHRvIGFsbG93IHRoZSB1bml0IHRlc3RzIHRvIHNldFxuICogYSBjdXN0b20gbGlzdCBvZiBhbGxvd2VkIG1vZHVsZXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0QWxsb3dlZENvcmVNb2R1bGVzKCkge1xuICB3aGlsZSAoQ09SRV9NT0RVTEVTX1VTSU5HX1BSSVZBVEVfQVBJUy5sZW5ndGgpIHtcbiAgICBDT1JFX01PRFVMRVNfVVNJTkdfUFJJVkFURV9BUElTLnBvcCgpO1xuICB9XG59XG4vKipcbiAqIFByaXZhdGUgZnVuY3Rpb24gdG8gYWxsb3cgdGhlIHVuaXQgdGVzdHMgdG8gcmVzZXRcbiAqIHRoZSBsaXN0IG9mIHJlZ2lzdGVyZWQgcHJpdmF0ZSBhcGlzLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFJlZ2lzdGVyZWRQcml2YXRlQXBpcygpIHtcbiAgd2hpbGUgKHJlZ2lzdGVyZWRQcml2YXRlQXBpcy5sZW5ndGgpIHtcbiAgICByZWdpc3RlcmVkUHJpdmF0ZUFwaXMucG9wKCk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltcGxlbWVudGF0aW9uLmpzLm1hcCIsIi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfX2Rhbmdlcm91c09wdEluVG9VbnN0YWJsZUFQSXNPbmx5Rm9yQ29yZU1vZHVsZXMgfSBmcm9tICdAd29yZHByZXNzL3ByaXZhdGUtYXBpcyc7XG5leHBvcnQgY29uc3Qge1xuICBsb2NrLFxuICB1bmxvY2tcbn0gPSBfX2Rhbmdlcm91c09wdEluVG9VbnN0YWJsZUFQSXNPbmx5Rm9yQ29yZU1vZHVsZXMoJ0kga25vdyB1c2luZyB1bnN0YWJsZSBmZWF0dXJlcyBtZWFucyBteSBwbHVnaW4gb3IgdGhlbWUgd2lsbCBpbmV2aXRhYmx5IGJyZWFrIG9uIHRoZSBuZXh0IFdvcmRQcmVzcyByZWxlYXNlLicsICdAd29yZHByZXNzL2Jsb2NrcycpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpdmF0ZS1hcGlzLmpzLm1hcCIsIi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBjcmVhdGVSZWR1eFN0b3JlLCByZWdpc3RlciB9IGZyb20gJ0B3b3JkcHJlc3MvZGF0YSc7XG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5cbmltcG9ydCByZWR1Y2VyIGZyb20gJy4vcmVkdWNlcic7XG5pbXBvcnQgKiBhcyBzZWxlY3RvcnMgZnJvbSAnLi9zZWxlY3RvcnMnO1xuaW1wb3J0ICogYXMgcHJpdmF0ZVNlbGVjdG9ycyBmcm9tICcuL3ByaXZhdGUtc2VsZWN0b3JzJztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCB7IFNUT1JFX05BTUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB1bmxvY2sgfSBmcm9tICcuLi9wcml2YXRlLWFwaXMnO1xuLyoqXG4gKiBTdG9yZSBkZWZpbml0aW9uIGZvciB0aGUgYmxvY2tzIG5hbWVzcGFjZS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Xb3JkUHJlc3MvZ3V0ZW5iZXJnL2Jsb2IvSEVBRC9wYWNrYWdlcy9kYXRhL1JFQURNRS5tZCNjcmVhdGVSZWR1eFN0b3JlXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG5leHBvcnQgY29uc3Qgc3RvcmUgPSBjcmVhdGVSZWR1eFN0b3JlKFNUT1JFX05BTUUsIHtcbiAgcmVkdWNlcixcbiAgc2VsZWN0b3JzLFxuICBhY3Rpb25zXG59KTtcbnJlZ2lzdGVyKHN0b3JlKTtcbnVubG9jayhzdG9yZSkucmVnaXN0ZXJQcml2YXRlU2VsZWN0b3JzKHByaXZhdGVTZWxlY3RvcnMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElubmVyQmxvY2tzIH0gZnJvbSAnQHdvcmRwcmVzcy9ibG9jay1lZGl0b3InO1xuXG4vKipcbiAqIFByZXZpZXcgcHJvdmlkZXIgY29tcG9uZW50IGZvciBzYXZlZCBzdHlsZXMgcHJldmlldyBnZW5lcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAgICAgICAgICBjb21wb25lbnQgcHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmNsaWVudElkIGJsb2NrIGNsaWVudCBpZFxuICogQGNsYXNzXG4gKi9cbmZ1bmN0aW9uIFByZXZpZXdQcm92aWRlcih7IGNsaWVudElkIH0pIHtcblx0ZnVuY3Rpb24gZ2VuZXJhdGVJZCgpIHtcblx0XHRyZXR1cm4gYHViLXByZXZpZXctcHJvdmlkZXJfJHtjbGllbnRJZH1gO1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8ZGl2IGNsYXNzTmFtZT17J3ViLXByZXZpZXctcHJvdmlkZXInfSBpZD17Z2VuZXJhdGVJZCgpfT5cblx0XHRcdDxJbm5lckJsb2NrcyAvPlxuXHRcdDwvZGl2PlxuXHQpO1xufVxuXG4vKipcbiAqIEBtb2R1bGUgUHJldmlld1Byb3ZpZGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFByZXZpZXdQcm92aWRlcjtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyByZWdpc3RlckJsb2NrVHlwZSB9IGZyb20gJ0B3b3JkcHJlc3MvYmxvY2tzJztcbmltcG9ydCBQcmV2aWV3UHJvdmlkZXIgZnJvbSAnQEluYy9qcy9jb21wb25lbnRzL1ByZXZpZXdQcm92aWRlci9QcmV2aWV3UHJvdmlkZXIuanN4JztcblxuLyoqXG4gKiBSZWdpc3RlciBwcmV2aWV3IG1hbmFnZXIgYmxvY2suXG4gKi9cbmNvbnN0IHJlZ2lzdGVyUHJldmlld01hbmFnZXIgPSAoKSA9PiB7XG5cdHJlZ2lzdGVyQmxvY2tUeXBlKCd1Yi9wcmV2aWV3LXByb3ZpZGVyJywge1xuXHRcdHRpdGxlOiBfXygnb25seSBmb3IgVUIgaW50ZXJuYWwgdXNlJywgJ3VsdGltYXRlLWJsb2NrcycpLFxuXHRcdGF0dHJpYnV0ZXM6IHt9LFxuXHRcdGNhdGVnb3J5OiAndWx0aW1hdGVibG9ja3MnLFxuXHRcdHN1cHBvcnRzOiB7XG5cdFx0XHRpbnNlcnRlcjogZmFsc2UsXG5cdFx0XHRyZXVzYWJsZTogZmFsc2UsXG5cdFx0fSxcblx0XHRlZGl0OiAocHJvcHMpID0+IHtcblx0XHRcdHJldHVybiA8UHJldmlld1Byb3ZpZGVyIHsuLi5wcm9wc30gLz47XG5cdFx0fSxcblx0XHRzYXZlOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHR9KTtcbn07XG5cbi8qKlxuICogQG1vZHVsZSByZWdpc3RlclByZXZpZXdNYW5hZ2VyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdGVyUHJldmlld01hbmFnZXI7XG4iXSwibmFtZXMiOlsiY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMiLCJzdG9yZU5hbWVzcGFjZSIsImNhbGxiYWNrIiwid2l0aERpc3BhdGNoIiwiZGlzcGF0Y2giLCJvd25Qcm9wcyIsInNlbGVjdCIsIm5hbWVzcGFjZWREaXNwYXRjaCIsIm5hbWVzcGFjZWRTZWxlY3QiLCJ3aXRoU2VsZWN0IiwicmVnaXN0cnkiLCJjb25uZWN0V2l0aFN0b3JlIiwic2VsZWN0TWFwcGluZyIsImFjdGlvbk1hcHBpbmciLCJuYW1lc3BhY2VkV2l0aERpc3BhdGNoIiwibmFtZXNwYWNlZFdpdGhTZWxlY3QiLCJhcHBseVNlbGVjdCIsInByb3BzIiwiYXBwbHlBY3Rpb24iLCJjb21wb3NlIiwiTWFuYWdlckJhc2UiLCJfX3ByaXZhdGVBZGQiLCJfaW5pdGlhbGl6ZWQiLCJfX3ByaXZhdGVHZXQiLCJfX3ByaXZhdGVTZXQiLCJGcm9udGVuZERhdGFNYW5hZ2VyIiwiX2Zyb250ZW5kRGF0YSIsImdsb2JhbE9iamVjdEtleSIsImNvbnRleHQiLCJrZXkiLCJkZWZhdWx0VmFsIiwiRnJvbnRlbmREYXRhTWFuYWdlciQxIiwiaG9va1R5cGVzIiwiSG9va01hbmFnZXIiLCJob29rTmFtZXNwYWNlIiwidHlwZXMiLCJwcmVwYXJlSG9va05hbWUiLCJuYW1lIiwidHlwZSIsImZpbHRlck5hbWUiLCJkYXRhIiwiYXBwbHlGaWx0ZXJzIiwidW5pcXVlSWRlbnRpZmllciIsImFkZEZpbHRlciIsIm1hbmFnZXJJbnN0YW5jZSIsIndpdGhIb29rTWFuYWdlciIsIkNvbXBvbmVudCIsImpzeCIsIl9fc3ByZWFkVmFsdWVzIiwidW5kZWZpbmVkIiwiVkVSU0lPTiIsIkxBUkdFX0FSUkFZX1NJWkUiLCJDT1JFX0VSUk9SX1RFWFQiLCJGVU5DX0VSUk9SX1RFWFQiLCJJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfTUVNT0laRV9TSVpFIiwiUExBQ0VIT0xERVIiLCJDTE9ORV9ERUVQX0ZMQUciLCJDTE9ORV9GTEFUX0ZMQUciLCJDTE9ORV9TWU1CT0xTX0ZMQUciLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsIkNPTVBBUkVfVU5PUkRFUkVEX0ZMQUciLCJXUkFQX0JJTkRfRkxBRyIsIldSQVBfQklORF9LRVlfRkxBRyIsIldSQVBfQ1VSUllfQk9VTkRfRkxBRyIsIldSQVBfQ1VSUllfRkxBRyIsIldSQVBfQ1VSUllfUklHSFRfRkxBRyIsIldSQVBfUEFSVElBTF9GTEFHIiwiV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUciLCJXUkFQX0FSWV9GTEFHIiwiV1JBUF9SRUFSR19GTEFHIiwiV1JBUF9GTElQX0ZMQUciLCJERUZBVUxUX1RSVU5DX0xFTkdUSCIsIkRFRkFVTFRfVFJVTkNfT01JU1NJT04iLCJIT1RfQ09VTlQiLCJIT1RfU1BBTiIsIkxBWllfRklMVEVSX0ZMQUciLCJMQVpZX01BUF9GTEFHIiwiTEFaWV9XSElMRV9GTEFHIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJNQVhfQVJSQVlfTEVOR1RIIiwiTUFYX0FSUkFZX0lOREVYIiwiSEFMRl9NQVhfQVJSQVlfTEVOR1RIIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYXN5bmNUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImRvbUV4Y1RhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm51bGxUYWciLCJvYmplY3RUYWciLCJwcm9taXNlVGFnIiwicHJveHlUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ1bmRlZmluZWRUYWciLCJ3ZWFrTWFwVGFnIiwid2Vha1NldFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJmbG9hdDMyVGFnIiwiZmxvYXQ2NFRhZyIsImludDhUYWciLCJpbnQxNlRhZyIsImludDMyVGFnIiwidWludDhUYWciLCJ1aW50OENsYW1wZWRUYWciLCJ1aW50MTZUYWciLCJ1aW50MzJUYWciLCJyZUVtcHR5U3RyaW5nTGVhZGluZyIsInJlRW1wdHlTdHJpbmdNaWRkbGUiLCJyZUVtcHR5U3RyaW5nVHJhaWxpbmciLCJyZUVzY2FwZWRIdG1sIiwicmVVbmVzY2FwZWRIdG1sIiwicmVIYXNFc2NhcGVkSHRtbCIsInJlSGFzVW5lc2NhcGVkSHRtbCIsInJlRXNjYXBlIiwicmVFdmFsdWF0ZSIsInJlSW50ZXJwb2xhdGUiLCJyZUlzRGVlcFByb3AiLCJyZUlzUGxhaW5Qcm9wIiwicmVQcm9wTmFtZSIsInJlUmVnRXhwQ2hhciIsInJlSGFzUmVnRXhwQ2hhciIsInJlVHJpbVN0YXJ0IiwicmVXaGl0ZXNwYWNlIiwicmVXcmFwQ29tbWVudCIsInJlV3JhcERldGFpbHMiLCJyZVNwbGl0RGV0YWlscyIsInJlQXNjaWlXb3JkIiwicmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQXN0cmFsUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJlQ29tYm9IYWxmTWFya3NSYW5nZSIsInJzQ29tYm9TeW1ib2xzUmFuZ2UiLCJyc0NvbWJvUmFuZ2UiLCJyc0RpbmdiYXRSYW5nZSIsInJzTG93ZXJSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc05vbkNoYXJSYW5nZSIsInJzUHVuY3R1YXRpb25SYW5nZSIsInJzU3BhY2VSYW5nZSIsInJzVXBwZXJSYW5nZSIsInJzVmFyUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc0Fwb3MiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNNb2RpZmllciIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNaV0oiLCJyc01pc2NMb3dlciIsInJzTWlzY1VwcGVyIiwicnNPcHRDb250ckxvd2VyIiwicnNPcHRDb250clVwcGVyIiwicmVPcHRNb2QiLCJyc09wdFZhciIsInJzT3B0Sm9pbiIsInJzT3JkTG93ZXIiLCJyc09yZFVwcGVyIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwiZGVidXJyZWRMZXR0ZXJzIiwiaHRtbEVzY2FwZXMiLCJodG1sVW5lc2NhcGVzIiwic3RyaW5nRXNjYXBlcyIsImZyZWVQYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwicm9vdCIsImZyZWVFeHBvcnRzIiwiZXhwb3J0cyIsImZyZWVNb2R1bGUiLCJtb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJub2RlVXRpbCIsImUiLCJub2RlSXNBcnJheUJ1ZmZlciIsIm5vZGVJc0RhdGUiLCJub2RlSXNNYXAiLCJub2RlSXNSZWdFeHAiLCJub2RlSXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiYXBwbHkiLCJmdW5jIiwidGhpc0FyZyIsImFyZ3MiLCJhcnJheUFnZ3JlZ2F0b3IiLCJhcnJheSIsInNldHRlciIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJpbmRleCIsImxlbmd0aCIsInZhbHVlIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsInJlc3VsdCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiY29tcGFyYXRvciIsImFycmF5TWFwIiwiYXJyYXlQdXNoIiwidmFsdWVzIiwib2Zmc2V0IiwiYXJyYXlSZWR1Y2UiLCJpbml0QWNjdW0iLCJhcnJheVJlZHVjZVJpZ2h0IiwiYXJyYXlTb21lIiwiYXNjaWlTaXplIiwiYmFzZVByb3BlcnR5IiwiYXNjaWlUb0FycmF5Iiwic3RyaW5nIiwiYXNjaWlXb3JkcyIsImJhc2VGaW5kS2V5IiwiY29sbGVjdGlvbiIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJvYmplY3QiLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJiYXNlU29ydEJ5IiwiY29tcGFyZXIiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwibiIsImJhc2VUb1BhaXJzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiZ2V0VmFsdWUiLCJoYXNVbmljb2RlIiwiaGFzVW5pY29kZVdvcmQiLCJpdGVyYXRvclRvQXJyYXkiLCJpdGVyYXRvciIsIm1hcFRvQXJyYXkiLCJtYXAiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0Iiwic2V0VG9QYWlycyIsInN0cmljdExhc3RJbmRleE9mIiwic3RyaW5nU2l6ZSIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsInVuaWNvZGVXb3JkcyIsInJ1bkluQ29udGV4dCIsIl8iLCJBcnJheSIsIkRhdGUiLCJFcnJvciIsIkZ1bmN0aW9uIiwiTWF0aCIsIk9iamVjdCIsIlJlZ0V4cCIsIlN0cmluZyIsIlR5cGVFcnJvciIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJoYXNPd25Qcm9wZXJ0eSIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlN5bWJvbCIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsInN5bUl0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJkZWZpbmVQcm9wZXJ0eSIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImN0eE5vdyIsImN0eFNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwiRGF0YVZpZXciLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInN5bWJvbFRvU3RyaW5nIiwibG9kYXNoIiwiaXNPYmplY3RMaWtlIiwiaXNBcnJheSIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VDcmVhdGUiLCJwcm90byIsImlzT2JqZWN0IiwiYmFzZUxvZGFzaCIsImNoYWluQWxsIiwibGF6eUNsb25lIiwiY29weUFycmF5IiwibGF6eVJldmVyc2UiLCJsYXp5VmFsdWUiLCJkaXIiLCJpc0FyciIsImlzUmlnaHQiLCJhcnJMZW5ndGgiLCJ2aWV3IiwiZ2V0VmlldyIsInN0YXJ0IiwiZW5kIiwiaXRlcmF0ZWVzIiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsImJhc2VXcmFwcGVyVmFsdWUiLCJvdXRlciIsIml0ZXJJbmRleCIsImNvbXB1dGVkIiwiSGFzaCIsImVudHJpZXMiLCJlbnRyeSIsImhhc2hDbGVhciIsImhhc2hEZWxldGUiLCJoYXNoR2V0IiwiaGFzaEhhcyIsImhhc2hTZXQiLCJMaXN0Q2FjaGUiLCJsaXN0Q2FjaGVDbGVhciIsImxpc3RDYWNoZURlbGV0ZSIsImFzc29jSW5kZXhPZiIsImxhc3RJbmRleCIsImxpc3RDYWNoZUdldCIsImxpc3RDYWNoZUhhcyIsImxpc3RDYWNoZVNldCIsIk1hcENhY2hlIiwibWFwQ2FjaGVDbGVhciIsIm1hcENhY2hlRGVsZXRlIiwiZ2V0TWFwRGF0YSIsIm1hcENhY2hlR2V0IiwibWFwQ2FjaGVIYXMiLCJtYXBDYWNoZVNldCIsInNpemUiLCJTZXRDYWNoZSIsInNldENhY2hlQWRkIiwic2V0Q2FjaGVIYXMiLCJTdGFjayIsInN0YWNrQ2xlYXIiLCJzdGFja0RlbGV0ZSIsInN0YWNrR2V0Iiwic3RhY2tIYXMiLCJzdGFja1NldCIsInBhaXJzIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc0J1ZmZlciIsImlzVHlwZSIsImlzVHlwZWRBcnJheSIsInNraXBJbmRleGVzIiwiaXNJbmRleCIsImFycmF5U2FtcGxlIiwiYmFzZVJhbmRvbSIsImFycmF5U2FtcGxlU2l6ZSIsInNodWZmbGVTZWxmIiwiYmFzZUNsYW1wIiwiYXJyYXlTaHVmZmxlIiwiYXNzaWduTWVyZ2VWYWx1ZSIsImVxIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwic291cmNlIiwiY29weU9iamVjdCIsImtleXMiLCJiYXNlQXNzaWduSW4iLCJrZXlzSW4iLCJiYXNlQXQiLCJwYXRocyIsInNraXAiLCJnZXQiLCJudW1iZXIiLCJsb3dlciIsInVwcGVyIiwiYmFzZUNsb25lIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImluaXRDbG9uZUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiY2xvbmVCdWZmZXIiLCJpbml0Q2xvbmVPYmplY3QiLCJjb3B5U3ltYm9sc0luIiwiY29weVN5bWJvbHMiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJpc1NldCIsInN1YlZhbHVlIiwiaXNNYXAiLCJrZXlzRnVuYyIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJzZXRUaW1lb3V0IiwiYmFzZURpZmZlcmVuY2UiLCJpbmNsdWRlcyIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwidmFsdWVzSW5kZXgiLCJjcmVhdGVCYXNlRWFjaCIsImJhc2VGb3JPd24iLCJiYXNlRWFjaFJpZ2h0IiwiYmFzZUZvck93blJpZ2h0IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiaXNTeW1ib2wiLCJiYXNlRmlsbCIsInRvSW50ZWdlciIsInRvTGVuZ3RoIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiZGVwdGgiLCJpc1N0cmljdCIsImlzRmxhdHRlbmFibGUiLCJiYXNlRm9yIiwiY3JlYXRlQmFzZUZvciIsImJhc2VGb3JSaWdodCIsImJhc2VGdW5jdGlvbnMiLCJpc0Z1bmN0aW9uIiwiYmFzZUdldCIsInBhdGgiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsIm90aGVyIiwiYmFzZUhhcyIsImJhc2VIYXNJbiIsImJhc2VJblJhbmdlIiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwic2VlbiIsImJhc2VJbnZlcnRlciIsImJhc2VJbnZva2UiLCJwYXJlbnQiLCJsYXN0IiwiYmFzZUlzQXJndW1lbnRzIiwiYmFzZUlzQXJyYXlCdWZmZXIiLCJiYXNlSXNEYXRlIiwiYmFzZUlzRXF1YWwiLCJiYXNlSXNFcXVhbERlZXAiLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsImVxdWFsT2JqZWN0cyIsImJhc2VJc01hcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJiYXNlSXNOYXRpdmUiLCJpc01hc2tlZCIsInBhdHRlcm4iLCJiYXNlSXNSZWdFeHAiLCJiYXNlSXNTZXQiLCJiYXNlSXNUeXBlZEFycmF5IiwiaXNMZW5ndGgiLCJiYXNlSXRlcmF0ZWUiLCJpZGVudGl0eSIsImJhc2VNYXRjaGVzUHJvcGVydHkiLCJiYXNlTWF0Y2hlcyIsInByb3BlcnR5IiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJiYXNlTWVyZ2VEZWVwIiwibmV3VmFsdWUiLCJzYWZlR2V0IiwibWVyZ2VGdW5jIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiY2xvbmVUeXBlZEFycmF5IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNyaXRlcmlhIiwiY29tcGFyZU11bHRpcGxlIiwiYmFzZVBpY2siLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQcm9wZXJ0eURlZXAiLCJiYXNlUHVsbEFsbCIsImluZGV4T2YiLCJiYXNlUHVsbEF0IiwiaW5kZXhlcyIsInByZXZpb3VzIiwiYmFzZVVuc2V0IiwiYmFzZVJhbmdlIiwic3RlcCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInNldFRvU3RyaW5nIiwib3ZlclJlc3QiLCJiYXNlU2FtcGxlIiwiYmFzZVNhbXBsZVNpemUiLCJuZXN0ZWQiLCJiYXNlU2V0RGF0YSIsImJhc2VTZXRUb1N0cmluZyIsImNvbnN0YW50IiwiYmFzZVNodWZmbGUiLCJiYXNlU2xpY2UiLCJiYXNlU29tZSIsImJhc2VTb3J0ZWRJbmRleCIsInJldEhpZ2hlc3QiLCJsb3ciLCJoaWdoIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYWN0aW9ucyIsImFjdGlvbiIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwidG9TdHJpbmciLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsImNsZWFyVGltZW91dCIsImlkIiwiYnVmZmVyIiwiY2xvbmVBcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiY2xvbmVEYXRhVmlldyIsImRhdGFWaWV3IiwiY2xvbmVSZWdFeHAiLCJyZWdleHAiLCJjbG9uZVN5bWJvbCIsInN5bWJvbCIsInR5cGVkQXJyYXkiLCJjb21wYXJlQXNjZW5kaW5nIiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJvYmpDcml0ZXJpYSIsIm90aENyaXRlcmlhIiwib3JkZXJzTGVuZ3RoIiwib3JkZXIiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJnZXRTeW1ib2xzIiwiZ2V0U3ltYm9sc0luIiwiY3JlYXRlQWdncmVnYXRvciIsImluaXRpYWxpemVyIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVCaW5kIiwiaXNCaW5kIiwiQ3RvciIsImNyZWF0ZUN0b3IiLCJ3cmFwcGVyIiwiZm4iLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwid29yZHMiLCJkZWJ1cnIiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUN1cnJ5IiwiYXJpdHkiLCJnZXRIb2xkZXIiLCJjcmVhdGVSZWN1cnJ5IiwiY3JlYXRlSHlicmlkIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBhcnRpYWxzUmlnaHQiLCJob2xkZXJzUmlnaHQiLCJhcmdQb3MiLCJhcnkiLCJpc0FyeSIsImlzQmluZEtleSIsImlzRmxpcCIsImhvbGRlcnNDb3VudCIsIm5ld0hvbGRlcnMiLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsIm9wZXJhdG9yIiwiZGVmYXVsdFZhbHVlIiwiY3JlYXRlT3ZlciIsImFycmF5RnVuYyIsImNyZWF0ZVBhZGRpbmciLCJjaGFycyIsImNoYXJzTGVuZ3RoIiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZVJhbmdlIiwidG9GaW5pdGUiLCJjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uIiwidG9OdW1iZXIiLCJ3cmFwRnVuYyIsImlzQ3VycnkiLCJuZXdIb2xkZXJzUmlnaHQiLCJuZXdQYXJ0aWFscyIsIm5ld1BhcnRpYWxzUmlnaHQiLCJuZXdEYXRhIiwic2V0RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwicGFpciIsIm5vb3AiLCJjcmVhdGVUb1BhaXJzIiwiY3JlYXRlV3JhcCIsIm1lcmdlRGF0YSIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiaXNQYXJ0aWFsIiwiYXJyU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJhcnJWYWx1ZSIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJjb252ZXJ0Iiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvdGhQcm9wcyIsIm9ialN0YWNrZWQiLCJza2lwQ3RvciIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZmxhdHRlbiIsIm90aGVyRnVuYyIsImlzS2V5YWJsZSIsImlzT3duIiwidW5tYXNrZWQiLCJzdHViQXJyYXkiLCJjdG9yU3RyaW5nIiwidHJhbnNmb3JtcyIsImdldFdyYXBEZXRhaWxzIiwibWF0Y2giLCJoYXNQYXRoIiwiaGFzRnVuYyIsImluc2VydFdyYXBEZXRhaWxzIiwiZGV0YWlscyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJtZW1vaXplQ2FwcGVkIiwibWVtb2l6ZSIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm90aGVyQXJncyIsIm9sZEFycmF5Iiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJ1cGRhdGVXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiY2h1bmsiLCJjb21wYWN0IiwiY29uY2F0IiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZyb21QYWlycyIsImhlYWQiLCJpbml0aWFsIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwiam9pbiIsInNlcGFyYXRvciIsImxhc3RJbmRleE9mIiwibnRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInB1bGxBdCIsInJlbW92ZSIsInJldmVyc2UiLCJzbGljZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic29ydGVkVW5pcSIsInNvcnRlZFVuaXFCeSIsInRhaWwiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bmlxIiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnppcCIsImdyb3VwIiwidW56aXBXaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJ6aXBXaXRoIiwiY2hhaW4iLCJ0YXAiLCJpbnRlcmNlcHRvciIsInRocnUiLCJ3cmFwcGVyQXQiLCJ3cmFwcGVyQ2hhaW4iLCJ3cmFwcGVyQ29tbWl0Iiwid3JhcHBlck5leHQiLCJ0b0FycmF5IiwiZG9uZSIsIndyYXBwZXJUb0l0ZXJhdG9yIiwid3JhcHBlclBsYW50IiwiY2xvbmUiLCJ3cmFwcGVyUmV2ZXJzZSIsIndyYXBwZWQiLCJ3cmFwcGVyVmFsdWUiLCJjb3VudEJ5IiwiZXZlcnkiLCJmaWx0ZXIiLCJmaW5kIiwiZmluZExhc3QiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmb3JFYWNoIiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImlzU3RyaW5nIiwiaW52b2tlTWFwIiwia2V5QnkiLCJvcmRlckJ5IiwicGFydGl0aW9uIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZWplY3QiLCJuZWdhdGUiLCJzYW1wbGUiLCJzYW1wbGVTaXplIiwic2h1ZmZsZSIsInNvbWUiLCJzb3J0QnkiLCJub3ciLCJhZnRlciIsImJlZm9yZSIsImJpbmQiLCJiaW5kS2V5IiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZGVib3VuY2UiLCJvcHRpb25zIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwiaW52b2tlRnVuYyIsInRpbWUiLCJsZWFkaW5nRWRnZSIsInRpbWVyRXhwaXJlZCIsInJlbWFpbmluZ1dhaXQiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRpbWVTaW5jZUxhc3RJbnZva2UiLCJ0aW1lV2FpdGluZyIsInNob3VsZEludm9rZSIsInRyYWlsaW5nRWRnZSIsImNhbmNlbCIsImZsdXNoIiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImRlZmVyIiwiZGVsYXkiLCJmbGlwIiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIm9uY2UiLCJvdmVyQXJncyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwicmVzdCIsInNwcmVhZCIsInRocm90dGxlIiwidW5hcnkiLCJ3cmFwIiwiY2FzdEFycmF5IiwiY2xvbmVXaXRoIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNvbmZvcm1zVG8iLCJndCIsImd0ZSIsImlzQXJyYXlCdWZmZXIiLCJpc0Jvb2xlYW4iLCJpc0RhdGUiLCJpc0VsZW1lbnQiLCJpc0VtcHR5IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNFcnJvciIsImlzRmluaXRlIiwiaXNJbnRlZ2VyIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYU4iLCJpc051bWJlciIsImlzTmF0aXZlIiwiaXNOdWxsIiwiaXNOaWwiLCJpc1JlZ0V4cCIsImlzU2FmZUludGVnZXIiLCJpc1VuZGVmaW5lZCIsImlzV2Vha01hcCIsImlzV2Vha1NldCIsImx0IiwibHRlIiwic2lnbiIsInJlbWFpbmRlciIsImlzQmluYXJ5IiwidG9TYWZlSW50ZWdlciIsImFzc2lnbiIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwiY3JlYXRlIiwicHJvdG90eXBlIiwicHJvcGVydGllcyIsImRlZmF1bHRzIiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsImhhcyIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1lcmdlIiwib21pdCIsIm9taXRCeSIsInBpY2tCeSIsInBpY2siLCJwcm9wIiwic2V0V2l0aCIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJpc0Fyckxpa2UiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsImNsYW1wIiwiaW5SYW5nZSIsInJhbmRvbSIsImZsb2F0aW5nIiwidGVtcCIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImVuZHNXaXRoIiwidGFyZ2V0IiwicG9zaXRpb24iLCJlc2NhcGUiLCJlc2NhcGVSZWdFeHAiLCJrZWJhYkNhc2UiLCJsb3dlckNhc2UiLCJsb3dlckZpcnN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicGFkU3RhcnQiLCJwYXJzZUludCIsInJhZGl4IiwicmVwZWF0IiwicmVwbGFjZSIsInNuYWtlQ2FzZSIsInNwbGl0IiwibGltaXQiLCJzdGFydENhc2UiLCJzdGFydHNXaXRoIiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJpc0VzY2FwaW5nIiwiaXNFdmFsdWF0aW5nIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJzb3VyY2VVUkwiLCJlc2NhcGVWYWx1ZSIsImludGVycG9sYXRlVmFsdWUiLCJlc1RlbXBsYXRlVmFsdWUiLCJldmFsdWF0ZVZhbHVlIiwidmFyaWFibGUiLCJhdHRlbXB0IiwidG9Mb3dlciIsInRvVXBwZXIiLCJ0cmltIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJzdWJzdHJpbmciLCJuZXdFbmQiLCJ1bmVzY2FwZSIsInVwcGVyQ2FzZSIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImNvbmQiLCJjb25mb3JtcyIsImRlZmF1bHRUbyIsImZsb3ciLCJmbG93UmlnaHQiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibWV0aG9kIiwibWV0aG9kT2YiLCJtaXhpbiIsIm5vQ29uZmxpY3QiLCJudGhBcmciLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJwcm9wZXJ0eU9mIiwicmFuZ2UiLCJyYW5nZVJpZ2h0Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsInRpbWVzIiwidG9QYXRoIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJhZGQiLCJhdWdlbmQiLCJhZGRlbmQiLCJjZWlsIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwiZmxvb3IiLCJtYXgiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW4iLCJtaW5CeSIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInJvdW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsInN1bSIsInN1bUJ5IiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsInRoaXMiLCJyIiwidCIsInUiLCJhIiwibyIsImkiLCJzIiwiaCIsImIiLCJnIiwiZCIsImYiLCJjIiwibCIsInAiLCJ2IiwibSIsInkiLCJOIiwieCIsIk0iLCJIIiwiJCIsImoiLCJ3IiwiUyIsImsiLCJuYW1lc1BsdWdpbiIsImExMXlQbHVnaW4iLCJjdG9yIiwicHJvdCIsIl9fYXNzaWduIiwic3RyIiwiREVGQVVMVF9TUExJVF9SRUdFWFAiLCJERUZBVUxUX1NUUklQX1JFR0VYUCIsIm5vQ2FzZSIsImlucHV0IiwiX2EiLCJzcGxpdFJlZ2V4cCIsIl9iIiwic3RyaXBSZWdleHAiLCJfYyIsIl9kIiwiZGVsaW1pdGVyIiwicmUiLCJwYXNjYWxDYXNlVHJhbnNmb3JtIiwiZmlyc3RDaGFyIiwibG93ZXJDaGFycyIsInBhc2NhbENhc2UiLCJjYW1lbENhc2VUcmFuc2Zvcm0iLCJsb2dnZWQiLCJkZXByZWNhdGVkIiwiZmVhdHVyZSIsInNpbmNlIiwidmVyc2lvbiIsImFsdGVybmF0aXZlIiwicGx1Z2luIiwibGluayIsImhpbnQiLCJwbHVnaW5NZXNzYWdlIiwic2luY2VNZXNzYWdlIiwidmVyc2lvbk1lc3NhZ2UiLCJ1c2VJbnN0ZWFkTWVzc2FnZSIsImxpbmtNZXNzYWdlIiwiaGludE1lc3NhZ2UiLCJtZXNzYWdlIiwiZG9BY3Rpb24iLCJCTE9DS19JQ09OX0RFRkFVTFQiLCJERVBSRUNBVEVEX0VOVFJZX0tFWVMiLCJfX0VYUEVSSU1FTlRBTF9TVFlMRV9QUk9QRVJUWSIsImkxOG5CbG9ja1NjaGVtYSIsInNlcnZlclNpZGVCbG9ja0RlZmluaXRpb25zIiwidW5zdGFibGVfX2Jvb3RzdHJhcFNlcnZlclNpZGVCbG9ja0RlZmluaXRpb25zIiwiZGVmaW5pdGlvbnMiLCJibG9ja05hbWUiLCJfcmVmIiwiX3JlZjIiLCJnZXRCbG9ja1NldHRpbmdzRnJvbU1ldGFkYXRhIiwiX3JlZjMiLCJ0ZXh0ZG9tYWluIiwibWV0YWRhdGEiLCJfX29ialJlc3QiLCJhbGxvd2VkRmllbGRzIiwiX3JlZjQiLCJ0cmFuc2xhdGVCbG9ja1NldHRpbmdVc2luZ0kxOG5TY2hlbWEiLCJyZWdpc3RlckJsb2NrVHlwZSIsImJsb2NrTmFtZU9yTWV0YWRhdGEiLCJibG9ja3NTdG9yZSIsImJsb2NrVHlwZSIsImkxOG5TY2hlbWEiLCJzZXR0aW5nVmFsdWUiLCJfeCIsImV4dGVuZCIsIklDT05fQ09MT1JTIiwiaXNWYWxpZEljb24iLCJpY29uIiwiaXNWYWxpZEVsZW1lbnQiLCJub3JtYWxpemVJY29uT2JqZWN0IiwiY29sb3JkQmdDb2xvciIsImNvbG9yZCIsImdldENvbG9yQ29udHJhc3QiLCJpY29uQ29sb3IiLCJtYXhDb250cmFzdCIsIl9fc3ByZWFkUHJvcHMiLCJERUZBVUxUX0NBVEVHT1JJRVMiLCJfXyIsImtleUJsb2NrVHlwZXNCeU5hbWUiLCJuZXdCbG9ja1R5cGVzIiwiYmxvY2siLCJnZXRVbmlxdWVJdGVtc0J5TmFtZSIsIml0ZW1zIiwiYWNjIiwiY3VycmVudEl0ZW0iLCJpdGVtIiwidW5wcm9jZXNzZWRCbG9ja1R5cGVzIiwic3RhdGUiLCJibG9ja1R5cGVzIiwiYmxvY2tTdHlsZXMiLCJzdHlsZSIsImJsb2NrVmFyaWF0aW9ucyIsInZhcmlhdGlvbiIsImNyZWF0ZUJsb2NrTmFtZVNldHRlclJlZHVjZXIiLCJzZXRBY3Rpb25UeXBlIiwiZGVmYXVsdEJsb2NrTmFtZSIsImZyZWVmb3JtRmFsbGJhY2tCbG9ja05hbWUiLCJ1bnJlZ2lzdGVyZWRGYWxsYmFja0Jsb2NrTmFtZSIsImdyb3VwaW5nQmxvY2tOYW1lIiwiY2F0ZWdvcmllcyIsInNsdWciLCJjYXRlZ29yeSIsImNvbGxlY3Rpb25zIiwicmVkdWNlciIsImNvbWJpbmVSZWR1Y2VycyIsIkxFQUZfS0VZIiwiYXJyYXlPZiIsImNyZWF0ZUNhY2hlIiwiaXNTaGFsbG93RXF1YWwiLCJjcmVhdGVTZWxlY3RvciIsInNlbGVjdG9yIiwiZ2V0RGVwZW5kYW50cyIsInJvb3RDYWNoZSIsIm5vcm1hbGl6ZWRHZXREZXBlbmRhbnRzIiwiZ2V0Q2FjaGUiLCJkZXBlbmRhbnRzIiwiaXNVbmlxdWVCeURlcGVuZGFudHMiLCJkZXBlbmRhbnQiLCJjbGVhciIsImNhbGxTZWxlY3RvciIsImxlbiIsIm5vZGUiLCJjaGFyYWN0ZXJNYXAiLCJhbGxBY2NlbnRzIiwiZmlyc3RBY2NlbnQiLCJtYXRjaGVyIiwicmVtb3ZlQWNjZW50cyIsImhhc0FjY2VudHMiLCJyZW1vdmVBY2NlbnRzTW9kdWxlIiwicmVtb3ZlQWNjZW50c18xIiwiZ2V0Tm9ybWFsaXplZEJsb2NrVHlwZSIsIm5hbWVPclR5cGUiLCJnZXRCbG9ja1R5cGUiLCJfX2V4cGVyaW1lbnRhbEdldFVucHJvY2Vzc2VkQmxvY2tUeXBlcyIsImdldEJsb2NrVHlwZXMiLCJnZXRCbG9ja1N0eWxlcyIsImdldEJsb2NrVmFyaWF0aW9ucyIsInNjb3BlIiwidmFyaWF0aW9ucyIsImdldEFjdGl2ZUJsb2NrVmFyaWF0aW9uIiwiYXR0cmlidXRlcyIsIl92YXJpYXRpb24kaXNBY3RpdmUiLCJhdHRyaWJ1dGVLZXlzIiwiZGVmaW5lZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGUiLCJnZXREZWZhdWx0QmxvY2tWYXJpYXRpb24iLCJpc0RlZmF1bHQiLCJnZXRDYXRlZ29yaWVzIiwiZ2V0Q29sbGVjdGlvbnMiLCJnZXREZWZhdWx0QmxvY2tOYW1lIiwiZ2V0RnJlZWZvcm1GYWxsYmFja0Jsb2NrTmFtZSIsImdldFVucmVnaXN0ZXJlZEZhbGxiYWNrQmxvY2tOYW1lIiwiZ2V0R3JvdXBpbmdCbG9ja05hbWUiLCJnZXRDaGlsZEJsb2NrTmFtZXMiLCJfYmxvY2tUeXBlJHBhcmVudCIsImdldEJsb2NrU3VwcG9ydCIsImRlZmF1bHRTdXBwb3J0cyIsImhhc0Jsb2NrU3VwcG9ydCIsImlzTWF0Y2hpbmdTZWFyY2hUZXJtIiwic2VhcmNoVGVybSIsIl9ibG9ja1R5cGUka2V5d29yZHMiLCJnZXROb3JtYWxpemVkU2VhcmNoVGVybSIsInBpcGUiLCJ0ZXJtIiwibm9ybWFsaXplZFNlYXJjaFRlcm0iLCJpc1NlYXJjaE1hdGNoIiwibm9ybWFsaXplZENhbmRpZGF0ZSIsImhhc0NoaWxkQmxvY2tzIiwiaGFzQ2hpbGRCbG9ja3NXaXRoSW5zZXJ0ZXJTdXBwb3J0IiwiY2hpbGRCbG9ja05hbWUiLCJfX2V4cGVyaW1lbnRhbEhhc0NvbnRlbnRSb2xlQXR0cmlidXRlIiwiYmxvY2tUeXBlTmFtZSIsIl9fZXhwZXJpbWVudGFsUm9sZSIsIl9zdGF0ZSRibG9ja1R5cGVzJGJsbyIsIlJPT1RfQkxPQ0tfU1VQUE9SVFMiLCJmaWx0ZXJFbGVtZW50QmxvY2tTdXBwb3J0cyIsImJsb2NrU3VwcG9ydHMiLCJlbGVtZW50Iiwic3VwcG9ydCIsImdldFN1cHBvcnRlZFN0eWxlcyIsIl9ibG9ja1R5cGUkc3VwcG9ydHMiLCJfYmxvY2tUeXBlJHN1cHBvcnRzJHMiLCJfYmxvY2tUeXBlJHN1cHBvcnRzMiIsIl9ibG9ja1R5cGUkc3VwcG9ydHMyJCIsIl9ibG9ja1R5cGUkc3VwcG9ydHMzIiwiX2Jsb2NrVHlwZSRzdXBwb3J0czMkIiwiX2Jsb2NrVHlwZSRzdXBwb3J0czMkMiIsIl9ibG9ja1R5cGUkc3VwcG9ydHMzJDMiLCJfYmxvY2tUeXBlJHN1cHBvcnRzNCIsInN1cHBvcnRLZXlzIiwic3BhY2luZ1R5cGUiLCJTVFlMRV9QUk9QRVJUWSIsInN0eWxlTmFtZSIsImVycm9yIiwid2FybiIsIkxFR0FDWV9DQVRFR09SWV9NQVBQSU5HIiwibWF5YmVGdW5jIiwicHJvY2Vzc0Jsb2NrVHlwZSIsImRlcHJlY2F0aW9uIiwiYWRkQmxvY2tUeXBlcyIsIl9fZXhwZXJpbWVudGFsUmVnaXN0ZXJCbG9ja1R5cGUiLCJwcm9jZXNzZWRCbG9ja1R5cGUiLCJfX2V4cGVyaW1lbnRhbFJlYXBwbHlCbG9ja1R5cGVGaWx0ZXJzIiwiX3JlZjUiLCJwcm9jZXNzZWRCbG9ja1R5cGVzIiwicmVtb3ZlQmxvY2tUeXBlcyIsIm5hbWVzIiwiYWRkQmxvY2tTdHlsZXMiLCJzdHlsZXMiLCJyZW1vdmVCbG9ja1N0eWxlcyIsInN0eWxlTmFtZXMiLCJhZGRCbG9ja1ZhcmlhdGlvbnMiLCJyZW1vdmVCbG9ja1ZhcmlhdGlvbnMiLCJ2YXJpYXRpb25OYW1lcyIsInNldERlZmF1bHRCbG9ja05hbWUiLCJzZXRGcmVlZm9ybUZhbGxiYWNrQmxvY2tOYW1lIiwic2V0VW5yZWdpc3RlcmVkRmFsbGJhY2tCbG9ja05hbWUiLCJzZXRHcm91cGluZ0Jsb2NrTmFtZSIsInNldENhdGVnb3JpZXMiLCJ1cGRhdGVDYXRlZ29yeSIsImFkZEJsb2NrQ29sbGVjdGlvbiIsIm5hbWVzcGFjZSIsInRpdGxlIiwicmVtb3ZlQmxvY2tDb2xsZWN0aW9uIiwiU1RPUkVfTkFNRSIsIkNPUkVfTU9EVUxFU19VU0lOR19QUklWQVRFX0FQSVMiLCJyZWdpc3RlcmVkUHJpdmF0ZUFwaXMiLCJyZXF1aXJlZENvbnNlbnQiLCJhbGxvd1JlUmVnaXN0cmF0aW9uIiwiX19kYW5nZXJvdXNPcHRJblRvVW5zdGFibGVBUElzT25seUZvckNvcmVNb2R1bGVzIiwiY29uc2VudCIsIm1vZHVsZU5hbWUiLCJsb2NrIiwidW5sb2NrIiwicHJpdmF0ZURhdGEiLCJfX3ByaXZhdGUiLCJsb2NrZWREYXRhIiwic3RvcmUiLCJjcmVhdGVSZWR1eFN0b3JlIiwic2VsZWN0b3JzIiwicmVnaXN0ZXIiLCJwcml2YXRlU2VsZWN0b3JzIiwiUHJldmlld1Byb3ZpZGVyIiwiY2xpZW50SWQiLCJnZW5lcmF0ZUlkIiwiSW5uZXJCbG9ja3MiLCJyZWdpc3RlclByZXZpZXdNYW5hZ2VyIl0sIm1hcHBpbmdzIjoicTZDQVNZLE1BQUNBLEdBQTJCQyxJQWdCaEMsQ0FBRSx1QkFmdUJDLEdBQ3hCQyxHQUFZLGFBQUMsQ0FBQ0MsRUFBVUMsRUFBVSxDQUFFLE9BQUFDLENBQU0sSUFBTyxDQUN2RCxNQUFNQyxFQUFxQkgsRUFBU0gs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QU0sRUFBUSxJQUFLLEVBQVEsSUFDbkMsRUFBUSxLQUFNLEVBQVEsS0FDdEIsRUFBUSxLQUFNLEVBQVEsS0FDdEIsRUFBUSxLQUVSLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUN6QyxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFDekMsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3hELEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDeEQsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3hELEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDeEQsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFDMUIsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQ3pDLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3ZFLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3ZFLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDeEQsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFDekMsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQ3pDLEVBQVUsSUFBTSxFQUFV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VSxXQUFXLFVBQVUsY0FBYyxVQUFVLEtBQUssVUFBVSxjQUFjLFVBQVUsY0FBYyxVQUFVLFNBQVMsVUFBVSxZQUFZLFVBQVUsTUFBTSxVQUFVLFVBQVUsVUFBVSxZQUFZLFVBQVUsV0FBVyxVQUFVLFdBQVcsVUFBVSxRQUFRLFVBQVUsTUFBTSxVQUFVLFdBQVcsVUFBVSxLQUFLLFVBQVUsU0FBUyxVQUFVLFFBQVEsVUFBVSxXQUFXLFVBQVUsWUFBWSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsT0FBTyxVQUFVLFFBQVEsVUFBVSxNQUFNLFVBQVUsT0FBTyxVQUFVLFdBQVcsVUFBVSxXQUFXLFVBQVUsY0FBYyxVQUFVLFVBQVUsVUFBVSxNQUFNLFVBQVUsWUFBWSxVQUFVLFlBQVksVUFBVSxjQUFjLFVBQVUsTUFBTSxVQUFVLGlCQUFpQixVQUFVLGFBQWEsVUFBVSxLQUFLLFVBQVUsTUFBTSxVQUFVLGVBQWUsVUFBVSxVQUFVLFVBQVUsa0JBQWtCLFVBQVUsYUFBYSxVQUFVLFVBQVUsVUFBVSxhQUFhLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxTQUFTLFVBQVUsVUFBVSxVQUFVLGVBQWUsVUFBVSxlQUFlLFVBQVUsWUFBWSxVQUFVLEtBQUssVUFBVSxnQkFBZ0IsVUFBVSxXQUFXLFVBQVUsY0FBYyxVQUFVLFFBQVEsVUFBVSxjQUFjLFVBQVUsZ0JBQWdCLFVBQVUsYUFBYSxVQUFVLGNBQWMsVUFBVSxlQUFlLFVBQVUsZ0JBQWdCLFVBQVUsUUFBUSxVQUFVLElBQUksVUFBVSxPQUFPLFVBQVUsYUFBYSxVQUFVLE9BQU8sVUFBVSxLQUFLLFVBQVUsUUFBUSxVQUFVLFlBQVksVUFBVSxVQUFVLFVBQVUsSUFBSSxVQUFVLE9BQU8sVUFBVSxVQUFVLFVBQVUsY0FBYyxVQUFVLEtBQUssVUFBVSxjQUFjLFVBQVUsT0FBTyxVQUFVLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxhQUFhLFVBQVUsZUFBZSxVQUFVLFlBQVksVUFBVSxTQUFTLFVBQVUsU0FBUyxVQUFVLE9BQU8sVUFB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LE1BQVFELEVBQ3JCQSxJQUU0Q0MsQ0FDN0MsOERDdlNJRyxHQUFlLENBQ2xCLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxLQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLEtBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxHQUFNLElBQ04sR0FBTSxJQUNOLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLEtBQ0wsRUFBSyxLQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEdBQU0sSUFDTixHQUFNLElBQ04sRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLEtBQ0wsRUFBSyxLQUNMLEdBQU0sSUFDTixHQUFNLElBQ04sRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLEtBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxHQUFNLElBQ04sR0FBTSxJQUNOLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxHQUFNLElBQ04sR0FBTSxJQUNOLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLEtBQ0wsRUFBSyxLQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxLQUNMLEVBQUssS0FDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixHQUFNLElBQ04sR0FBTSxJQUNOLEdBQU0sSUFDTixHQUFNLElBQ04sRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEdBQU0sSUFDTixHQUFNLElBQ04sR0FBTSxJQUNOLEdBQU0sSUFDTixHQUFNLElBQ04sR0FBTSxJQUNOLEdBQU0sSUFDTixFQUFLLElBQ0wsRUFBSyxJQUNMLEVBQUssSUFDTCxFQUFLLElBQ0wsR0FBTSxJQUNOLEVBQUssSUFDTCxFQUFLLElBQ0wsRUFBSyxJQUNMLEdBQU0sSUFDTixHQUFN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
